(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function ic(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ef={exports:{}},_a={},tf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function iE(){if(vg)return Ne;vg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function $(D,z,le){this.props=D,this.context=z,this.refs=q,this.updater=le||L}$.prototype.isReactComponent={},$.prototype.setState=function(D,z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,z,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function F(){}F.prototype=$.prototype;function Q(D,z,le){this.props=D,this.context=z,this.refs=q,this.updater=le||L}var B=Q.prototype=new F;B.constructor=Q,j(B,$.prototype),B.isPureReactComponent=!0;var Z=Array.isArray,K=Object.prototype.hasOwnProperty,re={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(D,z,le){var ye,ve={},Ae=null,Ce=null;if(z!=null)for(ye in z.ref!==void 0&&(Ce=z.ref),z.key!==void 0&&(Ae=""+z.key),z)K.call(z,ye)&&!C.hasOwnProperty(ye)&&(ve[ye]=z[ye]);var Ve=arguments.length-2;if(Ve===1)ve.children=le;else if(1<Ve){for(var Qe=Array(Ve),Et=0;Et<Ve;Et++)Qe[Et]=arguments[Et+2];ve.children=Qe}if(D&&D.defaultProps)for(ye in Ve=D.defaultProps,Ve)ve[ye]===void 0&&(ve[ye]=Ve[ye]);return{$$typeof:r,type:D,key:Ae,ref:Ce,props:ve,_owner:re.current}}function I(D,z){return{$$typeof:r,type:D.type,key:z,ref:D.ref,props:D.props,_owner:D._owner}}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return z[le]})}var V=/\/+/g;function A(D,z){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):z.toString(36)}function Se(D,z,le,ye,ve){var Ae=typeof D;(Ae==="undefined"||Ae==="boolean")&&(D=null);var Ce=!1;if(D===null)Ce=!0;else switch(Ae){case"string":case"number":Ce=!0;break;case"object":switch(D.$$typeof){case r:case e:Ce=!0}}if(Ce)return Ce=D,ve=ve(Ce),D=ye===""?"."+A(Ce,0):ye,Z(ve)?(le="",D!=null&&(le=D.replace(V,"$&/")+"/"),Se(ve,z,le,"",function(Et){return Et})):ve!=null&&(x(ve)&&(ve=I(ve,le+(!ve.key||Ce&&Ce.key===ve.key?"":(""+ve.key).replace(V,"$&/")+"/")+D)),z.push(ve)),1;if(Ce=0,ye=ye===""?".":ye+":",Z(D))for(var Ve=0;Ve<D.length;Ve++){Ae=D[Ve];var Qe=ye+A(Ae,Ve);Ce+=Se(Ae,z,le,Qe,ve)}else if(Qe=R(D),typeof Qe=="function")for(D=Qe.call(D),Ve=0;!(Ae=D.next()).done;)Ae=Ae.value,Qe=ye+A(Ae,Ve++),Ce+=Se(Ae,z,le,Qe,ve);else if(Ae==="object")throw z=String(D),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ke(D,z,le){if(D==null)return D;var ye=[],ve=0;return Se(D,ye,"","",function(Ae){return z.call(le,Ae,ve++)}),ye}function Ye(D){if(D._status===-1){var z=D._result;z=z(),z.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=z)}if(D._status===1)return D._result.default;throw D._result}var Oe={current:null},ie={transition:null},te={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:re};function G(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ke,forEach:function(D,z,le){ke(D,function(){z.apply(this,arguments)},le)},count:function(D){var z=0;return ke(D,function(){z++}),z},toArray:function(D){return ke(D,function(z){return z})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=$,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=Q,Ne.StrictMode=s,Ne.Suspense=g,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ne.act=G,Ne.cloneElement=function(D,z,le){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ye=j({},D.props),ve=D.key,Ae=D.ref,Ce=D._owner;if(z!=null){if(z.ref!==void 0&&(Ae=z.ref,Ce=re.current),z.key!==void 0&&(ve=""+z.key),D.type&&D.type.defaultProps)var Ve=D.type.defaultProps;for(Qe in z)K.call(z,Qe)&&!C.hasOwnProperty(Qe)&&(ye[Qe]=z[Qe]===void 0&&Ve!==void 0?Ve[Qe]:z[Qe])}var Qe=arguments.length-2;if(Qe===1)ye.children=le;else if(1<Qe){Ve=Array(Qe);for(var Et=0;Et<Qe;Et++)Ve[Et]=arguments[Et+2];ye.children=Ve}return{$$typeof:r,type:D.type,key:ve,ref:Ae,props:ye,_owner:Ce}},Ne.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:u,_context:D},D.Consumer=D},Ne.createElement=T,Ne.createFactory=function(D){var z=T.bind(null,D);return z.type=D,z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:d,render:D}},Ne.isValidElement=x,Ne.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:Ye}},Ne.memo=function(D,z){return{$$typeof:v,type:D,compare:z===void 0?null:z}},Ne.startTransition=function(D){var z=ie.transition;ie.transition={};try{D()}finally{ie.transition=z}},Ne.unstable_act=G,Ne.useCallback=function(D,z){return Oe.current.useCallback(D,z)},Ne.useContext=function(D){return Oe.current.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D){return Oe.current.useDeferredValue(D)},Ne.useEffect=function(D,z){return Oe.current.useEffect(D,z)},Ne.useId=function(){return Oe.current.useId()},Ne.useImperativeHandle=function(D,z,le){return Oe.current.useImperativeHandle(D,z,le)},Ne.useInsertionEffect=function(D,z){return Oe.current.useInsertionEffect(D,z)},Ne.useLayoutEffect=function(D,z){return Oe.current.useLayoutEffect(D,z)},Ne.useMemo=function(D,z){return Oe.current.useMemo(D,z)},Ne.useReducer=function(D,z,le){return Oe.current.useReducer(D,z,le)},Ne.useRef=function(D){return Oe.current.useRef(D)},Ne.useState=function(D){return Oe.current.useState(D)},Ne.useSyncExternalStore=function(D,z,le){return Oe.current.useSyncExternalStore(D,z,le)},Ne.useTransition=function(){return Oe.current.useTransition()},Ne.version="18.3.1",Ne}var _g;function md(){return _g||(_g=1,tf.exports=iE()),tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function sE(){if(wg)return _a;wg=1;var r=md(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(d,g,v){var w,S={},R=null,L=null;v!==void 0&&(R=""+v),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(L=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(S[w]=g[w]);if(d&&d.defaultProps)for(w in g=d.defaultProps,g)S[w]===void 0&&(S[w]=g[w]);return{$$typeof:e,type:d,key:R,ref:L,props:S,_owner:o.current}}return _a.Fragment=t,_a.jsx=h,_a.jsxs=h,_a}var Eg;function oE(){return Eg||(Eg=1,ef.exports=sE()),ef.exports}var X=oE(),Ee=md();const $e=ic(Ee);var Tu={},nf={exports:{}},en={},rf={exports:{}},sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tg;function aE(){return Tg||(Tg=1,function(r){function e(ie,te){var G=ie.length;ie.push(te);e:for(;0<G;){var D=G-1>>>1,z=ie[D];if(0<o(z,te))ie[D]=te,ie[G]=z,G=D;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var te=ie[0],G=ie.pop();if(G!==te){ie[0]=G;e:for(var D=0,z=ie.length,le=z>>>1;D<le;){var ye=2*(D+1)-1,ve=ie[ye],Ae=ye+1,Ce=ie[Ae];if(0>o(ve,G))Ae<z&&0>o(Ce,ve)?(ie[D]=Ce,ie[Ae]=G,D=Ae):(ie[D]=ve,ie[ye]=G,D=ye);else if(Ae<z&&0>o(Ce,G))ie[D]=Ce,ie[Ae]=G,D=Ae;else break e}}return te}function o(ie,te){var G=ie.sortIndex-te.sortIndex;return G!==0?G:ie.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var g=[],v=[],w=1,S=null,R=3,L=!1,j=!1,q=!1,$=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var te=t(v);te!==null;){if(te.callback===null)s(v);else if(te.startTime<=ie)s(v),te.sortIndex=te.expirationTime,e(g,te);else break;te=t(v)}}function Z(ie){if(q=!1,B(ie),!j)if(t(g)!==null)j=!0,Ye(K);else{var te=t(v);te!==null&&Oe(Z,te.startTime-ie)}}function K(ie,te){j=!1,q&&(q=!1,F(T),T=-1),L=!0;var G=R;try{for(B(te),S=t(g);S!==null&&(!(S.expirationTime>te)||ie&&!k());){var D=S.callback;if(typeof D=="function"){S.callback=null,R=S.priorityLevel;var z=D(S.expirationTime<=te);te=r.unstable_now(),typeof z=="function"?S.callback=z:S===t(g)&&s(g),B(te)}else s(g);S=t(g)}if(S!==null)var le=!0;else{var ye=t(v);ye!==null&&Oe(Z,ye.startTime-te),le=!1}return le}finally{S=null,R=G,L=!1}}var re=!1,C=null,T=-1,I=5,x=-1;function k(){return!(r.unstable_now()-x<I)}function V(){if(C!==null){var ie=r.unstable_now();x=ie;var te=!0;try{te=C(!0,ie)}finally{te?A():(re=!1,C=null)}}else re=!1}var A;if(typeof Q=="function")A=function(){Q(V)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ke=Se.port2;Se.port1.onmessage=V,A=function(){ke.postMessage(null)}}else A=function(){$(V,0)};function Ye(ie){C=ie,re||(re=!0,A())}function Oe(ie,te){T=$(function(){ie(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_continueExecution=function(){j||L||(j=!0,Ye(K))},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ie){switch(R){case 1:case 2:case 3:var te=3;break;default:te=R}var G=R;R=te;try{return ie()}finally{R=G}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ie,te){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var G=R;R=ie;try{return te()}finally{R=G}},r.unstable_scheduleCallback=function(ie,te,G){var D=r.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?D+G:D):G=D,ie){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=G+z,ie={id:w++,callback:te,priorityLevel:ie,startTime:G,expirationTime:z,sortIndex:-1},G>D?(ie.sortIndex=G,e(v,ie),t(g)===null&&ie===t(v)&&(q?(F(T),T=-1):q=!0,Oe(Z,G-D))):(ie.sortIndex=z,e(g,ie),j||L||(j=!0,Ye(K))),ie},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(ie){var te=R;return function(){var G=R;R=te;try{return ie.apply(this,arguments)}finally{R=G}}}}(sf)),sf}var Sg;function lE(){return Sg||(Sg=1,rf.exports=aE()),rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function uE(){if(Ig)return en;Ig=1;var r=md(),e=lE();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function u(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},S={};function R(n){return g.call(S,n)?!0:g.call(w,n)?!1:v.test(n)?S[n]=!0:(w[n]=!0,!1)}function L(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,i,a,c){if(i===null||typeof i>"u"||L(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function q(n,i,a,c,f,m,_){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=_}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$[n]=new q(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];$[i]=new q(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){$[n]=new q(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$[n]=new q(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$[n]=new q(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){$[n]=new q(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){$[n]=new q(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){$[n]=new q(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){$[n]=new q(n,5,!1,n.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function Q(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(F,Q);$[i]=new q(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(F,Q);$[i]=new q(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(F,Q);$[i]=new q(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){$[n]=new q(n,1,!1,n.toLowerCase(),null,!1,!1)}),$.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){$[n]=new q(n,1,!1,n.toLowerCase(),null,!0,!0)});function B(n,i,a,c){var f=$.hasOwnProperty(i)?$[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,a,f,c)&&(a=null),c||f===null?R(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):f.mustUseProperty?n[f.propertyName]=a===null?f.type===3?!1:"":a:(i=f.attributeName,c=f.attributeNamespace,a===null?n.removeAttribute(i):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var Z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),re=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),k=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ye=Symbol.for("react.lazy"),Oe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function te(n){return n===null||typeof n!="object"?null:(n=ie&&n[ie]||n["@@iterator"],typeof n=="function"?n:null)}var G=Object.assign,D;function z(n){if(D===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);D=i&&i[1]||""}return`
`+D+n}var le=!1;function ye(n,i){if(!n||le)return"";le=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var c=H}Reflect.construct(n,[],i)}else{try{i.call()}catch(H){c=H}n.call(i.prototype)}else{try{throw Error()}catch(H){c=H}n()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),m=c.stack.split(`
`),_=f.length-1,P=m.length-1;1<=_&&0<=P&&f[_]!==m[P];)P--;for(;1<=_&&0<=P;_--,P--)if(f[_]!==m[P]){if(_!==1||P!==1)do if(_--,P--,0>P||f[_]!==m[P]){var N=`
`+f[_].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),N}while(1<=_&&0<=P);break}}}finally{le=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?z(n):""}function ve(n){switch(n.tag){case 5:return z(n.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return n=ye(n.type,!1),n;case 11:return n=ye(n.type.render,!1),n;case 1:return n=ye(n.type,!0),n;default:return""}}function Ae(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case re:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case Se:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case k:return(n.displayName||"Context")+".Consumer";case x:return(n._context.displayName||"Context")+".Provider";case V:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ke:return i=n.displayName||null,i!==null?i:Ae(n.type)||"Memo";case Ye:i=n._payload,n=n._init;try{return Ae(n(i))}catch{}}return null}function Ce(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ve(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Et(n){var i=Qe(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){c=""+_,m.call(this,_)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function hr(n){n._valueTracker||(n._valueTracker=Et(n))}function rs(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Qe(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function _i(n,i){var a=i.checked;return G({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function is(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ve(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ao(n,i){i=i.checked,i!=null&&B(n,"checked",i,!1)}function Co(n,i){Ao(n,i);var a=Ve(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?ss(n,i.type,a):i.hasOwnProperty("defaultValue")&&ss(n,i.type,Ve(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function al(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function ss(n,i,a){(i!=="number"||Dr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var fr=Array.isArray;function dr(n,i,a,c){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Ve(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Ro(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return G({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function os(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(fr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Ve(a)}}function as(n,i){var a=Ve(i.value),c=Ve(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Po(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function mt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?mt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var pr,xo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=pr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Or(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ei=["Webkit","ms","Moz","O"];Object.keys(wi).forEach(function(n){Ei.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),wi[i]=wi[n]})});function ko(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||wi.hasOwnProperty(n)&&wi[n]?(""+i).trim():i+"px"}function Vo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=ko(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,f):n[a]=f}}var No=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(n,i){if(i){if(No[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Oo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ti=null;function ls(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var us=null,pn=null,Wn=null;function cs(n){if(n=ia(n)){if(typeof us!="function")throw Error(t(280));var i=n.stateNode;i&&(i=bl(i),us(n.stateNode,n.type,i))}}function Kn(n){pn?Wn?Wn.push(n):Wn=[n]:pn=n}function Lo(){if(pn){var n=pn,i=Wn;if(Wn=pn=null,cs(n),i)for(n=0;n<i.length;n++)cs(i[n])}}function Si(n,i){return n(i)}function Mo(){}var mr=!1;function bo(n,i,a){if(mr)return n(i,a);mr=!0;try{return Si(n,i,a)}finally{mr=!1,(pn!==null||Wn!==null)&&(Mo(),Lo())}}function at(n,i){var a=n.stateNode;if(a===null)return null;var c=bl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var hs=!1;if(d)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{hs=!1}function Ii(n,i,a,c,f,m,_,P,N){var H=Array.prototype.slice.call(arguments,3);try{i.apply(a,H)}catch(ee){this.onError(ee)}}var Ai=!1,fs=null,Pn=!1,Fo=null,Pc={onError:function(n){Ai=!0,fs=n}};function ds(n,i,a,c,f,m,_,P,N){Ai=!1,fs=null,Ii.apply(Pc,arguments)}function ll(n,i,a,c,f,m,_,P,N){if(ds.apply(this,arguments),Ai){if(Ai){var H=fs;Ai=!1,fs=null}else throw Error(t(198));Pn||(Pn=!0,Fo=H)}}function xn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Ci(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function kn(n){if(xn(n)!==n)throw Error(t(188))}function ul(n){var i=n.alternate;if(!i){if(i=xn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return kn(f),n;if(m===c)return kn(f),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=f,c=m;else{for(var _=!1,P=f.child;P;){if(P===a){_=!0,a=f,c=m;break}if(P===c){_=!0,c=f,a=m;break}P=P.sibling}if(!_){for(P=m.child;P;){if(P===a){_=!0,a=m,c=f;break}if(P===c){_=!0,c=m,a=f;break}P=P.sibling}if(!_)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function jo(n){return n=ul(n),n!==null?ps(n):null}function ps(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ps(n);if(i!==null)return i;n=n.sibling}return null}var ms=e.unstable_scheduleCallback,Uo=e.unstable_cancelCallback,cl=e.unstable_shouldYield,xc=e.unstable_requestPaint,Ge=e.unstable_now,hl=e.unstable_getCurrentPriorityLevel,Ri=e.unstable_ImmediatePriority,Lr=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,zo=e.unstable_LowPriority,fl=e.unstable_IdlePriority,Pi=null,sn=null;function dl(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Pi,n,void 0,(n.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:ml,Bo=Math.log,pl=Math.LN2;function ml(n){return n>>>=0,n===0?32:31-(Bo(n)/pl|0)|0}var gs=64,ys=4194304;function Mr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function xi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,f=n.suspendedLanes,m=n.pingedLanes,_=a&268435455;if(_!==0){var P=_&~f;P!==0?c=Mr(P):(m&=_,m!==0&&(c=Mr(m)))}else _=a&~f,_!==0?c=Mr(_):m!==0&&(c=Mr(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,m=i&-i,f>=m||f===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Bt(i),f=1<<a,c|=n[a],i&=~f;return c}function kc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes;0<m;){var _=31-Bt(m),P=1<<_,N=f[_];N===-1?((P&a)===0||(P&c)!==0)&&(f[_]=kc(P,i)):N<=i&&(n.expiredLanes|=P),m&=~P}}function on(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function ki(){var n=gs;return gs<<=1,(gs&4194240)===0&&(gs=64),n}function br(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Fr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Bt(i),n[i]=a}function Ke(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var f=31-Bt(a),m=1<<f;i[f]=0,c[f]=-1,n[f]=-1,a&=~m}}function jr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Bt(a),f=1<<c;f&i|n[c]&i&&(n[c]|=i),a&=~f}}var Le=0;function Ur(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var gl,vs,yl,vl,_l,$o=!1,Gn=[],Pt=null,Vn=null,Nn=null,zr=new Map,gn=new Map,Xn=[],Vc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wl(n,i){switch(n){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":zr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(i.pointerId)}}function Wt(n,i,a,c,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[f]},i!==null&&(i=ia(i),i!==null&&vs(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Nc(n,i,a,c,f){switch(i){case"focusin":return Pt=Wt(Pt,n,i,a,c,f),!0;case"dragenter":return Vn=Wt(Vn,n,i,a,c,f),!0;case"mouseover":return Nn=Wt(Nn,n,i,a,c,f),!0;case"pointerover":var m=f.pointerId;return zr.set(m,Wt(zr.get(m)||null,n,i,a,c,f)),!0;case"gotpointercapture":return m=f.pointerId,gn.set(m,Wt(gn.get(m)||null,n,i,a,c,f)),!0}return!1}function El(n){var i=Li(n.target);if(i!==null){var a=xn(i);if(a!==null){if(i=a.tag,i===13){if(i=Ci(a),i!==null){n.blockedOn=i,_l(n.priority,function(){yl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function yr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=_s(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);Ti=c,a.target.dispatchEvent(c),Ti=null}else return i=ia(a),i!==null&&vs(i),n.blockedOn=a,!1;i.shift()}return!0}function Vi(n,i,a){yr(n)&&a.delete(i)}function Tl(){$o=!1,Pt!==null&&yr(Pt)&&(Pt=null),Vn!==null&&yr(Vn)&&(Vn=null),Nn!==null&&yr(Nn)&&(Nn=null),zr.forEach(Vi),gn.forEach(Vi)}function Dn(n,i){n.blockedOn===i&&(n.blockedOn=null,$o||($o=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tl)))}function On(n){function i(f){return Dn(f,n)}if(0<Gn.length){Dn(Gn[0],n);for(var a=1;a<Gn.length;a++){var c=Gn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Pt!==null&&Dn(Pt,n),Vn!==null&&Dn(Vn,n),Nn!==null&&Dn(Nn,n),zr.forEach(i),gn.forEach(i),a=0;a<Xn.length;a++)c=Xn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Xn.length&&(a=Xn[0],a.blockedOn===null);)El(a),a.blockedOn===null&&Xn.shift()}var vr=Z.ReactCurrentBatchConfig,Br=!0;function et(n,i,a,c){var f=Le,m=vr.transition;vr.transition=null;try{Le=1,qo(n,i,a,c)}finally{Le=f,vr.transition=m}}function Dc(n,i,a,c){var f=Le,m=vr.transition;vr.transition=null;try{Le=4,qo(n,i,a,c)}finally{Le=f,vr.transition=m}}function qo(n,i,a,c){if(Br){var f=_s(n,i,a,c);if(f===null)qc(n,i,c,Ni,a),wl(n,c);else if(Nc(f,n,i,a,c))c.stopPropagation();else if(wl(n,c),i&4&&-1<Vc.indexOf(n)){for(;f!==null;){var m=ia(f);if(m!==null&&gl(m),m=_s(n,i,a,c),m===null&&qc(n,i,c,Ni,a),m===f)break;f=m}f!==null&&c.stopPropagation()}else qc(n,i,c,null,a)}}var Ni=null;function _s(n,i,a,c){if(Ni=null,n=ls(c),n=Li(n),n!==null)if(i=xn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Ci(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ni=n,null}function Ho(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hl()){case Ri:return 1;case Lr:return 4;case mn:case zo:return 16;case fl:return 536870912;default:return 16}default:return 16}}var an=null,ws=null,Kt=null;function Qo(){if(Kt)return Kt;var n,i=ws,a=i.length,c,f="value"in an?an.value:an.textContent,m=f.length;for(n=0;n<a&&i[n]===f[n];n++);var _=a-n;for(c=1;c<=_&&i[a-c]===f[m-c];c++);return Kt=f.slice(n,1<c?1-c:void 0)}function Es(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Yn(){return!0}function Wo(){return!1}function xt(n){function i(a,c,f,m,_){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var P in n)n.hasOwnProperty(P)&&(a=n[P],this[P]=a?a(m):m[P]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yn:Wo,this.isPropagationStopped=Wo,this}return G(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),i}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=xt(Ln),Jn=G({},Ln,{view:0,detail:0}),Oc=xt(Jn),Ss,_r,$r,Di=G({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==$r&&($r&&n.type==="mousemove"?(Ss=n.screenX-$r.screenX,_r=n.screenY-$r.screenY):_r=Ss=0,$r=n),Ss)},movementY:function(n){return"movementY"in n?n.movementY:_r}}),Is=xt(Di),Ko=G({},Di,{dataTransfer:0}),Sl=xt(Ko),As=G({},Jn,{relatedTarget:0}),Cs=xt(As),Il=G({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),wr=xt(Il),Al=G({},Ln,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Cl=xt(Al),Rl=G({},Ln,{data:0}),Go=xt(Rl),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Pl[n])?!!i[n]:!1}function Zn(){return xl}var l=G({},Jn,{key:function(n){if(n.key){var i=Rs[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Es(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$t[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zn,charCode:function(n){return n.type==="keypress"?Es(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Es(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=xt(l),y=G({},Di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=xt(y),M=G({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zn}),W=xt(M),ue=G({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=xt(ue),yt=G({},Di,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),be=xt(yt),Tt=[9,13,27,32],ht=d&&"CompositionEvent"in window,yn=null;d&&"documentMode"in document&&(yn=document.documentMode);var ln=d&&"TextEvent"in window&&!yn,Oi=d&&(!ht||yn&&8<yn&&11>=yn),Ps=" ",fp=!1;function dp(n,i){switch(n){case"keyup":return Tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xs=!1;function tw(n,i){switch(n){case"compositionend":return pp(i);case"keypress":return i.which!==32?null:(fp=!0,Ps);case"textInput":return n=i.data,n===Ps&&fp?null:n;default:return null}}function nw(n,i){if(xs)return n==="compositionend"||!ht&&dp(n,i)?(n=Qo(),Kt=ws=an=null,xs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oi&&i.locale!=="ko"?null:i.data;default:return null}}var rw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!rw[n.type]:i==="textarea"}function gp(n,i,a,c){Kn(c),i=Ol(i,"onChange"),0<i.length&&(a=new Ts("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var Xo=null,Yo=null;function iw(n){Op(n,0)}function kl(n){var i=Os(n);if(rs(i))return n}function sw(n,i){if(n==="change")return i}var yp=!1;if(d){var Lc;if(d){var Mc="oninput"in document;if(!Mc){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Mc=typeof vp.oninput=="function"}Lc=Mc}else Lc=!1;yp=Lc&&(!document.documentMode||9<document.documentMode)}function _p(){Xo&&(Xo.detachEvent("onpropertychange",wp),Yo=Xo=null)}function wp(n){if(n.propertyName==="value"&&kl(Yo)){var i=[];gp(i,Yo,n,ls(n)),bo(iw,i)}}function ow(n,i,a){n==="focusin"?(_p(),Xo=i,Yo=a,Xo.attachEvent("onpropertychange",wp)):n==="focusout"&&_p()}function aw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kl(Yo)}function lw(n,i){if(n==="click")return kl(i)}function uw(n,i){if(n==="input"||n==="change")return kl(i)}function cw(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Mn=typeof Object.is=="function"?Object.is:cw;function Jo(n,i){if(Mn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!g.call(i,f)||!Mn(n[f],i[f]))return!1}return!0}function Ep(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tp(n,i){var a=Ep(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ep(a)}}function Sp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Sp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ip(){for(var n=window,i=Dr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Dr(n.document)}return i}function bc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function hw(n){var i=Ip(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&Sp(a.ownerDocument.documentElement,a)){if(c!==null&&bc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=a.textContent.length,m=Math.min(c.start,f);c=c.end===void 0?m:Math.min(c.end,f),!n.extend&&m>c&&(f=c,c=m,m=f),f=Tp(a,m);var _=Tp(a,c);f&&_&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==_.node||n.focusOffset!==_.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(_.node,_.offset)):(i.setEnd(_.node,_.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var fw=d&&"documentMode"in document&&11>=document.documentMode,ks=null,Fc=null,Zo=null,jc=!1;function Ap(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jc||ks==null||ks!==Dr(c)||(c=ks,"selectionStart"in c&&bc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Zo&&Jo(Zo,c)||(Zo=c,c=Ol(Fc,"onSelect"),0<c.length&&(i=new Ts("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=ks)))}function Vl(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Vs={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},Uc={},Cp={};d&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Nl(n){if(Uc[n])return Uc[n];if(!Vs[n])return n;var i=Vs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cp)return Uc[n]=i[a];return n}var Rp=Nl("animationend"),Pp=Nl("animationiteration"),xp=Nl("animationstart"),kp=Nl("transitionend"),Vp=new Map,Np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(n,i){Vp.set(n,i),u(i,[n])}for(var zc=0;zc<Np.length;zc++){var Bc=Np[zc],dw=Bc.toLowerCase(),pw=Bc[0].toUpperCase()+Bc.slice(1);qr(dw,"on"+pw)}qr(Rp,"onAnimationEnd"),qr(Pp,"onAnimationIteration"),qr(xp,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(kp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function Dp(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,ll(c,i,void 0,n),n.currentTarget=null}function Op(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],f=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var _=c.length-1;0<=_;_--){var P=c[_],N=P.instance,H=P.currentTarget;if(P=P.listener,N!==m&&f.isPropagationStopped())break e;Dp(f,P,H),m=N}else for(_=0;_<c.length;_++){if(P=c[_],N=P.instance,H=P.currentTarget,P=P.listener,N!==m&&f.isPropagationStopped())break e;Dp(f,P,H),m=N}}}if(Pn)throw n=Fo,Pn=!1,Fo=null,n}function Je(n,i){var a=i[Xc];a===void 0&&(a=i[Xc]=new Set);var c=n+"__bubble";a.has(c)||(Lp(i,n,2,!1),a.add(c))}function $c(n,i,a){var c=0;i&&(c|=4),Lp(a,n,c,i)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function ta(n){if(!n[Dl]){n[Dl]=!0,s.forEach(function(a){a!=="selectionchange"&&(mw.has(a)||$c(a,!1,n),$c(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Dl]||(i[Dl]=!0,$c("selectionchange",!1,i))}}function Lp(n,i,a,c){switch(Ho(i)){case 1:var f=et;break;case 4:f=Dc;break;default:f=qo}a=f.bind(null,i,a,n),f=void 0,!hs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function qc(n,i,a,c,f){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var P=c.stateNode.containerInfo;if(P===f||P.nodeType===8&&P.parentNode===f)break;if(_===4)for(_=c.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;_=_.return}for(;P!==null;){if(_=Li(P),_===null)return;if(N=_.tag,N===5||N===6){c=m=_;continue e}P=P.parentNode}}c=c.return}bo(function(){var H=m,ee=ls(a),ne=[];e:{var J=Vp.get(n);if(J!==void 0){var ce=Ts,de=n;switch(n){case"keypress":if(Es(a)===0)break e;case"keydown":case"keyup":ce=p;break;case"focusin":de="focus",ce=Cs;break;case"focusout":de="blur",ce=Cs;break;case"beforeblur":case"afterblur":ce=Cs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Sl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=W;break;case Rp:case Pp:case xp:ce=wr;break;case kp:ce=We;break;case"scroll":ce=Oc;break;case"wheel":ce=be;break;case"copy":case"cut":case"paste":ce=Cl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=E}var pe=(i&4)!==0,lt=!pe&&n==="scroll",b=pe?J!==null?J+"Capture":null:J;pe=[];for(var O=H,U;O!==null;){U=O;var se=U.stateNode;if(U.tag===5&&se!==null&&(U=se,b!==null&&(se=at(O,b),se!=null&&pe.push(na(O,se,U)))),lt)break;O=O.return}0<pe.length&&(J=new ce(J,de,null,a,ee),ne.push({event:J,listeners:pe}))}}if((i&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",ce=n==="mouseout"||n==="pointerout",J&&a!==Ti&&(de=a.relatedTarget||a.fromElement)&&(Li(de)||de[Er]))break e;if((ce||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,ce?(de=a.relatedTarget||a.toElement,ce=H,de=de?Li(de):null,de!==null&&(lt=xn(de),de!==lt||de.tag!==5&&de.tag!==6)&&(de=null)):(ce=null,de=H),ce!==de)){if(pe=Is,se="onMouseLeave",b="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(pe=E,se="onPointerLeave",b="onPointerEnter",O="pointer"),lt=ce==null?J:Os(ce),U=de==null?J:Os(de),J=new pe(se,O+"leave",ce,a,ee),J.target=lt,J.relatedTarget=U,se=null,Li(ee)===H&&(pe=new pe(b,O+"enter",de,a,ee),pe.target=U,pe.relatedTarget=lt,se=pe),lt=se,ce&&de)t:{for(pe=ce,b=de,O=0,U=pe;U;U=Ns(U))O++;for(U=0,se=b;se;se=Ns(se))U++;for(;0<O-U;)pe=Ns(pe),O--;for(;0<U-O;)b=Ns(b),U--;for(;O--;){if(pe===b||b!==null&&pe===b.alternate)break t;pe=Ns(pe),b=Ns(b)}pe=null}else pe=null;ce!==null&&Mp(ne,J,ce,pe,!1),de!==null&&lt!==null&&Mp(ne,lt,de,pe,!0)}}e:{if(J=H?Os(H):window,ce=J.nodeName&&J.nodeName.toLowerCase(),ce==="select"||ce==="input"&&J.type==="file")var me=sw;else if(mp(J))if(yp)me=uw;else{me=aw;var _e=ow}else(ce=J.nodeName)&&ce.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(me=lw);if(me&&(me=me(n,H))){gp(ne,me,a,ee);break e}_e&&_e(n,J,H),n==="focusout"&&(_e=J._wrapperState)&&_e.controlled&&J.type==="number"&&ss(J,"number",J.value)}switch(_e=H?Os(H):window,n){case"focusin":(mp(_e)||_e.contentEditable==="true")&&(ks=_e,Fc=H,Zo=null);break;case"focusout":Zo=Fc=ks=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,Ap(ne,a,ee);break;case"selectionchange":if(fw)break;case"keydown":case"keyup":Ap(ne,a,ee)}var we;if(ht)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else xs?dp(n,a)&&(Ie="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Oi&&a.locale!=="ko"&&(xs||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&xs&&(we=Qo()):(an=ee,ws="value"in an?an.value:an.textContent,xs=!0)),_e=Ol(H,Ie),0<_e.length&&(Ie=new Go(Ie,n,null,a,ee),ne.push({event:Ie,listeners:_e}),we?Ie.data=we:(we=pp(a),we!==null&&(Ie.data=we)))),(we=ln?tw(n,a):nw(n,a))&&(H=Ol(H,"onBeforeInput"),0<H.length&&(ee=new Go("onBeforeInput","beforeinput",null,a,ee),ne.push({event:ee,listeners:H}),ee.data=we))}Op(ne,i)})}function na(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Ol(n,i){for(var a=i+"Capture",c=[];n!==null;){var f=n,m=f.stateNode;f.tag===5&&m!==null&&(f=m,m=at(n,a),m!=null&&c.unshift(na(n,m,f)),m=at(n,i),m!=null&&c.push(na(n,m,f))),n=n.return}return c}function Ns(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Mp(n,i,a,c,f){for(var m=i._reactName,_=[];a!==null&&a!==c;){var P=a,N=P.alternate,H=P.stateNode;if(N!==null&&N===c)break;P.tag===5&&H!==null&&(P=H,f?(N=at(a,m),N!=null&&_.unshift(na(a,N,P))):f||(N=at(a,m),N!=null&&_.push(na(a,N,P)))),a=a.return}_.length!==0&&n.push({event:i,listeners:_})}var gw=/\r\n?/g,yw=/\u0000|\uFFFD/g;function bp(n){return(typeof n=="string"?n:""+n).replace(gw,`
`).replace(yw,"")}function Ll(n,i,a){if(i=bp(i),bp(n)!==i&&a)throw Error(t(425))}function Ml(){}var Hc=null,Qc=null;function Wc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,vw=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(n){return Fp.resolve(null).then(n).catch(ww)}:Kc;function ww(n){setTimeout(function(){throw n})}function Gc(n,i){var a=i,c=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){n.removeChild(f),On(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);On(i)}function Hr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function jp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var Ds=Math.random().toString(36).slice(2),er="__reactFiber$"+Ds,ra="__reactProps$"+Ds,Er="__reactContainer$"+Ds,Xc="__reactEvents$"+Ds,Ew="__reactListeners$"+Ds,Tw="__reactHandles$"+Ds;function Li(n){var i=n[er];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Er]||a[er]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=jp(n);n!==null;){if(a=n[er])return a;n=jp(n)}return i}n=a,a=n.parentNode}return null}function ia(n){return n=n[er]||n[Er],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Os(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function bl(n){return n[ra]||null}var Yc=[],Ls=-1;function Qr(n){return{current:n}}function Ze(n){0>Ls||(n.current=Yc[Ls],Yc[Ls]=null,Ls--)}function Xe(n,i){Ls++,Yc[Ls]=n.current,n.current=i}var Wr={},Ot=Qr(Wr),Gt=Qr(!1),Mi=Wr;function Ms(n,i){var a=n.type.contextTypes;if(!a)return Wr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},m;for(m in a)f[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Xt(n){return n=n.childContextTypes,n!=null}function Fl(){Ze(Gt),Ze(Ot)}function Up(n,i,a){if(Ot.current!==Wr)throw Error(t(168));Xe(Ot,i),Xe(Gt,a)}function zp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,Ce(n)||"Unknown",f));return G({},a,c)}function jl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wr,Mi=Ot.current,Xe(Ot,n),Xe(Gt,Gt.current),!0}function Bp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=zp(n,i,Mi),c.__reactInternalMemoizedMergedChildContext=n,Ze(Gt),Ze(Ot),Xe(Ot,n)):Ze(Gt),Xe(Gt,a)}var Tr=null,Ul=!1,Jc=!1;function $p(n){Tr===null?Tr=[n]:Tr.push(n)}function Sw(n){Ul=!0,$p(n)}function Kr(){if(!Jc&&Tr!==null){Jc=!0;var n=0,i=Le;try{var a=Tr;for(Le=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Tr=null,Ul=!1}catch(f){throw Tr!==null&&(Tr=Tr.slice(n+1)),ms(Ri,Kr),f}finally{Le=i,Jc=!1}}return null}var bs=[],Fs=0,zl=null,Bl=0,vn=[],_n=0,bi=null,Sr=1,Ir="";function Fi(n,i){bs[Fs++]=Bl,bs[Fs++]=zl,zl=n,Bl=i}function qp(n,i,a){vn[_n++]=Sr,vn[_n++]=Ir,vn[_n++]=bi,bi=n;var c=Sr;n=Ir;var f=32-Bt(c)-1;c&=~(1<<f),a+=1;var m=32-Bt(i)+f;if(30<m){var _=f-f%5;m=(c&(1<<_)-1).toString(32),c>>=_,f-=_,Sr=1<<32-Bt(i)+f|a<<f|c,Ir=m+n}else Sr=1<<m|a<<f|c,Ir=n}function Zc(n){n.return!==null&&(Fi(n,1),qp(n,1,0))}function eh(n){for(;n===zl;)zl=bs[--Fs],bs[Fs]=null,Bl=bs[--Fs],bs[Fs]=null;for(;n===bi;)bi=vn[--_n],vn[_n]=null,Ir=vn[--_n],vn[_n]=null,Sr=vn[--_n],vn[_n]=null}var un=null,cn=null,tt=!1,bn=null;function Hp(n,i){var a=Sn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Qp(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,un=n,cn=Hr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,un=n,cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=bi!==null?{id:Sr,overflow:Ir}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Sn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,un=n,cn=null,!0):!1;default:return!1}}function th(n){return(n.mode&1)!==0&&(n.flags&128)===0}function nh(n){if(tt){var i=cn;if(i){var a=i;if(!Qp(n,i)){if(th(n))throw Error(t(418));i=Hr(a.nextSibling);var c=un;i&&Qp(n,i)?Hp(c,a):(n.flags=n.flags&-4097|2,tt=!1,un=n)}}else{if(th(n))throw Error(t(418));n.flags=n.flags&-4097|2,tt=!1,un=n}}}function Wp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;un=n}function $l(n){if(n!==un)return!1;if(!tt)return Wp(n),tt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Wc(n.type,n.memoizedProps)),i&&(i=cn)){if(th(n))throw Kp(),Error(t(418));for(;i;)Hp(n,i),i=Hr(i.nextSibling)}if(Wp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){cn=Hr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}cn=null}}else cn=un?Hr(n.stateNode.nextSibling):null;return!0}function Kp(){for(var n=cn;n;)n=Hr(n.nextSibling)}function js(){cn=un=null,tt=!1}function rh(n){bn===null?bn=[n]:bn.push(n)}var Iw=Z.ReactCurrentBatchConfig;function sa(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var f=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(_){var P=f.refs;_===null?delete P[m]:P[m]=_},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function ql(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Gp(n){var i=n._init;return i(n._payload)}function Xp(n){function i(b,O){if(n){var U=b.deletions;U===null?(b.deletions=[O],b.flags|=16):U.push(O)}}function a(b,O){if(!n)return null;for(;O!==null;)i(b,O),O=O.sibling;return null}function c(b,O){for(b=new Map;O!==null;)O.key!==null?b.set(O.key,O):b.set(O.index,O),O=O.sibling;return b}function f(b,O){return b=ni(b,O),b.index=0,b.sibling=null,b}function m(b,O,U){return b.index=U,n?(U=b.alternate,U!==null?(U=U.index,U<O?(b.flags|=2,O):U):(b.flags|=2,O)):(b.flags|=1048576,O)}function _(b){return n&&b.alternate===null&&(b.flags|=2),b}function P(b,O,U,se){return O===null||O.tag!==6?(O=Kh(U,b.mode,se),O.return=b,O):(O=f(O,U),O.return=b,O)}function N(b,O,U,se){var me=U.type;return me===C?ee(b,O,U.props.children,se,U.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ye&&Gp(me)===O.type)?(se=f(O,U.props),se.ref=sa(b,O,U),se.return=b,se):(se=pu(U.type,U.key,U.props,null,b.mode,se),se.ref=sa(b,O,U),se.return=b,se)}function H(b,O,U,se){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Gh(U,b.mode,se),O.return=b,O):(O=f(O,U.children||[]),O.return=b,O)}function ee(b,O,U,se,me){return O===null||O.tag!==7?(O=Qi(U,b.mode,se,me),O.return=b,O):(O=f(O,U),O.return=b,O)}function ne(b,O,U){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Kh(""+O,b.mode,U),O.return=b,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return U=pu(O.type,O.key,O.props,null,b.mode,U),U.ref=sa(b,null,O),U.return=b,U;case re:return O=Gh(O,b.mode,U),O.return=b,O;case Ye:var se=O._init;return ne(b,se(O._payload),U)}if(fr(O)||te(O))return O=Qi(O,b.mode,U,null),O.return=b,O;ql(b,O)}return null}function J(b,O,U,se){var me=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return me!==null?null:P(b,O,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===me?N(b,O,U,se):null;case re:return U.key===me?H(b,O,U,se):null;case Ye:return me=U._init,J(b,O,me(U._payload),se)}if(fr(U)||te(U))return me!==null?null:ee(b,O,U,se,null);ql(b,U)}return null}function ce(b,O,U,se,me){if(typeof se=="string"&&se!==""||typeof se=="number")return b=b.get(U)||null,P(O,b,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case K:return b=b.get(se.key===null?U:se.key)||null,N(O,b,se,me);case re:return b=b.get(se.key===null?U:se.key)||null,H(O,b,se,me);case Ye:var _e=se._init;return ce(b,O,U,_e(se._payload),me)}if(fr(se)||te(se))return b=b.get(U)||null,ee(O,b,se,me,null);ql(O,se)}return null}function de(b,O,U,se){for(var me=null,_e=null,we=O,Ie=O=0,At=null;we!==null&&Ie<U.length;Ie++){we.index>Ie?(At=we,we=null):At=we.sibling;var qe=J(b,we,U[Ie],se);if(qe===null){we===null&&(we=At);break}n&&we&&qe.alternate===null&&i(b,we),O=m(qe,O,Ie),_e===null?me=qe:_e.sibling=qe,_e=qe,we=At}if(Ie===U.length)return a(b,we),tt&&Fi(b,Ie),me;if(we===null){for(;Ie<U.length;Ie++)we=ne(b,U[Ie],se),we!==null&&(O=m(we,O,Ie),_e===null?me=we:_e.sibling=we,_e=we);return tt&&Fi(b,Ie),me}for(we=c(b,we);Ie<U.length;Ie++)At=ce(we,b,Ie,U[Ie],se),At!==null&&(n&&At.alternate!==null&&we.delete(At.key===null?Ie:At.key),O=m(At,O,Ie),_e===null?me=At:_e.sibling=At,_e=At);return n&&we.forEach(function(ri){return i(b,ri)}),tt&&Fi(b,Ie),me}function pe(b,O,U,se){var me=te(U);if(typeof me!="function")throw Error(t(150));if(U=me.call(U),U==null)throw Error(t(151));for(var _e=me=null,we=O,Ie=O=0,At=null,qe=U.next();we!==null&&!qe.done;Ie++,qe=U.next()){we.index>Ie?(At=we,we=null):At=we.sibling;var ri=J(b,we,qe.value,se);if(ri===null){we===null&&(we=At);break}n&&we&&ri.alternate===null&&i(b,we),O=m(ri,O,Ie),_e===null?me=ri:_e.sibling=ri,_e=ri,we=At}if(qe.done)return a(b,we),tt&&Fi(b,Ie),me;if(we===null){for(;!qe.done;Ie++,qe=U.next())qe=ne(b,qe.value,se),qe!==null&&(O=m(qe,O,Ie),_e===null?me=qe:_e.sibling=qe,_e=qe);return tt&&Fi(b,Ie),me}for(we=c(b,we);!qe.done;Ie++,qe=U.next())qe=ce(we,b,Ie,qe.value,se),qe!==null&&(n&&qe.alternate!==null&&we.delete(qe.key===null?Ie:qe.key),O=m(qe,O,Ie),_e===null?me=qe:_e.sibling=qe,_e=qe);return n&&we.forEach(function(rE){return i(b,rE)}),tt&&Fi(b,Ie),me}function lt(b,O,U,se){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:e:{for(var me=U.key,_e=O;_e!==null;){if(_e.key===me){if(me=U.type,me===C){if(_e.tag===7){a(b,_e.sibling),O=f(_e,U.props.children),O.return=b,b=O;break e}}else if(_e.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Ye&&Gp(me)===_e.type){a(b,_e.sibling),O=f(_e,U.props),O.ref=sa(b,_e,U),O.return=b,b=O;break e}a(b,_e);break}else i(b,_e);_e=_e.sibling}U.type===C?(O=Qi(U.props.children,b.mode,se,U.key),O.return=b,b=O):(se=pu(U.type,U.key,U.props,null,b.mode,se),se.ref=sa(b,O,U),se.return=b,b=se)}return _(b);case re:e:{for(_e=U.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){a(b,O.sibling),O=f(O,U.children||[]),O.return=b,b=O;break e}else{a(b,O);break}else i(b,O);O=O.sibling}O=Gh(U,b.mode,se),O.return=b,b=O}return _(b);case Ye:return _e=U._init,lt(b,O,_e(U._payload),se)}if(fr(U))return de(b,O,U,se);if(te(U))return pe(b,O,U,se);ql(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,O!==null&&O.tag===6?(a(b,O.sibling),O=f(O,U),O.return=b,b=O):(a(b,O),O=Kh(U,b.mode,se),O.return=b,b=O),_(b)):a(b,O)}return lt}var Us=Xp(!0),Yp=Xp(!1),Hl=Qr(null),Ql=null,zs=null,ih=null;function sh(){ih=zs=Ql=null}function oh(n){var i=Hl.current;Ze(Hl),n._currentValue=i}function ah(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function Bs(n,i){Ql=n,ih=zs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Yt=!0),n.firstContext=null)}function wn(n){var i=n._currentValue;if(ih!==n)if(n={context:n,memoizedValue:i,next:null},zs===null){if(Ql===null)throw Error(t(308));zs=n,Ql.dependencies={lanes:0,firstContext:n}}else zs=zs.next=n;return i}var ji=null;function lh(n){ji===null?ji=[n]:ji.push(n)}function Jp(n,i,a,c){var f=i.interleaved;return f===null?(a.next=a,lh(i)):(a.next=f.next,f.next=a),i.interleaved=a,Ar(n,c)}function Ar(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var Gr=!1;function uh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Cr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Xr(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ze&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Ar(n,a)}return f=c.interleaved,f===null?(i.next=i,lh(c)):(i.next=f.next,f.next=i),c.interleaved=i,Ar(n,a)}function Wl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,jr(n,a)}}function em(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Kl(n,i,a,c){var f=n.updateQueue;Gr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,P=f.shared.pending;if(P!==null){f.shared.pending=null;var N=P,H=N.next;N.next=null,_===null?m=H:_.next=H,_=N;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,P=ee.lastBaseUpdate,P!==_&&(P===null?ee.firstBaseUpdate=H:P.next=H,ee.lastBaseUpdate=N))}if(m!==null){var ne=f.baseState;_=0,ee=H=N=null,P=m;do{var J=P.lane,ce=P.eventTime;if((c&J)===J){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=n,pe=P;switch(J=i,ce=a,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){ne=de.call(ce,ne,J);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,J=typeof de=="function"?de.call(ce,ne,J):de,J==null)break e;ne=G({},ne,J);break e;case 2:Gr=!0}}P.callback!==null&&P.lane!==0&&(n.flags|=64,J=f.effects,J===null?f.effects=[P]:J.push(P))}else ce={eventTime:ce,lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ee===null?(H=ee=ce,N=ne):ee=ee.next=ce,_|=J;if(P=P.next,P===null){if(P=f.shared.pending,P===null)break;J=P,P=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);if(ee===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=ee,i=f.shared.interleaved,i!==null){f=i;do _|=f.lane,f=f.next;while(f!==i)}else m===null&&(f.shared.lanes=0);Bi|=_,n.lanes=_,n.memoizedState=ne}}function tm(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var oa={},tr=Qr(oa),aa=Qr(oa),la=Qr(oa);function Ui(n){if(n===oa)throw Error(t(174));return n}function ch(n,i){switch(Xe(la,i),Xe(aa,n),Xe(tr,oa),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:gt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=gt(i,n)}Ze(tr),Xe(tr,i)}function $s(){Ze(tr),Ze(aa),Ze(la)}function nm(n){Ui(la.current);var i=Ui(tr.current),a=gt(i,n.type);i!==a&&(Xe(aa,n),Xe(tr,a))}function hh(n){aa.current===n&&(Ze(tr),Ze(aa))}var nt=Qr(0);function Gl(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fh=[];function dh(){for(var n=0;n<fh.length;n++)fh[n]._workInProgressVersionPrimary=null;fh.length=0}var Xl=Z.ReactCurrentDispatcher,ph=Z.ReactCurrentBatchConfig,zi=0,rt=null,vt=null,St=null,Yl=!1,ua=!1,ca=0,Aw=0;function Lt(){throw Error(t(321))}function mh(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Mn(n[a],i[a]))return!1;return!0}function gh(n,i,a,c,f,m){if(zi=m,rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Xl.current=n===null||n.memoizedState===null?xw:kw,n=a(c,f),ua){m=0;do{if(ua=!1,ca=0,25<=m)throw Error(t(301));m+=1,St=vt=null,i.updateQueue=null,Xl.current=Vw,n=a(c,f)}while(ua)}if(Xl.current=eu,i=vt!==null&&vt.next!==null,zi=0,St=vt=rt=null,Yl=!1,i)throw Error(t(300));return n}function yh(){var n=ca!==0;return ca=0,n}function nr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?rt.memoizedState=St=n:St=St.next=n,St}function En(){if(vt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var i=St===null?rt.memoizedState:St.next;if(i!==null)St=i,vt=n;else{if(n===null)throw Error(t(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?rt.memoizedState=St=n:St=St.next=n}return St}function ha(n,i){return typeof i=="function"?i(n):i}function vh(n){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=vt,f=c.baseQueue,m=a.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}c.baseQueue=f=m,a.pending=null}if(f!==null){m=f.next,c=c.baseState;var P=_=null,N=null,H=m;do{var ee=H.lane;if((zi&ee)===ee)N!==null&&(N=N.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:n(c,H.action);else{var ne={lane:ee,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};N===null?(P=N=ne,_=c):N=N.next=ne,rt.lanes|=ee,Bi|=ee}H=H.next}while(H!==null&&H!==m);N===null?_=c:N.next=P,Mn(c,i.memoizedState)||(Yt=!0),i.memoizedState=c,i.baseState=_,i.baseQueue=N,a.lastRenderedState=c}if(n=a.interleaved,n!==null){f=n;do m=f.lane,rt.lanes|=m,Bi|=m,f=f.next;while(f!==n)}else f===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function _h(n){var i=En(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);Mn(m,i.memoizedState)||(Yt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function rm(){}function im(n,i){var a=rt,c=En(),f=i(),m=!Mn(c.memoizedState,f);if(m&&(c.memoizedState=f,Yt=!0),c=c.queue,wh(am.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,fa(9,om.bind(null,a,c,f,i),void 0,null),It===null)throw Error(t(349));(zi&30)!==0||sm(a,i,f)}return f}function sm(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function om(n,i,a,c){i.value=a,i.getSnapshot=c,lm(i)&&um(n)}function am(n,i,a){return a(function(){lm(i)&&um(n)})}function lm(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Mn(n,a)}catch{return!0}}function um(n){var i=Ar(n,1);i!==null&&zn(i,n,1,-1)}function cm(n){var i=nr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:n},i.queue=n,n=n.dispatch=Pw.bind(null,rt,n),[i.memoizedState,n]}function fa(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=rt.updateQueue,i===null?(i={lastEffect:null,stores:null},rt.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function hm(){return En().memoizedState}function Jl(n,i,a,c){var f=nr();rt.flags|=n,f.memoizedState=fa(1|i,a,void 0,c===void 0?null:c)}function Zl(n,i,a,c){var f=En();c=c===void 0?null:c;var m=void 0;if(vt!==null){var _=vt.memoizedState;if(m=_.destroy,c!==null&&mh(c,_.deps)){f.memoizedState=fa(i,a,m,c);return}}rt.flags|=n,f.memoizedState=fa(1|i,a,m,c)}function fm(n,i){return Jl(8390656,8,n,i)}function wh(n,i){return Zl(2048,8,n,i)}function dm(n,i){return Zl(4,2,n,i)}function pm(n,i){return Zl(4,4,n,i)}function mm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function gm(n,i,a){return a=a!=null?a.concat([n]):null,Zl(4,4,mm.bind(null,i,n),a)}function Eh(){}function ym(n,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&mh(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function vm(n,i){var a=En();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&mh(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function _m(n,i,a){return(zi&21)===0?(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=a):(Mn(a,i)||(a=ki(),rt.lanes|=a,Bi|=a,n.baseState=!0),i)}function Cw(n,i){var a=Le;Le=a!==0&&4>a?a:4,n(!0);var c=ph.transition;ph.transition={};try{n(!1),i()}finally{Le=a,ph.transition=c}}function wm(){return En().memoizedState}function Rw(n,i,a){var c=ei(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Em(n))Tm(i,a);else if(a=Jp(n,i,a,c),a!==null){var f=Ht();zn(a,n,c,f),Sm(a,i,c)}}function Pw(n,i,a){var c=ei(n),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Em(n))Tm(i,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,P=m(_,a);if(f.hasEagerState=!0,f.eagerState=P,Mn(P,_)){var N=i.interleaved;N===null?(f.next=f,lh(i)):(f.next=N.next,N.next=f),i.interleaved=f;return}}catch{}finally{}a=Jp(n,i,f,c),a!==null&&(f=Ht(),zn(a,n,c,f),Sm(a,i,c))}}function Em(n){var i=n.alternate;return n===rt||i!==null&&i===rt}function Tm(n,i){ua=Yl=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Sm(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,jr(n,a)}}var eu={readContext:wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},xw={readContext:wn,useCallback:function(n,i){return nr().memoizedState=[n,i===void 0?null:i],n},useContext:wn,useEffect:fm,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,Jl(4194308,4,mm.bind(null,i,n),a)},useLayoutEffect:function(n,i){return Jl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Jl(4,2,n,i)},useMemo:function(n,i){var a=nr();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=nr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=Rw.bind(null,rt,n),[c.memoizedState,n]},useRef:function(n){var i=nr();return n={current:n},i.memoizedState=n},useState:cm,useDebugValue:Eh,useDeferredValue:function(n){return nr().memoizedState=n},useTransition:function(){var n=cm(!1),i=n[0];return n=Cw.bind(null,n[1]),nr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=rt,f=nr();if(tt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),It===null)throw Error(t(349));(zi&30)!==0||sm(c,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,fm(am.bind(null,c,m,n),[n]),c.flags|=2048,fa(9,om.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=nr(),i=It.identifierPrefix;if(tt){var a=Ir,c=Sr;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ca++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Aw++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},kw={readContext:wn,useCallback:ym,useContext:wn,useEffect:wh,useImperativeHandle:gm,useInsertionEffect:dm,useLayoutEffect:pm,useMemo:vm,useReducer:vh,useRef:hm,useState:function(){return vh(ha)},useDebugValue:Eh,useDeferredValue:function(n){var i=En();return _m(i,vt.memoizedState,n)},useTransition:function(){var n=vh(ha)[0],i=En().memoizedState;return[n,i]},useMutableSource:rm,useSyncExternalStore:im,useId:wm,unstable_isNewReconciler:!1},Vw={readContext:wn,useCallback:ym,useContext:wn,useEffect:wh,useImperativeHandle:gm,useInsertionEffect:dm,useLayoutEffect:pm,useMemo:vm,useReducer:_h,useRef:hm,useState:function(){return _h(ha)},useDebugValue:Eh,useDeferredValue:function(n){var i=En();return vt===null?i.memoizedState=n:_m(i,vt.memoizedState,n)},useTransition:function(){var n=_h(ha)[0],i=En().memoizedState;return[n,i]},useMutableSource:rm,useSyncExternalStore:im,useId:wm,unstable_isNewReconciler:!1};function Fn(n,i){if(n&&n.defaultProps){i=G({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function Th(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:G({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var tu={isMounted:function(n){return(n=n._reactInternals)?xn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Ht(),f=ei(n),m=Cr(c,f);m.payload=i,a!=null&&(m.callback=a),i=Xr(n,m,f),i!==null&&(zn(i,n,f,c),Wl(i,n,f))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Ht(),f=ei(n),m=Cr(c,f);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=Xr(n,m,f),i!==null&&(zn(i,n,f,c),Wl(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Ht(),c=ei(n),f=Cr(a,c);f.tag=2,i!=null&&(f.callback=i),i=Xr(n,f,c),i!==null&&(zn(i,n,c,a),Wl(i,n,c))}};function Im(n,i,a,c,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,_):i.prototype&&i.prototype.isPureReactComponent?!Jo(a,c)||!Jo(f,m):!0}function Am(n,i,a){var c=!1,f=Wr,m=i.contextType;return typeof m=="object"&&m!==null?m=wn(m):(f=Xt(i)?Mi:Ot.current,c=i.contextTypes,m=(c=c!=null)?Ms(n,f):Wr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=tu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=m),i}function Cm(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&tu.enqueueReplaceState(i,i.state,null)}function Sh(n,i,a,c){var f=n.stateNode;f.props=a,f.state=n.memoizedState,f.refs={},uh(n);var m=i.contextType;typeof m=="object"&&m!==null?f.context=wn(m):(m=Xt(i)?Mi:Ot.current,f.context=Ms(n,m)),f.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(Th(n,i,m,a),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&tu.enqueueReplaceState(f,f.state,null),Kl(n,a,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function qs(n,i){try{var a="",c=i;do a+=ve(c),c=c.return;while(c);var f=a}catch(m){f=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:f,digest:null}}function Ih(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Ah(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var Nw=typeof WeakMap=="function"?WeakMap:Map;function Rm(n,i,a){a=Cr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){lu||(lu=!0,Uh=c),Ah(n,i)},a}function Pm(n,i,a){a=Cr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;a.payload=function(){return c(f)},a.callback=function(){Ah(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Ah(n,i),typeof c!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var _=i.stack;this.componentDidCatch(i.value,{componentStack:_!==null?_:""})}),a}function xm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new Nw;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(f.add(a),n=Qw.bind(null,n,i,a),i.then(n,n))}function km(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Vm(n,i,a,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Cr(-1,1),i.tag=2,Xr(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var Dw=Z.ReactCurrentOwner,Yt=!1;function qt(n,i,a,c){i.child=n===null?Yp(i,null,a,c):Us(i,n.child,a,c)}function Nm(n,i,a,c,f){a=a.render;var m=i.ref;return Bs(i,f),c=gh(n,i,a,c,m,f),a=yh(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Rr(n,i,f)):(tt&&a&&Zc(i),i.flags|=1,qt(n,i,c,f),i.child)}function Dm(n,i,a,c,f){if(n===null){var m=a.type;return typeof m=="function"&&!Wh(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,Om(n,i,m,c,f)):(n=pu(a.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&f)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(_,c)&&n.ref===i.ref)return Rr(n,i,f)}return i.flags|=1,n=ni(m,c),n.ref=i.ref,n.return=i,i.child=n}function Om(n,i,a,c,f){if(n!==null){var m=n.memoizedProps;if(Jo(m,c)&&n.ref===i.ref)if(Yt=!1,i.pendingProps=c=m,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Yt=!0);else return i.lanes=n.lanes,Rr(n,i,f)}return Ch(n,i,a,c,f)}function Lm(n,i,a){var c=i.pendingProps,f=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Qs,hn),hn|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Xe(Qs,hn),hn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Xe(Qs,hn),hn|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,Xe(Qs,hn),hn|=c;return qt(n,i,f,a),i.child}function Mm(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Ch(n,i,a,c,f){var m=Xt(a)?Mi:Ot.current;return m=Ms(i,m),Bs(i,f),a=gh(n,i,a,c,m,f),c=yh(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Rr(n,i,f)):(tt&&c&&Zc(i),i.flags|=1,qt(n,i,a,f),i.child)}function bm(n,i,a,c,f){if(Xt(a)){var m=!0;jl(i)}else m=!1;if(Bs(i,f),i.stateNode===null)ru(n,i),Am(i,a,c),Sh(i,a,c,f),c=!0;else if(n===null){var _=i.stateNode,P=i.memoizedProps;_.props=P;var N=_.context,H=a.contextType;typeof H=="object"&&H!==null?H=wn(H):(H=Xt(a)?Mi:Ot.current,H=Ms(i,H));var ee=a.getDerivedStateFromProps,ne=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function";ne||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==c||N!==H)&&Cm(i,_,c,H),Gr=!1;var J=i.memoizedState;_.state=J,Kl(i,c,_,f),N=i.memoizedState,P!==c||J!==N||Gt.current||Gr?(typeof ee=="function"&&(Th(i,a,ee,c),N=i.memoizedState),(P=Gr||Im(i,a,P,c,J,N,H))?(ne||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(i.flags|=4194308)):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),_.props=c,_.state=N,_.context=H,c=P):(typeof _.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{_=i.stateNode,Zp(n,i),P=i.memoizedProps,H=i.type===i.elementType?P:Fn(i.type,P),_.props=H,ne=i.pendingProps,J=_.context,N=a.contextType,typeof N=="object"&&N!==null?N=wn(N):(N=Xt(a)?Mi:Ot.current,N=Ms(i,N));var ce=a.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==ne||J!==N)&&Cm(i,_,c,N),Gr=!1,J=i.memoizedState,_.state=J,Kl(i,c,_,f);var de=i.memoizedState;P!==ne||J!==de||Gt.current||Gr?(typeof ce=="function"&&(Th(i,a,ce,c),de=i.memoizedState),(H=Gr||Im(i,a,H,c,J,de,N)||!1)?(ee||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,de,N),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,de,N)),typeof _.componentDidUpdate=="function"&&(i.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=de),_.props=c,_.state=de,_.context=N,c=H):(typeof _.componentDidUpdate!="function"||P===n.memoizedProps&&J===n.memoizedState||(i.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===n.memoizedProps&&J===n.memoizedState||(i.flags|=1024),c=!1)}return Rh(n,i,a,c,m,f)}function Rh(n,i,a,c,f,m){Mm(n,i);var _=(i.flags&128)!==0;if(!c&&!_)return f&&Bp(i,a,!1),Rr(n,i,m);c=i.stateNode,Dw.current=i;var P=_&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&_?(i.child=Us(i,n.child,null,m),i.child=Us(i,null,P,m)):qt(n,i,P,m),i.memoizedState=c.state,f&&Bp(i,a,!0),i.child}function Fm(n){var i=n.stateNode;i.pendingContext?Up(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Up(n,i.context,!1),ch(n,i.containerInfo)}function jm(n,i,a,c,f){return js(),rh(f),i.flags|=256,qt(n,i,a,c),i.child}var Ph={dehydrated:null,treeContext:null,retryLane:0};function xh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Um(n,i,a){var c=i.pendingProps,f=nt.current,m=!1,_=(i.flags&128)!==0,P;if((P=_)||(P=n!==null&&n.memoizedState===null?!1:(f&2)!==0),P?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Xe(nt,f&1),n===null)return nh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(_=c.children,n=c.fallback,m?(c=i.mode,m=i.child,_={mode:"hidden",children:_},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=mu(_,c,0,null),n=Qi(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=xh(a),i.memoizedState=Ph,n):kh(i,_));if(f=n.memoizedState,f!==null&&(P=f.dehydrated,P!==null))return Ow(n,i,_,c,P,f,a);if(m){m=c.fallback,_=i.mode,f=n.child,P=f.sibling;var N={mode:"hidden",children:c.children};return(_&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=ni(f,N),c.subtreeFlags=f.subtreeFlags&14680064),P!==null?m=ni(P,m):(m=Qi(m,_,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,_=n.child.memoizedState,_=_===null?xh(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=n.childLanes&~a,i.memoizedState=Ph,c}return m=n.child,n=m.sibling,c=ni(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function kh(n,i){return i=mu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function nu(n,i,a,c){return c!==null&&rh(c),Us(i,n.child,null,a),n=kh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ow(n,i,a,c,f,m,_){if(a)return i.flags&256?(i.flags&=-257,c=Ih(Error(t(422))),nu(n,i,_,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,f=i.mode,c=mu({mode:"visible",children:c.children},f,0,null),m=Qi(m,f,_,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&Us(i,n.child,null,_),i.child.memoizedState=xh(_),i.memoizedState=Ph,m);if((i.mode&1)===0)return nu(n,i,_,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var P=c.dgst;return c=P,m=Error(t(419)),c=Ih(m,c,void 0),nu(n,i,_,c)}if(P=(_&n.childLanes)!==0,Yt||P){if(c=It,c!==null){switch(_&-_){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|_))!==0?0:f,f!==0&&f!==m.retryLane&&(m.retryLane=f,Ar(n,f),zn(c,n,f,-1))}return Qh(),c=Ih(Error(t(421))),nu(n,i,_,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=Ww.bind(null,n),f._reactRetry=i,null):(n=m.treeContext,cn=Hr(f.nextSibling),un=i,tt=!0,bn=null,n!==null&&(vn[_n++]=Sr,vn[_n++]=Ir,vn[_n++]=bi,Sr=n.id,Ir=n.overflow,bi=i),i=kh(i,c.children),i.flags|=4096,i)}function zm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ah(n.return,i,a)}function Vh(n,i,a,c,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=f)}function Bm(n,i,a){var c=i.pendingProps,f=c.revealOrder,m=c.tail;if(qt(n,i,c.children,a),c=nt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&zm(n,a,i);else if(n.tag===19)zm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Xe(nt,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Gl(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Vh(i,!1,f,a,m);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Gl(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Vh(i,!0,a,null,m);break;case"together":Vh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ru(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Rr(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Bi|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=ni(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=ni(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Lw(n,i,a){switch(i.tag){case 3:Fm(i),js();break;case 5:nm(i);break;case 1:Xt(i.type)&&jl(i);break;case 4:ch(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Xe(Hl,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Xe(nt,nt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Um(n,i,a):(Xe(nt,nt.current&1),n=Rr(n,i,a),n!==null?n.sibling:null);Xe(nt,nt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Bm(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(nt,nt.current),c)break;return null;case 22:case 23:return i.lanes=0,Lm(n,i,a)}return Rr(n,i,a)}var $m,Nh,qm,Hm;$m=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Nh=function(){},qm=function(n,i,a,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,Ui(tr.current);var m=null;switch(a){case"input":f=_i(n,f),c=_i(n,c),m=[];break;case"select":f=G({},f,{value:void 0}),c=G({},c,{value:void 0}),m=[];break;case"textarea":f=Ro(n,f),c=Ro(n,c),m=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Ml)}Do(a,c);var _;a=null;for(H in f)if(!c.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var P=f[H];for(_ in P)P.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?m||(m=[]):(m=m||[]).push(H,null));for(H in c){var N=c[H];if(P=f!=null?f[H]:void 0,c.hasOwnProperty(H)&&N!==P&&(N!=null||P!=null))if(H==="style")if(P){for(_ in P)!P.hasOwnProperty(_)||N&&N.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in N)N.hasOwnProperty(_)&&P[_]!==N[_]&&(a||(a={}),a[_]=N[_])}else a||(m||(m=[]),m.push(H,a)),a=N;else H==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,P=P?P.__html:void 0,N!=null&&P!==N&&(m=m||[]).push(H,N)):H==="children"?typeof N!="string"&&typeof N!="number"||(m=m||[]).push(H,""+N):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(N!=null&&H==="onScroll"&&Je("scroll",n),m||P===N||(m=[])):(m=m||[]).push(H,N))}a&&(m=m||[]).push("style",a);var H=m;(i.updateQueue=H)&&(i.flags|=4)}},Hm=function(n,i,a,c){a!==c&&(i.flags|=4)};function da(n,i){if(!tt)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Mt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function Mw(n,i,a){var c=i.pendingProps;switch(eh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(i),null;case 1:return Xt(i.type)&&Fl(),Mt(i),null;case 3:return c=i.stateNode,$s(),Ze(Gt),Ze(Ot),dh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&($l(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bn!==null&&($h(bn),bn=null))),Nh(n,i),Mt(i),null;case 5:hh(i);var f=Ui(la.current);if(a=i.type,n!==null&&i.stateNode!=null)qm(n,i,a,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Mt(i),null}if(n=Ui(tr.current),$l(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[er]=i,c[ra]=m,n=(i.mode&1)!==0,a){case"dialog":Je("cancel",c),Je("close",c);break;case"iframe":case"object":case"embed":Je("load",c);break;case"video":case"audio":for(f=0;f<ea.length;f++)Je(ea[f],c);break;case"source":Je("error",c);break;case"img":case"image":case"link":Je("error",c),Je("load",c);break;case"details":Je("toggle",c);break;case"input":is(c,m),Je("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Je("invalid",c);break;case"textarea":os(c,m),Je("invalid",c)}Do(a,m),f=null;for(var _ in m)if(m.hasOwnProperty(_)){var P=m[_];_==="children"?typeof P=="string"?c.textContent!==P&&(m.suppressHydrationWarning!==!0&&Ll(c.textContent,P,n),f=["children",P]):typeof P=="number"&&c.textContent!==""+P&&(m.suppressHydrationWarning!==!0&&Ll(c.textContent,P,n),f=["children",""+P]):o.hasOwnProperty(_)&&P!=null&&_==="onScroll"&&Je("scroll",c)}switch(a){case"input":hr(c),al(c,m,!0);break;case"textarea":hr(c),Po(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Ml)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{_=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=mt(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=_.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=_.createElement(a,{is:c.is}):(n=_.createElement(a),a==="select"&&(_=n,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):n=_.createElementNS(n,a),n[er]=i,n[ra]=c,$m(n,i,!1,!1),i.stateNode=n;e:{switch(_=Oo(a,c),a){case"dialog":Je("cancel",n),Je("close",n),f=c;break;case"iframe":case"object":case"embed":Je("load",n),f=c;break;case"video":case"audio":for(f=0;f<ea.length;f++)Je(ea[f],n);f=c;break;case"source":Je("error",n),f=c;break;case"img":case"image":case"link":Je("error",n),Je("load",n),f=c;break;case"details":Je("toggle",n),f=c;break;case"input":is(n,c),f=_i(n,c),Je("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=G({},c,{value:void 0}),Je("invalid",n);break;case"textarea":os(n,c),f=Ro(n,c),Je("invalid",n);break;default:f=c}Do(a,f),P=f;for(m in P)if(P.hasOwnProperty(m)){var N=P[m];m==="style"?Vo(n,N):m==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&xo(n,N)):m==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&Or(n,N):typeof N=="number"&&Or(n,""+N):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?N!=null&&m==="onScroll"&&Je("scroll",n):N!=null&&B(n,m,N,_))}switch(a){case"input":hr(n),al(n,c,!1);break;case"textarea":hr(n),Po(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ve(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?dr(n,!!c.multiple,m,!1):c.defaultValue!=null&&dr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=Ml)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Mt(i),null;case 6:if(n&&i.stateNode!=null)Hm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ui(la.current),Ui(tr.current),$l(i)){if(c=i.stateNode,a=i.memoizedProps,c[er]=i,(m=c.nodeValue!==a)&&(n=un,n!==null))switch(n.tag){case 3:Ll(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ll(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[er]=i,i.stateNode=c}return Mt(i),null;case 13:if(Ze(nt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tt&&cn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Kp(),js(),i.flags|=98560,m=!1;else if(m=$l(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[er]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Mt(i),m=!1}else bn!==null&&($h(bn),bn=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(nt.current&1)!==0?_t===0&&(_t=3):Qh())),i.updateQueue!==null&&(i.flags|=4),Mt(i),null);case 4:return $s(),Nh(n,i),n===null&&ta(i.stateNode.containerInfo),Mt(i),null;case 10:return oh(i.type._context),Mt(i),null;case 17:return Xt(i.type)&&Fl(),Mt(i),null;case 19:if(Ze(nt),m=i.memoizedState,m===null)return Mt(i),null;if(c=(i.flags&128)!==0,_=m.rendering,_===null)if(c)da(m,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(_=Gl(n),_!==null){for(i.flags|=128,da(m,!1),c=_.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,n=_.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Xe(nt,nt.current&1|2),i.child}n=n.sibling}m.tail!==null&&Ge()>Ws&&(i.flags|=128,c=!0,da(m,!1),i.lanes=4194304)}else{if(!c)if(n=Gl(_),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),da(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!tt)return Mt(i),null}else 2*Ge()-m.renderingStartTime>Ws&&a!==1073741824&&(i.flags|=128,c=!0,da(m,!1),i.lanes=4194304);m.isBackwards?(_.sibling=i.child,i.child=_):(a=m.last,a!==null?a.sibling=_:i.child=_,m.last=_)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ge(),i.sibling=null,a=nt.current,Xe(nt,c?a&1|2:a&1),i):(Mt(i),null);case 22:case 23:return Hh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(hn&1073741824)!==0&&(Mt(i),i.subtreeFlags&6&&(i.flags|=8192)):Mt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function bw(n,i){switch(eh(i),i.tag){case 1:return Xt(i.type)&&Fl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return $s(),Ze(Gt),Ze(Ot),dh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return hh(i),null;case 13:if(Ze(nt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));js()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ze(nt),null;case 4:return $s(),null;case 10:return oh(i.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var iu=!1,bt=!1,Fw=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Hs(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(n,i,c)}else a.current=null}function Dh(n,i,a){try{a()}catch(c){ot(n,i,c)}}var Qm=!1;function jw(n,i){if(Hc=Br,n=Ip(),bc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,P=-1,N=-1,H=0,ee=0,ne=n,J=null;t:for(;;){for(var ce;ne!==a||f!==0&&ne.nodeType!==3||(P=_+f),ne!==m||c!==0&&ne.nodeType!==3||(N=_+c),ne.nodeType===3&&(_+=ne.nodeValue.length),(ce=ne.firstChild)!==null;)J=ne,ne=ce;for(;;){if(ne===n)break t;if(J===a&&++H===f&&(P=_),J===m&&++ee===c&&(N=_),(ce=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=ce}a=P===-1||N===-1?null:{start:P,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Qc={focusedElem:n,selectionRange:a},Br=!1,fe=i;fe!==null;)if(i=fe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,fe=n;else for(;fe!==null;){i=fe;try{var de=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,lt=de.memoizedState,b=i.stateNode,O=b.getSnapshotBeforeUpdate(i.elementType===i.type?pe:Fn(i.type,pe),lt);b.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var U=i.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ot(i,i.return,se)}if(n=i.sibling,n!==null){n.return=i.return,fe=n;break}fe=i.return}return de=Qm,Qm=!1,de}function pa(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var m=f.destroy;f.destroy=void 0,m!==void 0&&Dh(i,a,m)}f=f.next}while(f!==c)}}function su(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function Oh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Wm(n){var i=n.alternate;i!==null&&(n.alternate=null,Wm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[er],delete i[ra],delete i[Xc],delete i[Ew],delete i[Tw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Km(n){return n.tag===5||n.tag===3||n.tag===4}function Gm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Km(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ml));else if(c!==4&&(n=n.child,n!==null))for(Lh(n,i,a),n=n.sibling;n!==null;)Lh(n,i,a),n=n.sibling}function Mh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Mh(n,i,a),n=n.sibling;n!==null;)Mh(n,i,a),n=n.sibling}var kt=null,jn=!1;function Yr(n,i,a){for(a=a.child;a!==null;)Xm(n,i,a),a=a.sibling}function Xm(n,i,a){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Pi,a)}catch{}switch(a.tag){case 5:bt||Hs(a,i);case 6:var c=kt,f=jn;kt=null,Yr(n,i,a),kt=c,jn=f,kt!==null&&(jn?(n=kt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):kt.removeChild(a.stateNode));break;case 18:kt!==null&&(jn?(n=kt,a=a.stateNode,n.nodeType===8?Gc(n.parentNode,a):n.nodeType===1&&Gc(n,a),On(n)):Gc(kt,a.stateNode));break;case 4:c=kt,f=jn,kt=a.stateNode.containerInfo,jn=!0,Yr(n,i,a),kt=c,jn=f;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var m=f,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&Dh(a,i,_),f=f.next}while(f!==c)}Yr(n,i,a);break;case 1:if(!bt&&(Hs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(P){ot(a,i,P)}Yr(n,i,a);break;case 21:Yr(n,i,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,Yr(n,i,a),bt=c):Yr(n,i,a);break;default:Yr(n,i,a)}}function Ym(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new Fw),i.forEach(function(c){var f=Kw.bind(null,n,c);a.has(c)||(a.add(c),c.then(f,f))})}}function Un(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var m=n,_=i,P=_;e:for(;P!==null;){switch(P.tag){case 5:kt=P.stateNode,jn=!1;break e;case 3:kt=P.stateNode.containerInfo,jn=!0;break e;case 4:kt=P.stateNode.containerInfo,jn=!0;break e}P=P.return}if(kt===null)throw Error(t(160));Xm(m,_,f),kt=null,jn=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(H){ot(f,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Jm(i,n),i=i.sibling}function Jm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Un(i,n),rr(n),c&4){try{pa(3,n,n.return),su(3,n)}catch(pe){ot(n,n.return,pe)}try{pa(5,n,n.return)}catch(pe){ot(n,n.return,pe)}}break;case 1:Un(i,n),rr(n),c&512&&a!==null&&Hs(a,a.return);break;case 5:if(Un(i,n),rr(n),c&512&&a!==null&&Hs(a,a.return),n.flags&32){var f=n.stateNode;try{Or(f,"")}catch(pe){ot(n,n.return,pe)}}if(c&4&&(f=n.stateNode,f!=null)){var m=n.memoizedProps,_=a!==null?a.memoizedProps:m,P=n.type,N=n.updateQueue;if(n.updateQueue=null,N!==null)try{P==="input"&&m.type==="radio"&&m.name!=null&&Ao(f,m),Oo(P,_);var H=Oo(P,m);for(_=0;_<N.length;_+=2){var ee=N[_],ne=N[_+1];ee==="style"?Vo(f,ne):ee==="dangerouslySetInnerHTML"?xo(f,ne):ee==="children"?Or(f,ne):B(f,ee,ne,H)}switch(P){case"input":Co(f,m);break;case"textarea":as(f,m);break;case"select":var J=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!m.multiple;var ce=m.value;ce!=null?dr(f,!!m.multiple,ce,!1):J!==!!m.multiple&&(m.defaultValue!=null?dr(f,!!m.multiple,m.defaultValue,!0):dr(f,!!m.multiple,m.multiple?[]:"",!1))}f[ra]=m}catch(pe){ot(n,n.return,pe)}}break;case 6:if(Un(i,n),rr(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,m=n.memoizedProps;try{f.nodeValue=m}catch(pe){ot(n,n.return,pe)}}break;case 3:if(Un(i,n),rr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{On(i.containerInfo)}catch(pe){ot(n,n.return,pe)}break;case 4:Un(i,n),rr(n);break;case 13:Un(i,n),rr(n),f=n.child,f.flags&8192&&(m=f.memoizedState!==null,f.stateNode.isHidden=m,!m||f.alternate!==null&&f.alternate.memoizedState!==null||(jh=Ge())),c&4&&Ym(n);break;case 22:if(ee=a!==null&&a.memoizedState!==null,n.mode&1?(bt=(H=bt)||ee,Un(i,n),bt=H):Un(i,n),rr(n),c&8192){if(H=n.memoizedState!==null,(n.stateNode.isHidden=H)&&!ee&&(n.mode&1)!==0)for(fe=n,ee=n.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(J=fe,ce=J.child,J.tag){case 0:case 11:case 14:case 15:pa(4,J,J.return);break;case 1:Hs(J,J.return);var de=J.stateNode;if(typeof de.componentWillUnmount=="function"){c=J,a=J.return;try{i=c,de.props=i.memoizedProps,de.state=i.memoizedState,de.componentWillUnmount()}catch(pe){ot(c,a,pe)}}break;case 5:Hs(J,J.return);break;case 22:if(J.memoizedState!==null){tg(ne);continue}}ce!==null?(ce.return=J,fe=ce):tg(ne)}ee=ee.sibling}e:for(ee=null,ne=n;;){if(ne.tag===5){if(ee===null){ee=ne;try{f=ne.stateNode,H?(m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(P=ne.stateNode,N=ne.memoizedProps.style,_=N!=null&&N.hasOwnProperty("display")?N.display:null,P.style.display=ko("display",_))}catch(pe){ot(n,n.return,pe)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=H?"":ne.memoizedProps}catch(pe){ot(n,n.return,pe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===n)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===n)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===n)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Un(i,n),rr(n),c&4&&Ym(n);break;case 21:break;default:Un(i,n),rr(n)}}function rr(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Km(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Or(f,""),c.flags&=-33);var m=Gm(n);Mh(n,m,f);break;case 3:case 4:var _=c.stateNode.containerInfo,P=Gm(n);Lh(n,P,_);break;default:throw Error(t(161))}}catch(N){ot(n,n.return,N)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Uw(n,i,a){fe=n,Zm(n)}function Zm(n,i,a){for(var c=(n.mode&1)!==0;fe!==null;){var f=fe,m=f.child;if(f.tag===22&&c){var _=f.memoizedState!==null||iu;if(!_){var P=f.alternate,N=P!==null&&P.memoizedState!==null||bt;P=iu;var H=bt;if(iu=_,(bt=N)&&!H)for(fe=f;fe!==null;)_=fe,N=_.child,_.tag===22&&_.memoizedState!==null?ng(f):N!==null?(N.return=_,fe=N):ng(f);for(;m!==null;)fe=m,Zm(m),m=m.sibling;fe=f,iu=P,bt=H}eg(n)}else(f.subtreeFlags&8772)!==0&&m!==null?(m.return=f,fe=m):eg(n)}}function eg(n){for(;fe!==null;){var i=fe;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bt||su(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!bt)if(a===null)c.componentDidMount();else{var f=i.elementType===i.type?a.memoizedProps:Fn(i.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&tm(i,m,c);break;case 3:var _=i.updateQueue;if(_!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}tm(i,_,a)}break;case 5:var P=i.stateNode;if(a===null&&i.flags&4){a=P;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var ee=H.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&On(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bt||i.flags&512&&Oh(i)}catch(J){ot(i,i.return,J)}}if(i===n){fe=null;break}if(a=i.sibling,a!==null){a.return=i.return,fe=a;break}fe=i.return}}function tg(n){for(;fe!==null;){var i=fe;if(i===n){fe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,fe=a;break}fe=i.return}}function ng(n){for(;fe!==null;){var i=fe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{su(4,i)}catch(N){ot(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(N){ot(i,f,N)}}var m=i.return;try{Oh(i)}catch(N){ot(i,m,N)}break;case 5:var _=i.return;try{Oh(i)}catch(N){ot(i,_,N)}}}catch(N){ot(i,i.return,N)}if(i===n){fe=null;break}var P=i.sibling;if(P!==null){P.return=i.return,fe=P;break}fe=i.return}}var zw=Math.ceil,ou=Z.ReactCurrentDispatcher,bh=Z.ReactCurrentOwner,Tn=Z.ReactCurrentBatchConfig,ze=0,It=null,ft=null,Vt=0,hn=0,Qs=Qr(0),_t=0,ma=null,Bi=0,au=0,Fh=0,ga=null,Jt=null,jh=0,Ws=1/0,Pr=null,lu=!1,Uh=null,Jr=null,uu=!1,Zr=null,cu=0,ya=0,zh=null,hu=-1,fu=0;function Ht(){return(ze&6)!==0?Ge():hu!==-1?hu:hu=Ge()}function ei(n){return(n.mode&1)===0?1:(ze&2)!==0&&Vt!==0?Vt&-Vt:Iw.transition!==null?(fu===0&&(fu=ki()),fu):(n=Le,n!==0||(n=window.event,n=n===void 0?16:Ho(n.type)),n)}function zn(n,i,a,c){if(50<ya)throw ya=0,zh=null,Error(t(185));Fr(n,a,c),((ze&2)===0||n!==It)&&(n===It&&((ze&2)===0&&(au|=a),_t===4&&ti(n,Vt)),Zt(n,c),a===1&&ze===0&&(i.mode&1)===0&&(Ws=Ge()+500,Ul&&Kr()))}function Zt(n,i){var a=n.callbackNode;gr(n,i);var c=xi(n,n===It?Vt:0);if(c===0)a!==null&&Uo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Uo(a),i===1)n.tag===0?Sw(ig.bind(null,n)):$p(ig.bind(null,n)),_w(function(){(ze&6)===0&&Kr()}),a=null;else{switch(Ur(c)){case 1:a=Ri;break;case 4:a=Lr;break;case 16:a=mn;break;case 536870912:a=fl;break;default:a=mn}a=fg(a,rg.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function rg(n,i){if(hu=-1,fu=0,(ze&6)!==0)throw Error(t(327));var a=n.callbackNode;if(Ks()&&n.callbackNode!==a)return null;var c=xi(n,n===It?Vt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=du(n,c);else{i=c;var f=ze;ze|=2;var m=og();(It!==n||Vt!==i)&&(Pr=null,Ws=Ge()+500,qi(n,i));do try{qw();break}catch(P){sg(n,P)}while(!0);sh(),ou.current=m,ze=f,ft!==null?i=0:(It=null,Vt=0,i=_t)}if(i!==0){if(i===2&&(f=on(n),f!==0&&(c=f,i=Bh(n,f))),i===1)throw a=ma,qi(n,0),ti(n,c),Zt(n,Ge()),a;if(i===6)ti(n,c);else{if(f=n.current.alternate,(c&30)===0&&!Bw(f)&&(i=du(n,c),i===2&&(m=on(n),m!==0&&(c=m,i=Bh(n,m))),i===1))throw a=ma,qi(n,0),ti(n,c),Zt(n,Ge()),a;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Hi(n,Jt,Pr);break;case 3:if(ti(n,c),(c&130023424)===c&&(i=jh+500-Ge(),10<i)){if(xi(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Ht(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Kc(Hi.bind(null,n,Jt,Pr),i);break}Hi(n,Jt,Pr);break;case 4:if(ti(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var _=31-Bt(c);m=1<<_,_=i[_],_>f&&(f=_),c&=~m}if(c=f,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*zw(c/1960))-c,10<c){n.timeoutHandle=Kc(Hi.bind(null,n,Jt,Pr),c);break}Hi(n,Jt,Pr);break;case 5:Hi(n,Jt,Pr);break;default:throw Error(t(329))}}}return Zt(n,Ge()),n.callbackNode===a?rg.bind(null,n):null}function Bh(n,i){var a=ga;return n.current.memoizedState.isDehydrated&&(qi(n,i).flags|=256),n=du(n,i),n!==2&&(i=Jt,Jt=a,i!==null&&$h(i)),n}function $h(n){Jt===null?Jt=n:Jt.push.apply(Jt,n)}function Bw(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],m=f.getSnapshot;f=f.value;try{if(!Mn(m(),f))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ti(n,i){for(i&=~Fh,i&=~au,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Bt(i),c=1<<a;n[a]=-1,i&=~c}}function ig(n){if((ze&6)!==0)throw Error(t(327));Ks();var i=xi(n,0);if((i&1)===0)return Zt(n,Ge()),null;var a=du(n,i);if(n.tag!==0&&a===2){var c=on(n);c!==0&&(i=c,a=Bh(n,c))}if(a===1)throw a=ma,qi(n,0),ti(n,i),Zt(n,Ge()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Hi(n,Jt,Pr),Zt(n,Ge()),null}function qh(n,i){var a=ze;ze|=1;try{return n(i)}finally{ze=a,ze===0&&(Ws=Ge()+500,Ul&&Kr())}}function $i(n){Zr!==null&&Zr.tag===0&&(ze&6)===0&&Ks();var i=ze;ze|=1;var a=Tn.transition,c=Le;try{if(Tn.transition=null,Le=1,n)return n()}finally{Le=c,Tn.transition=a,ze=i,(ze&6)===0&&Kr()}}function Hh(){hn=Qs.current,Ze(Qs)}function qi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,vw(a)),ft!==null)for(a=ft.return;a!==null;){var c=a;switch(eh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Fl();break;case 3:$s(),Ze(Gt),Ze(Ot),dh();break;case 5:hh(c);break;case 4:$s();break;case 13:Ze(nt);break;case 19:Ze(nt);break;case 10:oh(c.type._context);break;case 22:case 23:Hh()}a=a.return}if(It=n,ft=n=ni(n.current,null),Vt=hn=i,_t=0,ma=null,Fh=au=Bi=0,Jt=ga=null,ji!==null){for(i=0;i<ji.length;i++)if(a=ji[i],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,m=a.pending;if(m!==null){var _=m.next;m.next=f,c.next=_}a.pending=c}ji=null}return n}function sg(n,i){do{var a=ft;try{if(sh(),Xl.current=eu,Yl){for(var c=rt.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Yl=!1}if(zi=0,St=vt=rt=null,ua=!1,ca=0,bh.current=null,a===null||a.return===null){_t=1,ma=i,ft=null;break}e:{var m=n,_=a.return,P=a,N=i;if(i=Vt,P.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var H=N,ee=P,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=km(_);if(ce!==null){ce.flags&=-257,Vm(ce,_,P,m,i),ce.mode&1&&xm(m,H,i),i=ce,N=H;var de=i.updateQueue;if(de===null){var pe=new Set;pe.add(N),i.updateQueue=pe}else de.add(N);break e}else{if((i&1)===0){xm(m,H,i),Qh();break e}N=Error(t(426))}}else if(tt&&P.mode&1){var lt=km(_);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),Vm(lt,_,P,m,i),rh(qs(N,P));break e}}m=N=qs(N,P),_t!==4&&(_t=2),ga===null?ga=[m]:ga.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var b=Rm(m,N,i);em(m,b);break e;case 1:P=N;var O=m.type,U=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Jr===null||!Jr.has(U)))){m.flags|=65536,i&=-i,m.lanes|=i;var se=Pm(m,P,i);em(m,se);break e}}m=m.return}while(m!==null)}lg(a)}catch(me){i=me,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function og(){var n=ou.current;return ou.current=eu,n===null?eu:n}function Qh(){(_t===0||_t===3||_t===2)&&(_t=4),It===null||(Bi&268435455)===0&&(au&268435455)===0||ti(It,Vt)}function du(n,i){var a=ze;ze|=2;var c=og();(It!==n||Vt!==i)&&(Pr=null,qi(n,i));do try{$w();break}catch(f){sg(n,f)}while(!0);if(sh(),ze=a,ou.current=c,ft!==null)throw Error(t(261));return It=null,Vt=0,_t}function $w(){for(;ft!==null;)ag(ft)}function qw(){for(;ft!==null&&!cl();)ag(ft)}function ag(n){var i=hg(n.alternate,n,hn);n.memoizedProps=n.pendingProps,i===null?lg(n):ft=i,bh.current=null}function lg(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=Mw(a,i,hn),a!==null){ft=a;return}}else{if(a=bw(a,i),a!==null){a.flags&=32767,ft=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{_t=6,ft=null;return}}if(i=i.sibling,i!==null){ft=i;return}ft=i=n}while(i!==null);_t===0&&(_t=5)}function Hi(n,i,a){var c=Le,f=Tn.transition;try{Tn.transition=null,Le=1,Hw(n,i,a,c)}finally{Tn.transition=f,Le=c}return null}function Hw(n,i,a,c){do Ks();while(Zr!==null);if((ze&6)!==0)throw Error(t(327));a=n.finishedWork;var f=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Ke(n,m),n===It&&(ft=It=null,Vt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||uu||(uu=!0,fg(mn,function(){return Ks(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Tn.transition,Tn.transition=null;var _=Le;Le=1;var P=ze;ze|=4,bh.current=null,jw(n,a),Jm(a,n),hw(Qc),Br=!!Hc,Qc=Hc=null,n.current=a,Uw(a),xc(),ze=P,Le=_,Tn.transition=m}else n.current=a;if(uu&&(uu=!1,Zr=n,cu=f),m=n.pendingLanes,m===0&&(Jr=null),dl(a.stateNode),Zt(n,Ge()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)f=i[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(lu)throw lu=!1,n=Uh,Uh=null,n;return(cu&1)!==0&&n.tag!==0&&Ks(),m=n.pendingLanes,(m&1)!==0?n===zh?ya++:(ya=0,zh=n):ya=0,Kr(),null}function Ks(){if(Zr!==null){var n=Ur(cu),i=Tn.transition,a=Le;try{if(Tn.transition=null,Le=16>n?16:n,Zr===null)var c=!1;else{if(n=Zr,Zr=null,cu=0,(ze&6)!==0)throw Error(t(331));var f=ze;for(ze|=4,fe=n.current;fe!==null;){var m=fe,_=m.child;if((fe.flags&16)!==0){var P=m.deletions;if(P!==null){for(var N=0;N<P.length;N++){var H=P[N];for(fe=H;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:pa(8,ee,m)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var J=ee.sibling,ce=ee.return;if(Wm(ee),ee===H){fe=null;break}if(J!==null){J.return=ce,fe=J;break}fe=ce}}}var de=m.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var lt=pe.sibling;pe.sibling=null,pe=lt}while(pe!==null)}}fe=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,fe=_;else e:for(;fe!==null;){if(m=fe,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:pa(9,m,m.return)}var b=m.sibling;if(b!==null){b.return=m.return,fe=b;break e}fe=m.return}}var O=n.current;for(fe=O;fe!==null;){_=fe;var U=_.child;if((_.subtreeFlags&2064)!==0&&U!==null)U.return=_,fe=U;else e:for(_=O;fe!==null;){if(P=fe,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:su(9,P)}}catch(me){ot(P,P.return,me)}if(P===_){fe=null;break e}var se=P.sibling;if(se!==null){se.return=P.return,fe=se;break e}fe=P.return}}if(ze=f,Kr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Pi,n)}catch{}c=!0}return c}finally{Le=a,Tn.transition=i}}return!1}function ug(n,i,a){i=qs(a,i),i=Rm(n,i,1),n=Xr(n,i,1),i=Ht(),n!==null&&(Fr(n,1,i),Zt(n,i))}function ot(n,i,a){if(n.tag===3)ug(n,n,a);else for(;i!==null;){if(i.tag===3){ug(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Jr===null||!Jr.has(c))){n=qs(a,n),n=Pm(i,n,1),i=Xr(i,n,1),n=Ht(),i!==null&&(Fr(i,1,n),Zt(i,n));break}}i=i.return}}function Qw(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Ht(),n.pingedLanes|=n.suspendedLanes&a,It===n&&(Vt&a)===a&&(_t===4||_t===3&&(Vt&130023424)===Vt&&500>Ge()-jh?qi(n,0):Fh|=a),Zt(n,i)}function cg(n,i){i===0&&((n.mode&1)===0?i=1:(i=ys,ys<<=1,(ys&130023424)===0&&(ys=4194304)));var a=Ht();n=Ar(n,i),n!==null&&(Fr(n,i,a),Zt(n,a))}function Ww(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),cg(n,a)}function Kw(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),cg(n,a)}var hg;hg=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Gt.current)Yt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Yt=!1,Lw(n,i,a);Yt=(n.flags&131072)!==0}else Yt=!1,tt&&(i.flags&1048576)!==0&&qp(i,Bl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;ru(n,i),n=i.pendingProps;var f=Ms(i,Ot.current);Bs(i,a),f=gh(null,i,c,n,f,a);var m=yh();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Xt(c)?(m=!0,jl(i)):m=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,uh(i),f.updater=tu,i.stateNode=f,f._reactInternals=i,Sh(i,c,n,a),i=Rh(null,i,c,!0,m,a)):(i.tag=0,tt&&m&&Zc(i),qt(null,i,f,a),i=i.child),i;case 16:c=i.elementType;e:{switch(ru(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=Xw(c),n=Fn(c,n),f){case 0:i=Ch(null,i,c,n,a);break e;case 1:i=bm(null,i,c,n,a);break e;case 11:i=Nm(null,i,c,n,a);break e;case 14:i=Dm(null,i,c,Fn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Fn(c,f),Ch(n,i,c,f,a);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Fn(c,f),bm(n,i,c,f,a);case 3:e:{if(Fm(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,f=m.element,Zp(n,i),Kl(i,c,null,a);var _=i.memoizedState;if(c=_.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){f=qs(Error(t(423)),i),i=jm(n,i,c,a,f);break e}else if(c!==f){f=qs(Error(t(424)),i),i=jm(n,i,c,a,f);break e}else for(cn=Hr(i.stateNode.containerInfo.firstChild),un=i,tt=!0,bn=null,a=Yp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),c===f){i=Rr(n,i,a);break e}qt(n,i,c,a)}i=i.child}return i;case 5:return nm(i),n===null&&nh(i),c=i.type,f=i.pendingProps,m=n!==null?n.memoizedProps:null,_=f.children,Wc(c,f)?_=null:m!==null&&Wc(c,m)&&(i.flags|=32),Mm(n,i),qt(n,i,_,a),i.child;case 6:return n===null&&nh(i),null;case 13:return Um(n,i,a);case 4:return ch(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Us(i,null,c,a):qt(n,i,c,a),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Fn(c,f),Nm(n,i,c,f,a);case 7:return qt(n,i,i.pendingProps,a),i.child;case 8:return qt(n,i,i.pendingProps.children,a),i.child;case 12:return qt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,m=i.memoizedProps,_=f.value,Xe(Hl,c._currentValue),c._currentValue=_,m!==null)if(Mn(m.value,_)){if(m.children===f.children&&!Gt.current){i=Rr(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var P=m.dependencies;if(P!==null){_=m.child;for(var N=P.firstContext;N!==null;){if(N.context===c){if(m.tag===1){N=Cr(-1,a&-a),N.tag=2;var H=m.updateQueue;if(H!==null){H=H.shared;var ee=H.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),H.pending=N}}m.lanes|=a,N=m.alternate,N!==null&&(N.lanes|=a),ah(m.return,a,i),P.lanes|=a;break}N=N.next}}else if(m.tag===10)_=m.type===i.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(t(341));_.lanes|=a,P=_.alternate,P!==null&&(P.lanes|=a),ah(_,a,i),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}qt(n,i,f.children,a),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Bs(i,a),f=wn(f),c=c(f),i.flags|=1,qt(n,i,c,a),i.child;case 14:return c=i.type,f=Fn(c,i.pendingProps),f=Fn(c.type,f),Dm(n,i,c,f,a);case 15:return Om(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Fn(c,f),ru(n,i),i.tag=1,Xt(c)?(n=!0,jl(i)):n=!1,Bs(i,a),Am(i,c,f),Sh(i,c,f,a),Rh(null,i,c,!0,n,a);case 19:return Bm(n,i,a);case 22:return Lm(n,i,a)}throw Error(t(156,i.tag))};function fg(n,i){return ms(n,i)}function Gw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(n,i,a,c){return new Gw(n,i,a,c)}function Wh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xw(n){if(typeof n=="function")return Wh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===V)return 11;if(n===ke)return 14}return 2}function ni(n,i){var a=n.alternate;return a===null?(a=Sn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function pu(n,i,a,c,f,m){var _=2;if(c=n,typeof n=="function")Wh(n)&&(_=1);else if(typeof n=="string")_=5;else e:switch(n){case C:return Qi(a.children,f,m,i);case T:_=8,f|=8;break;case I:return n=Sn(12,a,i,f|2),n.elementType=I,n.lanes=m,n;case A:return n=Sn(13,a,i,f),n.elementType=A,n.lanes=m,n;case Se:return n=Sn(19,a,i,f),n.elementType=Se,n.lanes=m,n;case Oe:return mu(a,f,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:_=10;break e;case k:_=9;break e;case V:_=11;break e;case ke:_=14;break e;case Ye:_=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Sn(_,a,i,f),i.elementType=n,i.type=c,i.lanes=m,i}function Qi(n,i,a,c){return n=Sn(7,n,c,i),n.lanes=a,n}function mu(n,i,a,c){return n=Sn(22,n,c,i),n.elementType=Oe,n.lanes=a,n.stateNode={isHidden:!1},n}function Kh(n,i,a){return n=Sn(6,n,null,i),n.lanes=a,n}function Gh(n,i,a){return i=Sn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Yw(n,i,a,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=br(0),this.expirationTimes=br(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Xh(n,i,a,c,f,m,_,P,N){return n=new Yw(n,i,a,P,N),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Sn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},uh(m),n}function Jw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function dg(n){if(!n)return Wr;n=n._reactInternals;e:{if(xn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Xt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Xt(a))return zp(n,a,i)}return i}function pg(n,i,a,c,f,m,_,P,N){return n=Xh(a,c,!0,n,f,m,_,P,N),n.context=dg(null),a=n.current,c=Ht(),f=ei(a),m=Cr(c,f),m.callback=i??null,Xr(a,m,f),n.current.lanes=f,Fr(n,f,c),Zt(n,c),n}function gu(n,i,a,c){var f=i.current,m=Ht(),_=ei(f);return a=dg(a),i.context===null?i.context=a:i.pendingContext=a,i=Cr(m,_),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Xr(f,i,_),n!==null&&(zn(n,f,_,m),Wl(n,f,_)),_}function yu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function mg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function Yh(n,i){mg(n,i),(n=n.alternate)&&mg(n,i)}function Zw(){return null}var gg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Jh(n){this._internalRoot=n}vu.prototype.render=Jh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));gu(n,i,null,null)},vu.prototype.unmount=Jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;$i(function(){gu(null,n,null,null)}),i[Er]=null}};function vu(n){this._internalRoot=n}vu.prototype.unstable_scheduleHydration=function(n){if(n){var i=vl();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Xn.length&&i!==0&&i<Xn[a].priority;a++);Xn.splice(a,0,n),a===0&&El(n)}};function Zh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function _u(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function yg(){}function eE(n,i,a,c,f){if(f){if(typeof c=="function"){var m=c;c=function(){var H=yu(_);m.call(H)}}var _=pg(i,c,n,0,null,!1,!1,"",yg);return n._reactRootContainer=_,n[Er]=_.current,ta(n.nodeType===8?n.parentNode:n),$i(),_}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var P=c;c=function(){var H=yu(N);P.call(H)}}var N=Xh(n,0,!1,null,null,!1,!1,"",yg);return n._reactRootContainer=N,n[Er]=N.current,ta(n.nodeType===8?n.parentNode:n),$i(function(){gu(i,N,a,c)}),N}function wu(n,i,a,c,f){var m=a._reactRootContainer;if(m){var _=m;if(typeof f=="function"){var P=f;f=function(){var N=yu(_);P.call(N)}}gu(i,_,n,f)}else _=eE(a,i,n,f,c);return yu(_)}gl=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Mr(i.pendingLanes);a!==0&&(jr(i,a|1),Zt(i,Ge()),(ze&6)===0&&(Ws=Ge()+500,Kr()))}break;case 13:$i(function(){var c=Ar(n,1);if(c!==null){var f=Ht();zn(c,n,1,f)}}),Yh(n,1)}},vs=function(n){if(n.tag===13){var i=Ar(n,134217728);if(i!==null){var a=Ht();zn(i,n,134217728,a)}Yh(n,134217728)}},yl=function(n){if(n.tag===13){var i=ei(n),a=Ar(n,i);if(a!==null){var c=Ht();zn(a,n,i,c)}Yh(n,i)}},vl=function(){return Le},_l=function(n,i){var a=Le;try{return Le=n,i()}finally{Le=a}},us=function(n,i,a){switch(i){case"input":if(Co(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var f=bl(c);if(!f)throw Error(t(90));rs(c),Co(c,f)}}}break;case"textarea":as(n,a);break;case"select":i=a.value,i!=null&&dr(n,!!a.multiple,i,!1)}},Si=qh,Mo=$i;var tE={usingClientEntryPoint:!1,Events:[ia,Os,bl,Kn,Lo,qh]},va={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nE={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=jo(n),n===null?null:n.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||Zw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Pi=Eu.inject(nE),sn=Eu}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tE,en.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(i))throw Error(t(200));return Jw(n,i,null,a)},en.createRoot=function(n,i){if(!Zh(n))throw Error(t(299));var a=!1,c="",f=gg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Xh(n,1,!1,null,null,a,!1,c,f),n[Er]=i.current,ta(n.nodeType===8?n.parentNode:n),new Jh(i)},en.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=jo(i),n=n===null?null:n.stateNode,n},en.flushSync=function(n){return $i(n)},en.hydrate=function(n,i,a){if(!_u(i))throw Error(t(200));return wu(null,n,i,!0,a)},en.hydrateRoot=function(n,i,a){if(!Zh(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,f=!1,m="",_=gg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),i=pg(i,null,n,1,a??null,f,!1,m,_),n[Er]=i.current,ta(n),c)for(n=0;n<c.length;n++)a=c[n],f=a._getVersion,f=f(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,f]:i.mutableSourceEagerHydrationData.push(a,f);return new vu(i)},en.render=function(n,i,a){if(!_u(i))throw Error(t(200));return wu(null,n,i,!1,a)},en.unmountComponentAtNode=function(n){if(!_u(n))throw Error(t(40));return n._reactRootContainer?($i(function(){wu(null,null,n,!1,function(){n._reactRootContainer=null,n[Er]=null})}),!0):!1},en.unstable_batchedUpdates=qh,en.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!_u(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return wu(n,i,a,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var Ag;function Av(){if(Ag)return nf.exports;Ag=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nf.exports=uE(),nf.exports}var Cg;function cE(){if(Cg)return Tu;Cg=1;var r=Av();return Tu.createRoot=r.createRoot,Tu.hydrateRoot=r.hydrateRoot,Tu}var hE=cE();function Df(r,e){return Df=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,s){return t.__proto__=s,t},Df(r,e)}function lr(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Df(r,e)}var of={exports:{}},af,Rg;function fE(){if(Rg)return af;Rg=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return af=r,af}var lf,Pg;function dE(){if(Pg)return lf;Pg=1;var r=fE();function e(){}function t(){}return t.resetWarningCache=e,lf=function(){function s(h,d,g,v,w,S){if(S!==r){var R=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw R.name="Invariant Violation",R}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},lf}var xg;function pE(){return xg||(xg=1,of.exports=dE()()),of.exports}var mE=pE();const kg=ic(mE);function Qt(){return Qt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)({}).hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Qt.apply(null,arguments)}function Su(r){return r.charAt(0)==="/"}function uf(r,e){for(var t=e,s=t+1,o=r.length;s<o;t+=1,s+=1)r[t]=r[s];r.pop()}function gE(r,e){e===void 0&&(e="");var t=r&&r.split("/")||[],s=e&&e.split("/")||[],o=r&&Su(r),u=e&&Su(e),h=o||u;if(r&&Su(r)?s=t:t.length&&(s.pop(),s=s.concat(t)),!s.length)return"/";var d;if(s.length){var g=s[s.length-1];d=g==="."||g===".."||g===""}else d=!1;for(var v=0,w=s.length;w>=0;w--){var S=s[w];S==="."?uf(s,w):S===".."?(uf(s,w),v++):v&&(uf(s,w),v--)}if(!h)for(;v--;v)s.unshift("..");h&&s[0]!==""&&(!s[0]||!Su(s[0]))&&s.unshift("");var R=s.join("/");return d&&R.substr(-1)!=="/"&&(R+="/"),R}var yE="Invariant failed";function ts(r,e){throw new Error(yE)}function ka(r){return r.charAt(0)==="/"?r:"/"+r}function Vg(r){return r.charAt(0)==="/"?r.substr(1):r}function vE(r,e){return r.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(r.charAt(e.length))!==-1}function Cv(r,e){return vE(r,e)?r.substr(e.length):r}function Rv(r){return r.charAt(r.length-1)==="/"?r.slice(0,-1):r}function _E(r){var e=r||"/",t="",s="",o=e.indexOf("#");o!==-1&&(s=e.substr(o),e=e.substr(0,o));var u=e.indexOf("?");return u!==-1&&(t=e.substr(u),e=e.substr(0,u)),{pathname:e,search:t==="?"?"":t,hash:s==="#"?"":s}}function tn(r){var e=r.pathname,t=r.search,s=r.hash,o=e||"/";return t&&t!=="?"&&(o+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(o+=s.charAt(0)==="#"?s:"#"+s),o}function fn(r,e,t,s){var o;typeof r=="string"?(o=_E(r),o.state=e):(o=Qt({},r),o.pathname===void 0&&(o.pathname=""),o.search?o.search.charAt(0)!=="?"&&(o.search="?"+o.search):o.search="",o.hash?o.hash.charAt(0)!=="#"&&(o.hash="#"+o.hash):o.hash="",e!==void 0&&o.state===void 0&&(o.state=e));try{o.pathname=decodeURI(o.pathname)}catch(u){throw u instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):u}return t&&(o.key=t),s?o.pathname?o.pathname.charAt(0)!=="/"&&(o.pathname=gE(o.pathname,s.pathname)):o.pathname=s.pathname:o.pathname||(o.pathname="/"),o}function gd(){var r=null;function e(h){return r=h,function(){r===h&&(r=null)}}function t(h,d,g,v){if(r!=null){var w=typeof r=="function"?r(h,d):r;typeof w=="string"?typeof g=="function"?g(w,v):v(!0):v(w!==!1)}else v(!0)}var s=[];function o(h){var d=!0;function g(){d&&h.apply(void 0,arguments)}return s.push(g),function(){d=!1,s=s.filter(function(v){return v!==g})}}function u(){for(var h=arguments.length,d=new Array(h),g=0;g<h;g++)d[g]=arguments[g];s.forEach(function(v){return v.apply(void 0,d)})}return{setPrompt:e,confirmTransitionTo:t,appendListener:o,notifyListeners:u}}var Pv=!!(typeof window<"u"&&window.document&&window.document.createElement);function xv(r,e){e(window.confirm(r))}function wE(){var r=window.navigator.userAgent;return(r.indexOf("Android 2.")!==-1||r.indexOf("Android 4.0")!==-1)&&r.indexOf("Mobile Safari")!==-1&&r.indexOf("Chrome")===-1&&r.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function EE(){return window.navigator.userAgent.indexOf("Trident")===-1}function TE(){return window.navigator.userAgent.indexOf("Firefox")===-1}function SE(r){return r.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var Ng="popstate",Dg="hashchange";function Og(){try{return window.history.state||{}}catch{return{}}}function IE(r){r===void 0&&(r={}),Pv||ts();var e=window.history,t=wE(),s=!EE(),o=r,u=o.forceRefresh,h=u===void 0?!1:u,d=o.getUserConfirmation,g=d===void 0?xv:d,v=o.keyLength,w=v===void 0?6:v,S=r.basename?Rv(ka(r.basename)):"";function R(te){var G=te||{},D=G.key,z=G.state,le=window.location,ye=le.pathname,ve=le.search,Ae=le.hash,Ce=ye+ve+Ae;return S&&(Ce=Cv(Ce,S)),fn(Ce,z,D)}function L(){return Math.random().toString(36).substr(2,w)}var j=gd();function q(te){Qt(ie,te),ie.length=e.length,j.notifyListeners(ie.location,ie.action)}function $(te){SE(te)||B(R(te.state))}function F(){B(R(Og()))}var Q=!1;function B(te){if(Q)Q=!1,q();else{var G="POP";j.confirmTransitionTo(te,G,g,function(D){D?q({action:G,location:te}):Z(te)})}}function Z(te){var G=ie.location,D=re.indexOf(G.key);D===-1&&(D=0);var z=re.indexOf(te.key);z===-1&&(z=0);var le=D-z;le&&(Q=!0,x(le))}var K=R(Og()),re=[K.key];function C(te){return S+tn(te)}function T(te,G){var D="PUSH",z=fn(te,G,L(),ie.location);j.confirmTransitionTo(z,D,g,function(le){if(le){var ye=C(z),ve=z.key,Ae=z.state;if(t)if(e.pushState({key:ve,state:Ae},null,ye),h)window.location.href=ye;else{var Ce=re.indexOf(ie.location.key),Ve=re.slice(0,Ce+1);Ve.push(z.key),re=Ve,q({action:D,location:z})}else window.location.href=ye}})}function I(te,G){var D="REPLACE",z=fn(te,G,L(),ie.location);j.confirmTransitionTo(z,D,g,function(le){if(le){var ye=C(z),ve=z.key,Ae=z.state;if(t)if(e.replaceState({key:ve,state:Ae},null,ye),h)window.location.replace(ye);else{var Ce=re.indexOf(ie.location.key);Ce!==-1&&(re[Ce]=z.key),q({action:D,location:z})}else window.location.replace(ye)}})}function x(te){e.go(te)}function k(){x(-1)}function V(){x(1)}var A=0;function Se(te){A+=te,A===1&&te===1?(window.addEventListener(Ng,$),s&&window.addEventListener(Dg,F)):A===0&&(window.removeEventListener(Ng,$),s&&window.removeEventListener(Dg,F))}var ke=!1;function Ye(te){te===void 0&&(te=!1);var G=j.setPrompt(te);return ke||(Se(1),ke=!0),function(){return ke&&(ke=!1,Se(-1)),G()}}function Oe(te){var G=j.appendListener(te);return Se(1),function(){Se(-1),G()}}var ie={length:e.length,action:"POP",location:K,createHref:C,push:T,replace:I,go:x,goBack:k,goForward:V,block:Ye,listen:Oe};return ie}var Lg="hashchange",AE={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+Vg(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:Vg,decodePath:ka},slash:{encodePath:ka,decodePath:ka}};function kv(r){var e=r.indexOf("#");return e===-1?r:r.slice(0,e)}function wa(){var r=window.location.href,e=r.indexOf("#");return e===-1?"":r.substring(e+1)}function CE(r){window.location.hash=r}function cf(r){window.location.replace(kv(window.location.href)+"#"+r)}function RE(r){r===void 0&&(r={}),Pv||ts();var e=window.history;TE();var t=r,s=t.getUserConfirmation,o=s===void 0?xv:s,u=t.hashType,h=u===void 0?"slash":u,d=r.basename?Rv(ka(r.basename)):"",g=AE[h],v=g.encodePath,w=g.decodePath;function S(){var G=w(wa());return d&&(G=Cv(G,d)),fn(G)}var R=gd();function L(G){Qt(te,G),te.length=e.length,R.notifyListeners(te.location,te.action)}var j=!1,q=null;function $(G,D){return G.pathname===D.pathname&&G.search===D.search&&G.hash===D.hash}function F(){var G=wa(),D=v(G);if(G!==D)cf(D);else{var z=S(),le=te.location;if(!j&&$(le,z)||q===tn(z))return;q=null,Q(z)}}function Q(G){if(j)j=!1,L();else{var D="POP";R.confirmTransitionTo(G,D,o,function(z){z?L({action:D,location:G}):B(G)})}}function B(G){var D=te.location,z=C.lastIndexOf(tn(D));z===-1&&(z=0);var le=C.lastIndexOf(tn(G));le===-1&&(le=0);var ye=z-le;ye&&(j=!0,k(ye))}var Z=wa(),K=v(Z);Z!==K&&cf(K);var re=S(),C=[tn(re)];function T(G){var D=document.querySelector("base"),z="";return D&&D.getAttribute("href")&&(z=kv(window.location.href)),z+"#"+v(d+tn(G))}function I(G,D){var z="PUSH",le=fn(G,void 0,void 0,te.location);R.confirmTransitionTo(le,z,o,function(ye){if(ye){var ve=tn(le),Ae=v(d+ve),Ce=wa()!==Ae;if(Ce){q=ve,CE(Ae);var Ve=C.lastIndexOf(tn(te.location)),Qe=C.slice(0,Ve+1);Qe.push(ve),C=Qe,L({action:z,location:le})}else L()}})}function x(G,D){var z="REPLACE",le=fn(G,void 0,void 0,te.location);R.confirmTransitionTo(le,z,o,function(ye){if(ye){var ve=tn(le),Ae=v(d+ve),Ce=wa()!==Ae;Ce&&(q=ve,cf(Ae));var Ve=C.indexOf(tn(te.location));Ve!==-1&&(C[Ve]=ve),L({action:z,location:le})}})}function k(G){e.go(G)}function V(){k(-1)}function A(){k(1)}var Se=0;function ke(G){Se+=G,Se===1&&G===1?window.addEventListener(Lg,F):Se===0&&window.removeEventListener(Lg,F)}var Ye=!1;function Oe(G){G===void 0&&(G=!1);var D=R.setPrompt(G);return Ye||(ke(1),Ye=!0),function(){return Ye&&(Ye=!1,ke(-1)),D()}}function ie(G){var D=R.appendListener(G);return ke(1),function(){ke(-1),D()}}var te={length:e.length,action:"POP",location:re,createHref:T,push:I,replace:x,go:k,goBack:V,goForward:A,block:Oe,listen:ie};return te}function Mg(r,e,t){return Math.min(Math.max(r,e),t)}function PE(r){r===void 0&&(r={});var e=r,t=e.getUserConfirmation,s=e.initialEntries,o=s===void 0?["/"]:s,u=e.initialIndex,h=u===void 0?0:u,d=e.keyLength,g=d===void 0?6:d,v=gd();function w(T){Qt(C,T),C.length=C.entries.length,v.notifyListeners(C.location,C.action)}function S(){return Math.random().toString(36).substr(2,g)}var R=Mg(h,0,o.length-1),L=o.map(function(T){return typeof T=="string"?fn(T,void 0,S()):fn(T,void 0,T.key||S())}),j=tn;function q(T,I){var x="PUSH",k=fn(T,I,S(),C.location);v.confirmTransitionTo(k,x,t,function(V){if(V){var A=C.index,Se=A+1,ke=C.entries.slice(0);ke.length>Se?ke.splice(Se,ke.length-Se,k):ke.push(k),w({action:x,location:k,index:Se,entries:ke})}})}function $(T,I){var x="REPLACE",k=fn(T,I,S(),C.location);v.confirmTransitionTo(k,x,t,function(V){V&&(C.entries[C.index]=k,w({action:x,location:k}))})}function F(T){var I=Mg(C.index+T,0,C.entries.length-1),x="POP",k=C.entries[I];v.confirmTransitionTo(k,x,t,function(V){V?w({action:x,location:k,index:I}):w()})}function Q(){F(-1)}function B(){F(1)}function Z(T){var I=C.index+T;return I>=0&&I<C.entries.length}function K(T){return T===void 0&&(T=!1),v.setPrompt(T)}function re(T){return v.appendListener(T)}var C={length:L.length,action:"POP",location:L[R],index:R,entries:L,createHref:j,push:q,replace:$,go:F,goBack:Q,goForward:B,canGo:Z,block:K,listen:re};return C}var Wi={exports:{}},hf,bg;function xE(){return bg||(bg=1,hf=Array.isArray||function(r){return Object.prototype.toString.call(r)=="[object Array]"}),hf}var Fg;function kE(){if(Fg)return Wi.exports;Fg=1;var r=xE();Wi.exports=$,Wi.exports.parse=t,Wi.exports.compile=o,Wi.exports.tokensToFunction=d,Wi.exports.tokensToRegExp=q;var e=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function t(F,Q){for(var B=[],Z=0,K=0,re="",C=Q&&Q.delimiter||"/",T;(T=e.exec(F))!=null;){var I=T[0],x=T[1],k=T.index;if(re+=F.slice(K,k),K=k+I.length,x){re+=x[1];continue}var V=F[K],A=T[2],Se=T[3],ke=T[4],Ye=T[5],Oe=T[6],ie=T[7];re&&(B.push(re),re="");var te=A!=null&&V!=null&&V!==A,G=Oe==="+"||Oe==="*",D=Oe==="?"||Oe==="*",z=A||C,le=ke||Ye,ye=A||(typeof B[B.length-1]=="string"?B[B.length-1]:"");B.push({name:Se||Z++,prefix:A||"",delimiter:z,optional:D,repeat:G,partial:te,asterisk:!!ie,pattern:le?v(le):ie?".*":s(z,ye)})}return K<F.length&&(re+=F.substr(K)),re&&B.push(re),B}function s(F,Q){return!Q||Q.indexOf(F)>-1?"[^"+g(F)+"]+?":g(Q)+"|(?:(?!"+g(Q)+")[^"+g(F)+"])+?"}function o(F,Q){return d(t(F,Q),Q)}function u(F){return encodeURI(F).replace(/[\/?#]/g,function(Q){return"%"+Q.charCodeAt(0).toString(16).toUpperCase()})}function h(F){return encodeURI(F).replace(/[?#]/g,function(Q){return"%"+Q.charCodeAt(0).toString(16).toUpperCase()})}function d(F,Q){for(var B=new Array(F.length),Z=0;Z<F.length;Z++)typeof F[Z]=="object"&&(B[Z]=new RegExp("^(?:"+F[Z].pattern+")$",S(Q)));return function(K,re){for(var C="",T=K||{},I=re||{},x=I.pretty?u:encodeURIComponent,k=0;k<F.length;k++){var V=F[k];if(typeof V=="string"){C+=V;continue}var A=T[V.name],Se;if(A==null)if(V.optional){V.partial&&(C+=V.prefix);continue}else throw new TypeError('Expected "'+V.name+'" to be defined');if(r(A)){if(!V.repeat)throw new TypeError('Expected "'+V.name+'" to not repeat, but received `'+JSON.stringify(A)+"`");if(A.length===0){if(V.optional)continue;throw new TypeError('Expected "'+V.name+'" to not be empty')}for(var ke=0;ke<A.length;ke++){if(Se=x(A[ke]),!B[k].test(Se))throw new TypeError('Expected all "'+V.name+'" to match "'+V.pattern+'", but received `'+JSON.stringify(Se)+"`");C+=(ke===0?V.prefix:V.delimiter)+Se}continue}if(Se=V.asterisk?h(A):x(A),!B[k].test(Se))throw new TypeError('Expected "'+V.name+'" to match "'+V.pattern+'", but received "'+Se+'"');C+=V.prefix+Se}return C}}function g(F){return F.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function v(F){return F.replace(/([=!:$\/()])/g,"\\$1")}function w(F,Q){return F.keys=Q,F}function S(F){return F&&F.sensitive?"":"i"}function R(F,Q){var B=F.source.match(/\((?!\?)/g);if(B)for(var Z=0;Z<B.length;Z++)Q.push({name:Z,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return w(F,Q)}function L(F,Q,B){for(var Z=[],K=0;K<F.length;K++)Z.push($(F[K],Q,B).source);var re=new RegExp("(?:"+Z.join("|")+")",S(B));return w(re,Q)}function j(F,Q,B){return q(t(F,B),Q,B)}function q(F,Q,B){r(Q)||(B=Q||B,Q=[]),B=B||{};for(var Z=B.strict,K=B.end!==!1,re="",C=0;C<F.length;C++){var T=F[C];if(typeof T=="string")re+=g(T);else{var I=g(T.prefix),x="(?:"+T.pattern+")";Q.push(T),T.repeat&&(x+="(?:"+I+x+")*"),T.optional?T.partial?x=I+"("+x+")?":x="(?:"+I+"("+x+"))?":x=I+"("+x+")",re+=x}}var k=g(B.delimiter||"/"),V=re.slice(-k.length)===k;return Z||(re=(V?re.slice(0,-k.length):re)+"(?:"+k+"(?=$))?"),K?re+="$":re+=Z&&V?"":"(?="+k+"|$)",w(new RegExp("^"+re,S(B)),Q)}function $(F,Q,B){return r(Q)||(B=Q||B,Q=[]),B=B||{},F instanceof RegExp?R(F,Q):r(F)?L(F,Q,B):j(F,Q,B)}return Wi.exports}var VE=kE();const NE=ic(VE);var ff={exports:{}},He={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function DE(){if(jg)return He;jg=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,h=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,g=r?Symbol.for("react.async_mode"):60111,v=r?Symbol.for("react.concurrent_mode"):60111,w=r?Symbol.for("react.forward_ref"):60112,S=r?Symbol.for("react.suspense"):60113,R=r?Symbol.for("react.suspense_list"):60120,L=r?Symbol.for("react.memo"):60115,j=r?Symbol.for("react.lazy"):60116,q=r?Symbol.for("react.block"):60121,$=r?Symbol.for("react.fundamental"):60117,F=r?Symbol.for("react.responder"):60118,Q=r?Symbol.for("react.scope"):60119;function B(K){if(typeof K=="object"&&K!==null){var re=K.$$typeof;switch(re){case e:switch(K=K.type,K){case g:case v:case s:case u:case o:case S:return K;default:switch(K=K&&K.$$typeof,K){case d:case w:case j:case L:case h:return K;default:return re}}case t:return re}}}function Z(K){return B(K)===v}return He.AsyncMode=g,He.ConcurrentMode=v,He.ContextConsumer=d,He.ContextProvider=h,He.Element=e,He.ForwardRef=w,He.Fragment=s,He.Lazy=j,He.Memo=L,He.Portal=t,He.Profiler=u,He.StrictMode=o,He.Suspense=S,He.isAsyncMode=function(K){return Z(K)||B(K)===g},He.isConcurrentMode=Z,He.isContextConsumer=function(K){return B(K)===d},He.isContextProvider=function(K){return B(K)===h},He.isElement=function(K){return typeof K=="object"&&K!==null&&K.$$typeof===e},He.isForwardRef=function(K){return B(K)===w},He.isFragment=function(K){return B(K)===s},He.isLazy=function(K){return B(K)===j},He.isMemo=function(K){return B(K)===L},He.isPortal=function(K){return B(K)===t},He.isProfiler=function(K){return B(K)===u},He.isStrictMode=function(K){return B(K)===o},He.isSuspense=function(K){return B(K)===S},He.isValidElementType=function(K){return typeof K=="string"||typeof K=="function"||K===s||K===v||K===u||K===o||K===S||K===R||typeof K=="object"&&K!==null&&(K.$$typeof===j||K.$$typeof===L||K.$$typeof===h||K.$$typeof===d||K.$$typeof===w||K.$$typeof===$||K.$$typeof===F||K.$$typeof===Q||K.$$typeof===q)},He.typeOf=B,He}var Ug;function Vv(){return Ug||(Ug=1,ff.exports=DE()),ff.exports}Vv();function sc(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)!==-1)continue;t[s]=r[s]}return t}var df,zg;function OE(){if(zg)return df;zg=1;var r=Vv(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[r.ForwardRef]=s,u[r.Memo]=o;function h(j){return r.isMemo(j)?o:u[j.$$typeof]||e}var d=Object.defineProperty,g=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,w=Object.getOwnPropertyDescriptor,S=Object.getPrototypeOf,R=Object.prototype;function L(j,q,$){if(typeof q!="string"){if(R){var F=S(q);F&&F!==R&&L(j,F,$)}var Q=g(q);v&&(Q=Q.concat(v(q)));for(var B=h(j),Z=h(q),K=0;K<Q.length;++K){var re=Q[K];if(!t[re]&&!($&&$[re])&&!(Z&&Z[re])&&!(B&&B[re])){var C=w(q,re);try{d(j,re,C)}catch{}}}}return j}return df=L,df}OE();var pf=1073741823,Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function LE(){var r="__global_unique_id__";return Bg[r]=(Bg[r]||0)+1}function ME(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function bE(r){var e=[];return{on:function(s){e.push(s)},off:function(s){e=e.filter(function(o){return o!==s})},get:function(){return r},set:function(s,o){r=s,e.forEach(function(u){return u(r,o)})}}}function FE(r){return Array.isArray(r)?r[0]:r}function jE(r,e){var t,s,o="__create-react-context-"+LE()+"__",u=function(d){lr(g,d);function g(){for(var w,S=arguments.length,R=new Array(S),L=0;L<S;L++)R[L]=arguments[L];return w=d.call.apply(d,[this].concat(R))||this,w.emitter=bE(w.props.value),w}var v=g.prototype;return v.getChildContext=function(){var S;return S={},S[o]=this.emitter,S},v.componentWillReceiveProps=function(S){if(this.props.value!==S.value){var R=this.props.value,L=S.value,j;ME(R,L)?j=0:(j=typeof e=="function"?e(R,L):pf,j|=0,j!==0&&this.emitter.set(S.value,j))}},v.render=function(){return this.props.children},g}($e.Component);u.childContextTypes=(t={},t[o]=kg.object.isRequired,t);var h=function(d){lr(g,d);function g(){for(var w,S=arguments.length,R=new Array(S),L=0;L<S;L++)R[L]=arguments[L];return w=d.call.apply(d,[this].concat(R))||this,w.observedBits=void 0,w.state={value:w.getValue()},w.onUpdate=function(j,q){var $=w.observedBits|0;($&q)!==0&&w.setState({value:w.getValue()})},w}var v=g.prototype;return v.componentWillReceiveProps=function(S){var R=S.observedBits;this.observedBits=R??pf},v.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var S=this.props.observedBits;this.observedBits=S??pf},v.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},v.getValue=function(){return this.context[o]?this.context[o].get():r},v.render=function(){return FE(this.props.children)(this.state.value)},g}($e.Component);return h.contextTypes=(s={},s[o]=kg.object,s),{Provider:u,Consumer:h}}var UE=$e.createContext||jE,Nv=function(e){var t=UE();return t.displayName=e,t},zE=Nv("Router-History"),oo=Nv("Router"),oc=function(r){lr(e,r),e.computeRootMatch=function(o){return{path:"/",url:"/",params:{},isExact:o==="/"}};function e(s){var o;return o=r.call(this,s)||this,o.state={location:s.history.location},o._isMounted=!1,o._pendingLocation=null,s.staticContext||(o.unlisten=s.history.listen(function(u){o._pendingLocation=u})),o}var t=e.prototype;return t.componentDidMount=function(){var o=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(u){o._isMounted&&o.setState({location:u})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},t.render=function(){return $e.createElement(oo.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},$e.createElement(zE.Provider,{children:this.props.children||null,value:this.props.history}))},e}($e.Component);$e.Component;$e.Component;var $g={},BE=1e4,qg=0;function $E(r,e){var t=""+e.end+e.strict+e.sensitive,s=$g[t]||($g[t]={});if(s[r])return s[r];var o=[],u=NE(r,o,e),h={regexp:u,keys:o};return qg<BE&&(s[r]=h,qg++),h}function yd(r,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var t=e,s=t.path,o=t.exact,u=o===void 0?!1:o,h=t.strict,d=h===void 0?!1:h,g=t.sensitive,v=g===void 0?!1:g,w=[].concat(s);return w.reduce(function(S,R){if(!R&&R!=="")return null;if(S)return S;var L=$E(R,{end:u,strict:d,sensitive:v}),j=L.regexp,q=L.keys,$=j.exec(r);if(!$)return null;var F=$[0],Q=$.slice(1),B=r===F;return u&&!B?null:{path:R,url:R==="/"&&F===""?"/":F,isExact:B,params:q.reduce(function(Z,K,re){return Z[K.name]=Q[re],Z},{})}},null)}function qE(r){return $e.Children.count(r)===0}var Iu=function(r){lr(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var o=this;return $e.createElement(oo.Consumer,null,function(u){u||ts();var h=o.props.location||u.location,d=o.props.computedMatch?o.props.computedMatch:o.props.path?yd(h.pathname,o.props):u.match,g=Qt({},u,{location:h,match:d}),v=o.props,w=v.children,S=v.component,R=v.render;return Array.isArray(w)&&qE(w)&&(w=null),$e.createElement(oo.Provider,{value:g},g.match?w?typeof w=="function"?w(g):w:S?$e.createElement(S,g):R?R(g):null:typeof w=="function"?w(g):null)})},e}($e.Component);function vd(r){return r.charAt(0)==="/"?r:"/"+r}function HE(r,e){return r?Qt({},e,{pathname:vd(r)+e.pathname}):e}function QE(r,e){if(!r)return e;var t=vd(r);return e.pathname.indexOf(t)!==0?e:Qt({},e,{pathname:e.pathname.substr(t.length)})}function Hg(r){return typeof r=="string"?r:tn(r)}function mf(r){return function(){ts()}}function Qg(){}$e.Component;var WE=function(r){lr(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var o=this;return $e.createElement(oo.Consumer,null,function(u){u||ts();var h=o.props.location||u.location,d,g;return $e.Children.forEach(o.props.children,function(v){if(g==null&&$e.isValidElement(v)){d=v;var w=v.props.path||v.props.from;g=w?yd(h.pathname,Qt({},v.props,{path:w})):u.match}}),g?$e.cloneElement(d,{location:h,computedMatch:g}):null})},e}($e.Component);$e.useContext;var KE=function(r){lr(e,r);function e(){for(var s,o=arguments.length,u=new Array(o),h=0;h<o;h++)u[h]=arguments[h];return s=r.call.apply(r,[this].concat(u))||this,s.history=IE(s.props),s}var t=e.prototype;return t.render=function(){return $e.createElement(oc,{history:this.history,children:this.props.children})},e}($e.Component);$e.Component;var Of=function(e,t){return typeof e=="function"?e(t):e},Lf=function(e,t){return typeof e=="string"?fn(e,null,null,t):e},_d=function(e){return e},ao=$e.forwardRef;typeof ao>"u"&&(ao=_d);function GE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}var XE=ao(function(r,e){var t=r.innerRef,s=r.navigate,o=r.onClick,u=sc(r,["innerRef","navigate","onClick"]),h=u.target,d=Qt({},u,{onClick:function(v){try{o&&o(v)}catch(w){throw v.preventDefault(),w}!v.defaultPrevented&&v.button===0&&(!h||h==="_self")&&!GE(v)&&(v.preventDefault(),s())}});return _d!==ao?d.ref=e||t:d.ref=t,$e.createElement("a",d)}),Aa=ao(function(r,e){var t=r.component,s=t===void 0?XE:t,o=r.replace,u=r.to,h=r.innerRef,d=sc(r,["component","replace","to","innerRef"]);return $e.createElement(oo.Consumer,null,function(g){g||ts();var v=g.history,w=Lf(Of(u,g.location),g.location),S=w?v.createHref(w):"",R=Qt({},d,{href:S,navigate:function(){var j=Of(u,g.location),q=tn(g.location)===tn(Lf(j)),$=o||q?v.replace:v.push;$(j)}});return _d!==ao?R.ref=e||h:R.innerRef=h,$e.createElement(s,R)})}),Dv=function(e){return e},ju=$e.forwardRef;typeof ju>"u"&&(ju=Dv);function YE(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return e.filter(function(s){return s}).join(" ")}ju(function(r,e){var t=r["aria-current"],s=t===void 0?"page":t,o=r.activeClassName,u=o===void 0?"active":o,h=r.activeStyle,d=r.className,g=r.exact,v=r.isActive,w=r.location,S=r.sensitive,R=r.strict,L=r.style,j=r.to,q=r.innerRef,$=sc(r,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return $e.createElement(oo.Consumer,null,function(F){F||ts();var Q=w||F.location,B=Lf(Of(j,Q),Q),Z=B.pathname,K=Z&&Z.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),re=K?yd(Q.pathname,{path:K,exact:g,sensitive:S,strict:R}):null,C=!!(v?v(re,Q):re),T=typeof d=="function"?d(C):d,I=typeof L=="function"?L(C):L;C&&(T=YE(T,u),I=Qt({},I,h));var x=Qt({"aria-current":C&&s||null,className:T,style:I,to:B},$);return Dv!==ju?x.ref=e||q:x.innerRef=q,$e.createElement(Aa,x)})});var wd=tl(),Pe=r=>el(r,wd),Ed=tl();Pe.write=r=>el(r,Ed);var ac=tl();Pe.onStart=r=>el(r,ac);var Td=tl();Pe.onFrame=r=>el(r,Td);var Sd=tl();Pe.onFinish=r=>el(r,Sd);var eo=[];Pe.setTimeout=(r,e)=>{const t=Pe.now()+e,s=()=>{const u=eo.findIndex(h=>h.cancel==s);~u&&eo.splice(u,1),oi-=~u?1:0},o={time:t,handler:r,cancel:s};return eo.splice(Ov(t),0,o),oi+=1,Lv(),o};var Ov=r=>~(~eo.findIndex(e=>e.time>r)||~eo.length);Pe.cancel=r=>{ac.delete(r),Td.delete(r),Sd.delete(r),wd.delete(r),Ed.delete(r)};Pe.sync=r=>{Mf=!0,Pe.batchedUpdates(r),Mf=!1};Pe.throttle=r=>{let e;function t(){try{r(...e)}finally{e=null}}function s(...o){e=o,Pe.onStart(t)}return s.handler=r,s.cancel=()=>{ac.delete(t),e=null},s};var Id=typeof window<"u"?window.requestAnimationFrame:()=>{};Pe.use=r=>Id=r;Pe.now=typeof performance<"u"?()=>performance.now():Date.now;Pe.batchedUpdates=r=>r();Pe.catch=console.error;Pe.frameLoop="always";Pe.advance=()=>{Pe.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):bv()};var si=-1,oi=0,Mf=!1;function el(r,e){Mf?(e.delete(r),r(0)):(e.add(r),Lv())}function Lv(){si<0&&(si=0,Pe.frameLoop!=="demand"&&Id(Mv))}function JE(){si=-1}function Mv(){~si&&(Id(Mv),Pe.batchedUpdates(bv))}function bv(){const r=si;si=Pe.now();const e=Ov(si);if(e&&(Fv(eo.splice(0,e),t=>t.handler()),oi-=e),!oi){JE();return}ac.flush(),wd.flush(r?Math.min(64,si-r):16.667),Td.flush(),Ed.flush(),Sd.flush()}function tl(){let r=new Set,e=r;return{add(t){oi+=e==r&&!r.has(t)?1:0,r.add(t)},delete(t){return oi-=e==r&&r.has(t)?1:0,r.delete(t)},flush(t){e.size&&(r=new Set,oi-=e.size,Fv(e,s=>s(t)&&r.add(s)),oi+=r.size,e=r)}}}function Fv(r,e){r.forEach(t=>{try{e(t)}catch(s){Pe.catch(s)}})}var ZE=Object.defineProperty,e1=(r,e)=>{for(var t in e)ZE(r,t,{get:e[t],enumerable:!0})},qn={};e1(qn,{assign:()=>n1,colors:()=>ui,createStringInterpolator:()=>Cd,skipAnimation:()=>Uv,to:()=>jv,willAdvance:()=>Rd});function bf(){}var t1=(r,e,t)=>Object.defineProperty(r,e,{value:t,writable:!0,configurable:!0}),oe={arr:Array.isArray,obj:r=>!!r&&r.constructor.name==="Object",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",und:r=>r===void 0};function xr(r,e){if(oe.arr(r)){if(!oe.arr(e)||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}return r===e}var Me=(r,e)=>r.forEach(e);function ur(r,e,t){if(oe.arr(r)){for(let s=0;s<r.length;s++)e.call(t,r[s],`${s}`);return}for(const s in r)r.hasOwnProperty(s)&&e.call(t,r[s],s)}var dn=r=>oe.und(r)?[]:oe.arr(r)?r:[r];function Va(r,e){if(r.size){const t=Array.from(r);r.clear(),Me(t,e)}}var Ca=(r,...e)=>Va(r,t=>t(...e)),Ad=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Cd,jv,ui=null,Uv=!1,Rd=bf,n1=r=>{r.to&&(jv=r.to),r.now&&(Pe.now=r.now),r.colors!==void 0&&(ui=r.colors),r.skipAnimation!=null&&(Uv=r.skipAnimation),r.createStringInterpolator&&(Cd=r.createStringInterpolator),r.requestAnimationFrame&&Pe.use(r.requestAnimationFrame),r.batchedUpdates&&(Pe.batchedUpdates=r.batchedUpdates),r.willAdvance&&(Rd=r.willAdvance),r.frameLoop&&(Pe.frameLoop=r.frameLoop)},Na=new Set,An=[],gf=[],Uu=0,lc={get idle(){return!Na.size&&!An.length},start(r){Uu>r.priority?(Na.add(r),Pe.onStart(r1)):(zv(r),Pe(Ff))},advance:Ff,sort(r){if(Uu)Pe.onFrame(()=>lc.sort(r));else{const e=An.indexOf(r);~e&&(An.splice(e,1),Bv(r))}},clear(){An=[],Na.clear()}};function r1(){Na.forEach(zv),Na.clear(),Pe(Ff)}function zv(r){An.includes(r)||Bv(r)}function Bv(r){An.splice(i1(An,e=>e.priority>r.priority),0,r)}function Ff(r){const e=gf;for(let t=0;t<An.length;t++){const s=An[t];Uu=s.priority,s.idle||(Rd(s),s.advance(r),s.idle||e.push(s))}return Uu=0,gf=An,gf.length=0,An=e,An.length>0}function i1(r,e){const t=r.findIndex(e);return t<0?r.length:t}var s1={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},$n="[-+]?\\d*\\.?\\d+",zu=$n+"%";function uc(...r){return"\\(\\s*("+r.join(")\\s*,\\s*(")+")\\s*\\)"}var o1=new RegExp("rgb"+uc($n,$n,$n)),a1=new RegExp("rgba"+uc($n,$n,$n,$n)),l1=new RegExp("hsl"+uc($n,zu,zu)),u1=new RegExp("hsla"+uc($n,zu,zu,$n)),c1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,h1=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,f1=/^#([0-9a-fA-F]{6})$/,d1=/^#([0-9a-fA-F]{8})$/;function p1(r){let e;return typeof r=="number"?r>>>0===r&&r>=0&&r<=4294967295?r:null:(e=f1.exec(r))?parseInt(e[1]+"ff",16)>>>0:ui&&ui[r]!==void 0?ui[r]:(e=o1.exec(r))?(Gs(e[1])<<24|Gs(e[2])<<16|Gs(e[3])<<8|255)>>>0:(e=a1.exec(r))?(Gs(e[1])<<24|Gs(e[2])<<16|Gs(e[3])<<8|Gg(e[4]))>>>0:(e=c1.exec(r))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=d1.exec(r))?parseInt(e[1],16)>>>0:(e=h1.exec(r))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=l1.exec(r))?(Wg(Kg(e[1]),Au(e[2]),Au(e[3]))|255)>>>0:(e=u1.exec(r))?(Wg(Kg(e[1]),Au(e[2]),Au(e[3]))|Gg(e[4]))>>>0:null}function yf(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function Wg(r,e,t){const s=t<.5?t*(1+e):t+e-t*e,o=2*t-s,u=yf(o,s,r+1/3),h=yf(o,s,r),d=yf(o,s,r-1/3);return Math.round(u*255)<<24|Math.round(h*255)<<16|Math.round(d*255)<<8}function Gs(r){const e=parseInt(r,10);return e<0?0:e>255?255:e}function Kg(r){return(parseFloat(r)%360+360)%360/360}function Gg(r){const e=parseFloat(r);return e<0?0:e>1?255:Math.round(e*255)}function Au(r){const e=parseFloat(r);return e<0?0:e>100?1:e/100}function Xg(r){let e=p1(r);if(e===null)return r;e=e||0;const t=(e&4278190080)>>>24,s=(e&16711680)>>>16,o=(e&65280)>>>8,u=(e&255)/255;return`rgba(${t}, ${s}, ${o}, ${u})`}var ja=(r,e,t)=>{if(oe.fun(r))return r;if(oe.arr(r))return ja({range:r,output:e,extrapolate:t});if(oe.str(r.output[0]))return Cd(r);const s=r,o=s.output,u=s.range||[0,1],h=s.extrapolateLeft||s.extrapolate||"extend",d=s.extrapolateRight||s.extrapolate||"extend",g=s.easing||(v=>v);return v=>{const w=g1(v,u);return m1(v,u[w],u[w+1],o[w],o[w+1],g,h,d,s.map)}};function m1(r,e,t,s,o,u,h,d,g){let v=g?g(r):r;if(v<e){if(h==="identity")return v;h==="clamp"&&(v=e)}if(v>t){if(d==="identity")return v;d==="clamp"&&(v=t)}return s===o?s:e===t?r<=e?s:o:(e===-1/0?v=-v:t===1/0?v=v-e:v=(v-e)/(t-e),v=u(v),s===-1/0?v=-v:o===1/0?v=v+s:v=v*(o-s)+s,v)}function g1(r,e){for(var t=1;t<e.length-1&&!(e[t]>=r);++t);return t-1}var y1={linear:r=>r},Ua=Symbol.for("FluidValue.get"),lo=Symbol.for("FluidValue.observers"),In=r=>!!(r&&r[Ua]),rn=r=>r&&r[Ua]?r[Ua]():r,Yg=r=>r[lo]||null;function v1(r,e){r.eventObserved?r.eventObserved(e):r(e)}function za(r,e){const t=r[lo];t&&t.forEach(s=>{v1(s,e)})}var $v=class{constructor(r){if(!r&&!(r=this.get))throw Error("Unknown getter");_1(this,r)}},_1=(r,e)=>qv(r,Ua,e);function vo(r,e){if(r[Ua]){let t=r[lo];t||qv(r,lo,t=new Set),t.has(e)||(t.add(e),r.observerAdded&&r.observerAdded(t.size,e))}return e}function Ba(r,e){const t=r[lo];if(t&&t.has(e)){const s=t.size-1;s?t.delete(e):r[lo]=null,r.observerRemoved&&r.observerRemoved(s,e)}}var qv=(r,e,t)=>Object.defineProperty(r,e,{value:t,writable:!0,configurable:!0}),Nu=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,w1=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Jg=new RegExp(`(${Nu.source})(%|[a-z]+)`,"i"),E1=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cc=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Hv=r=>{const[e,t]=T1(r);if(!e||Ad())return r;const s=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(s)return s.trim();if(t&&t.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(t);return o||r}else{if(t&&cc.test(t))return Hv(t);if(t)return t}return r},T1=r=>{const e=cc.exec(r);if(!e)return[,];const[,t,s]=e;return[t,s]},vf,S1=(r,e,t,s,o)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(s)}, ${o})`,Qv=r=>{vf||(vf=ui?new RegExp(`(${Object.keys(ui).join("|")})(?!\\w)`,"g"):/^\b$/);const e=r.output.map(u=>rn(u).replace(cc,Hv).replace(w1,Xg).replace(vf,Xg)),t=e.map(u=>u.match(Nu).map(Number)),o=t[0].map((u,h)=>t.map(d=>{if(!(h in d))throw Error('The arity of each "output" value must be equal');return d[h]})).map(u=>ja({...r,output:u}));return u=>{var g;const h=!Jg.test(e[0])&&((g=e.find(v=>Jg.test(v)))==null?void 0:g.replace(Nu,""));let d=0;return e[0].replace(Nu,()=>`${o[d++](u)}${h||""}`).replace(E1,S1)}},Pd="react-spring: ",Wv=r=>{const e=r;let t=!1;if(typeof e!="function")throw new TypeError(`${Pd}once requires a function parameter`);return(...s)=>{t||(e(...s),t=!0)}},I1=Wv(console.warn);function A1(){I1(`${Pd}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var C1=Wv(console.warn);function R1(){C1(`${Pd}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function hc(r){return oe.str(r)&&(r[0]=="#"||/\d/.test(r)||!Ad()&&cc.test(r)||r in(ui||{}))}var xd=Ad()?Ee.useEffect:Ee.useLayoutEffect,P1=()=>{const r=Ee.useRef(!1);return xd(()=>(r.current=!0,()=>{r.current=!1}),[]),r};function Kv(){const r=Ee.useState()[1],e=P1();return()=>{e.current&&r(Math.random())}}function x1(r,e){const[t]=Ee.useState(()=>({inputs:e,result:r()})),s=Ee.useRef(),o=s.current;let u=o;return u?e&&u.inputs&&k1(e,u.inputs)||(u={inputs:e,result:r()}):u=t,Ee.useEffect(()=>{s.current=u,o==t&&(t.inputs=t.result=void 0)},[u]),u.result}function k1(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}var Gv=r=>Ee.useEffect(r,V1),V1=[];function Zg(r){const e=Ee.useRef();return Ee.useEffect(()=>{e.current=r}),e.current}var $a=Symbol.for("Animated:node"),N1=r=>!!r&&r[$a]===r,ir=r=>r&&r[$a],kd=(r,e)=>t1(r,$a,e),fc=r=>r&&r[$a]&&r[$a].getPayload(),Xv=class{constructor(){kd(this,this)}getPayload(){return this.payload||[]}},nl=class extends Xv{constructor(r){super(),this._value=r,this.done=!0,this.durationProgress=0,oe.num(this._value)&&(this.lastPosition=this._value)}static create(r){return new nl(r)}getPayload(){return[this]}getValue(){return this._value}setValue(r,e){return oe.num(r)&&(this.lastPosition=r,e&&(r=Math.round(r/e)*e,this.done&&(this.lastPosition=r))),this._value===r?!1:(this._value=r,!0)}reset(){const{done:r}=this;this.done=!1,oe.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,r&&(this.lastVelocity=null),this.v0=null)}},qa=class extends nl{constructor(r){super(0),this._string=null,this._toString=ja({output:[r,r]})}static create(r){return new qa(r)}getValue(){const r=this._string;return r??(this._string=this._toString(this._value))}setValue(r){if(oe.str(r)){if(r==this._string)return!1;this._string=r,this._value=1}else if(super.setValue(r))this._string=null;else return!1;return!0}reset(r){r&&(this._toString=ja({output:[this.getValue(),r]})),this._value=0,super.reset()}},Bu={dependencies:null},dc=class extends Xv{constructor(r){super(),this.source=r,this.setValue(r)}getValue(r){const e={};return ur(this.source,(t,s)=>{N1(t)?e[s]=t.getValue(r):In(t)?e[s]=rn(t):r||(e[s]=t)}),e}setValue(r){this.source=r,this.payload=this._makePayload(r)}reset(){this.payload&&Me(this.payload,r=>r.reset())}_makePayload(r){if(r){const e=new Set;return ur(r,this._addToPayload,e),Array.from(e)}}_addToPayload(r){Bu.dependencies&&In(r)&&Bu.dependencies.add(r);const e=fc(r);e&&Me(e,t=>this.add(t))}},Yv=class extends dc{constructor(r){super(r)}static create(r){return new Yv(r)}getValue(){return this.source.map(r=>r.getValue())}setValue(r){const e=this.getPayload();return r.length==e.length?e.map((t,s)=>t.setValue(r[s])).some(Boolean):(super.setValue(r.map(D1)),!0)}};function D1(r){return(hc(r)?qa:nl).create(r)}function jf(r){const e=ir(r);return e?e.constructor:oe.arr(r)?Yv:hc(r)?qa:nl}var ey=(r,e)=>{const t=!oe.fun(r)||r.prototype&&r.prototype.isReactComponent;return Ee.forwardRef((s,o)=>{const u=Ee.useRef(null),h=t&&Ee.useCallback(j=>{u.current=M1(o,j)},[o]),[d,g]=L1(s,e),v=Kv(),w=()=>{const j=u.current;if(t&&!j)return;(j?e.applyAnimatedValues(j,d.getValue(!0)):!1)===!1&&v()},S=new O1(w,g),R=Ee.useRef();xd(()=>(R.current=S,Me(g,j=>vo(j,S)),()=>{R.current&&(Me(R.current.deps,j=>Ba(j,R.current)),Pe.cancel(R.current.update))})),Ee.useEffect(w,[]),Gv(()=>()=>{const j=R.current;Me(j.deps,q=>Ba(q,j))});const L=e.getComponentProps(d.getValue());return Ee.createElement(r,{...L,ref:h})})},O1=class{constructor(r,e){this.update=r,this.deps=e}eventObserved(r){r.type=="change"&&Pe.write(this.update)}};function L1(r,e){const t=new Set;return Bu.dependencies=t,r.style&&(r={...r,style:e.createAnimatedStyle(r.style)}),r=new dc(r),Bu.dependencies=null,[r,t]}function M1(r,e){return r&&(oe.fun(r)?r(e):r.current=e),e}var ty=Symbol.for("AnimatedComponent"),b1=(r,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=o=>new dc(o),getComponentProps:s=o=>o}={})=>{const o={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:s},u=h=>{const d=ny(h)||"Anonymous";return oe.str(h)?h=u[h]||(u[h]=ey(h,o)):h=h[ty]||(h[ty]=ey(h,o)),h.displayName=`Animated(${d})`,h};return ur(r,(h,d)=>{oe.arr(r)&&(d=ny(h)),u[d]=u(h)}),{animated:u}},ny=r=>oe.str(r)?r:r&&oe.str(r.displayName)?r.displayName:oe.fun(r)&&r.name||null;function Gi(r,...e){return oe.fun(r)?r(...e):r}var Da=(r,e)=>r===!0||!!(e&&r&&(oe.fun(r)?r(e):dn(r).includes(e))),Jv=(r,e)=>oe.obj(r)?e&&r[e]:r,Zv=(r,e)=>r.default===!0?r[e]:r.default?r.default[e]:void 0,F1=r=>r,Vd=(r,e=F1)=>{let t=j1;r.default&&r.default!==!0&&(r=r.default,t=Object.keys(r));const s={};for(const o of t){const u=e(r[o],o);oe.und(u)||(s[o]=u)}return s},j1=["config","onProps","onStart","onChange","onPause","onResume","onRest"],U1={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function z1(r){const e={};let t=0;if(ur(r,(s,o)=>{U1[o]||(e[o]=s,t++)}),t)return e}function e_(r){const e=z1(r);if(e){const t={to:e};return ur(r,(s,o)=>o in e||(t[o]=s)),t}return{...r}}function Ha(r){return r=rn(r),oe.arr(r)?r.map(Ha):hc(r)?qn.createStringInterpolator({range:[0,1],output:[r,r]})(1):r}function B1(r){for(const e in r)return!0;return!1}function Uf(r){return oe.fun(r)||oe.arr(r)&&oe.obj(r[0])}function $1(r,e){var t;(t=r.ref)==null||t.delete(r),e==null||e.delete(r)}function q1(r,e){var t;e&&r.ref!==e&&((t=r.ref)==null||t.delete(r),e.add(r),r.ref=e)}var H1={default:{tension:170,friction:26}},zf={...H1.default,mass:1,damping:1,easing:y1.linear,clamp:!1},Q1=class{constructor(){this.velocity=0,Object.assign(this,zf)}};function W1(r,e,t){t&&(t={...t},ry(t,e),e={...t,...e}),ry(r,e),Object.assign(r,e);for(const h in zf)r[h]==null&&(r[h]=zf[h]);let{frequency:s,damping:o}=r;const{mass:u}=r;return oe.und(s)||(s<.01&&(s=.01),o<0&&(o=0),r.tension=Math.pow(2*Math.PI/s,2)*u,r.friction=4*Math.PI*o*u/s),r}function ry(r,e){if(!oe.und(e.decay))r.duration=void 0;else{const t=!oe.und(e.tension)||!oe.und(e.friction);(t||!oe.und(e.frequency)||!oe.und(e.damping)||!oe.und(e.mass))&&(r.duration=void 0,r.decay=void 0),t&&(r.frequency=void 0)}}var iy=[],K1=class{constructor(){this.changed=!1,this.values=iy,this.toValues=null,this.fromValues=iy,this.config=new Q1,this.immediate=!1}};function t_(r,{key:e,props:t,defaultProps:s,state:o,actions:u}){return new Promise((h,d)=>{let g,v,w=Da(t.cancel??(s==null?void 0:s.cancel),e);if(w)L();else{oe.und(t.pause)||(o.paused=Da(t.pause,e));let j=s==null?void 0:s.pause;j!==!0&&(j=o.paused||Da(j,e)),g=Gi(t.delay||0,e),j?(o.resumeQueue.add(R),u.pause()):(u.resume(),R())}function S(){o.resumeQueue.add(R),o.timeouts.delete(v),v.cancel(),g=v.time-Pe.now()}function R(){g>0&&!qn.skipAnimation?(o.delayed=!0,v=Pe.setTimeout(L,g),o.pauseQueue.add(S),o.timeouts.add(v)):L()}function L(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(S),o.timeouts.delete(v),r<=(o.cancelId||0)&&(w=!0);try{u.start({...t,callId:r,cancel:w},h)}catch(j){d(j)}}})}var Nd=(r,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?to(r.get()):e.every(t=>t.noop)?n_(r.get()):Bn(r.get(),e.every(t=>t.finished)),n_=r=>({value:r,noop:!0,finished:!0,cancelled:!1}),Bn=(r,e,t=!1)=>({value:r,finished:e,cancelled:t}),to=r=>({value:r,cancelled:!0,finished:!1});function r_(r,e,t,s){const{callId:o,parentId:u,onRest:h}=e,{asyncTo:d,promise:g}=t;return!u&&r===d&&!e.reset?g:t.promise=(async()=>{t.asyncId=o,t.asyncTo=r;const v=Vd(e,($,F)=>F==="onRest"?void 0:$);let w,S;const R=new Promise(($,F)=>(w=$,S=F)),L=$=>{const F=o<=(t.cancelId||0)&&to(s)||o!==t.asyncId&&Bn(s,!1);if(F)throw $.result=F,S($),$},j=($,F)=>{const Q=new sy,B=new oy;return(async()=>{if(qn.skipAnimation)throw Qa(t),B.result=Bn(s,!1),S(B),B;L(Q);const Z=oe.obj($)?{...$}:{...F,to:$};Z.parentId=o,ur(v,(re,C)=>{oe.und(Z[C])&&(Z[C]=re)});const K=await s.start(Z);return L(Q),t.paused&&await new Promise(re=>{t.resumeQueue.add(re)}),K})()};let q;if(qn.skipAnimation)return Qa(t),Bn(s,!1);try{let $;oe.arr(r)?$=(async F=>{for(const Q of F)await j(Q)})(r):$=Promise.resolve(r(j,s.stop.bind(s))),await Promise.all([$.then(w),R]),q=Bn(s.get(),!0,!1)}catch($){if($ instanceof sy)q=$.result;else if($ instanceof oy)q=$.result;else throw $}finally{o==t.asyncId&&(t.asyncId=u,t.asyncTo=u?d:void 0,t.promise=u?g:void 0)}return oe.fun(h)&&Pe.batchedUpdates(()=>{h(q,s,s.item)}),q})()}function Qa(r,e){Va(r.timeouts,t=>t.cancel()),r.pauseQueue.clear(),r.resumeQueue.clear(),r.asyncId=r.asyncTo=r.promise=void 0,e&&(r.cancelId=e)}var sy=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},oy=class extends Error{constructor(){super("SkipAnimationSignal")}},Bf=r=>r instanceof Dd,G1=1,Dd=class extends $v{constructor(){super(...arguments),this.id=G1++,this._priority=0}get priority(){return this._priority}set priority(r){this._priority!=r&&(this._priority=r,this._onPriorityChange(r))}get(){const r=ir(this);return r&&r.getValue()}to(...r){return qn.to(this,r)}interpolate(...r){return A1(),qn.to(this,r)}toJSON(){return this.get()}observerAdded(r){r==1&&this._attach()}observerRemoved(r){r==0&&this._detach()}_attach(){}_detach(){}_onChange(r,e=!1){za(this,{type:"change",parent:this,value:r,idle:e})}_onPriorityChange(r){this.idle||lc.sort(this),za(this,{type:"priority",parent:this,priority:r})}},Zi=Symbol.for("SpringPhase"),i_=1,s_=2,o_=4,_f=r=>(r[Zi]&i_)>0,ii=r=>(r[Zi]&s_)>0,Ea=r=>(r[Zi]&o_)>0,ay=(r,e)=>e?r[Zi]|=s_|i_:r[Zi]&=-3,ly=(r,e)=>e?r[Zi]|=o_:r[Zi]&=-5,X1=class extends Dd{constructor(r,e){if(super(),this.animation=new K1,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!oe.und(r)||!oe.und(e)){const t=oe.obj(r)?{...r}:{...e,from:r};oe.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(ii(this)||this._state.asyncTo)||Ea(this)}get goal(){return rn(this.animation.to)}get velocity(){const r=ir(this);return r instanceof nl?r.lastVelocity||0:r.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return _f(this)}get isAnimating(){return ii(this)}get isPaused(){return Ea(this)}get isDelayed(){return this._state.delayed}advance(r){let e=!0,t=!1;const s=this.animation;let{toValues:o}=s;const{config:u}=s,h=fc(s.to);!h&&In(s.to)&&(o=dn(rn(s.to))),s.values.forEach((v,w)=>{if(v.done)return;const S=v.constructor==qa?1:h?h[w].lastPosition:o[w];let R=s.immediate,L=S;if(!R){if(L=v.lastPosition,u.tension<=0){v.done=!0;return}let j=v.elapsedTime+=r;const q=s.fromValues[w],$=v.v0!=null?v.v0:v.v0=oe.arr(u.velocity)?u.velocity[w]:u.velocity;let F;const Q=u.precision||(q==S?.005:Math.min(1,Math.abs(S-q)*.001));if(oe.und(u.duration))if(u.decay){const B=u.decay===!0?.998:u.decay,Z=Math.exp(-(1-B)*j);L=q+$/(1-B)*(1-Z),R=Math.abs(v.lastPosition-L)<=Q,F=$*Z}else{F=v.lastVelocity==null?$:v.lastVelocity;const B=u.restVelocity||Q/10,Z=u.clamp?0:u.bounce,K=!oe.und(Z),re=q==S?v.v0>0:q<S;let C,T=!1;const I=1,x=Math.ceil(r/I);for(let k=0;k<x&&(C=Math.abs(F)>B,!(!C&&(R=Math.abs(S-L)<=Q,R)));++k){K&&(T=L==S||L>S==re,T&&(F=-F*Z,L=S));const V=-u.tension*1e-6*(L-S),A=-u.friction*.001*F,Se=(V+A)/u.mass;F=F+Se*I,L=L+F*I}}else{let B=1;u.duration>0&&(this._memoizedDuration!==u.duration&&(this._memoizedDuration=u.duration,v.durationProgress>0&&(v.elapsedTime=u.duration*v.durationProgress,j=v.elapsedTime+=r)),B=(u.progress||0)+j/this._memoizedDuration,B=B>1?1:B<0?0:B,v.durationProgress=B),L=q+u.easing(B)*(S-q),F=(L-v.lastPosition)/r,R=B==1}v.lastVelocity=F,Number.isNaN(L)&&(console.warn("Got NaN while animating:",this),R=!0)}h&&!h[w].done&&(R=!1),R?v.done=!0:e=!1,v.setValue(L,u.round)&&(t=!0)});const d=ir(this),g=d.getValue();if(e){const v=rn(s.to);(g!==v||t)&&!u.decay?(d.setValue(v),this._onChange(v)):t&&u.decay&&this._onChange(g),this._stop()}else t&&this._onChange(g)}set(r){return Pe.batchedUpdates(()=>{this._stop(),this._focus(r),this._set(r)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(ii(this)){const{to:r,config:e}=this.animation;Pe.batchedUpdates(()=>{this._onStart(),e.decay||this._set(r,!1),this._stop()})}return this}update(r){return(this.queue||(this.queue=[])).push(r),this}start(r,e){let t;return oe.und(r)?(t=this.queue||[],this.queue=[]):t=[oe.obj(r)?r:{...e,to:r}],Promise.all(t.map(s=>this._update(s))).then(s=>Nd(this,s))}stop(r){const{to:e}=this.animation;return this._focus(this.get()),Qa(this._state,r&&this._lastCallId),Pe.batchedUpdates(()=>this._stop(e,r)),this}reset(){this._update({reset:!0})}eventObserved(r){r.type=="change"?this._start():r.type=="priority"&&(this.priority=r.priority+1)}_prepareNode(r){const e=this.key||"";let{to:t,from:s}=r;t=oe.obj(t)?t[e]:t,(t==null||Uf(t))&&(t=void 0),s=oe.obj(s)?s[e]:s,s==null&&(s=void 0);const o={to:t,from:s};return _f(this)||(r.reverse&&([t,s]=[s,t]),s=rn(s),oe.und(s)?ir(this)||this._set(t):this._set(s)),o}_update({...r},e){const{key:t,defaultProps:s}=this;r.default&&Object.assign(s,Vd(r,(h,d)=>/^on/.test(d)?Jv(h,t):h)),cy(this,r,"onProps"),Sa(this,"onProps",r,this);const o=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const u=this._state;return t_(++this._lastCallId,{key:t,props:r,defaultProps:s,state:u,actions:{pause:()=>{Ea(this)||(ly(this,!0),Ca(u.pauseQueue),Sa(this,"onPause",Bn(this,Ta(this,this.animation.to)),this))},resume:()=>{Ea(this)&&(ly(this,!1),ii(this)&&this._resume(),Ca(u.resumeQueue),Sa(this,"onResume",Bn(this,Ta(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(h=>{if(r.loop&&h.finished&&!(e&&h.noop)){const d=a_(r);if(d)return this._update(d,!0)}return h})}_merge(r,e,t){if(e.cancel)return this.stop(!0),t(to(this));const s=!oe.und(r.to),o=!oe.und(r.from);if(s||o)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t(to(this));const{key:u,defaultProps:h,animation:d}=this,{to:g,from:v}=d;let{to:w=g,from:S=v}=r;o&&!s&&(!e.default||oe.und(w))&&(w=S),e.reverse&&([w,S]=[S,w]);const R=!xr(S,v);R&&(d.from=S),S=rn(S);const L=!xr(w,g);L&&this._focus(w);const j=Uf(e.to),{config:q}=d,{decay:$,velocity:F}=q;(s||o)&&(q.velocity=0),e.config&&!j&&W1(q,Gi(e.config,u),e.config!==h.config?Gi(h.config,u):void 0);let Q=ir(this);if(!Q||oe.und(w))return t(Bn(this,!0));const B=oe.und(e.reset)?o&&!e.default:!oe.und(S)&&Da(e.reset,u),Z=B?S:this.get(),K=Ha(w),re=oe.num(K)||oe.arr(K)||hc(K),C=!j&&(!re||Da(h.immediate||e.immediate,u));if(L){const k=jf(w);if(k!==Q.constructor)if(C)Q=this._set(K);else throw Error(`Cannot animate between ${Q.constructor.name} and ${k.name}, as the "to" prop suggests`)}const T=Q.constructor;let I=In(w),x=!1;if(!I){const k=B||!_f(this)&&R;(L||k)&&(x=xr(Ha(Z),K),I=!x),(!xr(d.immediate,C)&&!C||!xr(q.decay,$)||!xr(q.velocity,F))&&(I=!0)}if(x&&ii(this)&&(d.changed&&!B?I=!0:I||this._stop(g)),!j&&((I||In(g))&&(d.values=Q.getPayload(),d.toValues=In(w)?null:T==qa?[1]:dn(K)),d.immediate!=C&&(d.immediate=C,!C&&!B&&this._set(g)),I)){const{onRest:k}=d;Me(J1,A=>cy(this,e,A));const V=Bn(this,Ta(this,g));Ca(this._pendingCalls,V),this._pendingCalls.add(t),d.changed&&Pe.batchedUpdates(()=>{var A;d.changed=!B,k==null||k(V,this),B?Gi(h.onRest,V):(A=d.onStart)==null||A.call(d,V,this)})}B&&this._set(Z),j?t(r_(e.to,e,this._state,this)):I?this._start():ii(this)&&!L?this._pendingCalls.add(t):t(n_(Z))}_focus(r){const e=this.animation;r!==e.to&&(Yg(this)&&this._detach(),e.to=r,Yg(this)&&this._attach())}_attach(){let r=0;const{to:e}=this.animation;In(e)&&(vo(e,this),Bf(e)&&(r=e.priority+1)),this.priority=r}_detach(){const{to:r}=this.animation;In(r)&&Ba(r,this)}_set(r,e=!0){const t=rn(r);if(!oe.und(t)){const s=ir(this);if(!s||!xr(t,s.getValue())){const o=jf(t);!s||s.constructor!=o?kd(this,o.create(t)):s.setValue(t),s&&Pe.batchedUpdates(()=>{this._onChange(t,e)})}}return ir(this)}_onStart(){const r=this.animation;r.changed||(r.changed=!0,Sa(this,"onStart",Bn(this,Ta(this,r.to)),this))}_onChange(r,e){e||(this._onStart(),Gi(this.animation.onChange,r,this)),Gi(this.defaultProps.onChange,r,this),super._onChange(r,e)}_start(){const r=this.animation;ir(this).reset(rn(r.to)),r.immediate||(r.fromValues=r.values.map(e=>e.lastPosition)),ii(this)||(ay(this,!0),Ea(this)||this._resume())}_resume(){qn.skipAnimation?this.finish():lc.start(this)}_stop(r,e){if(ii(this)){ay(this,!1);const t=this.animation;Me(t.values,o=>{o.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),za(this,{type:"idle",parent:this});const s=e?to(this.get()):Bn(this.get(),Ta(this,r??t.to));Ca(this._pendingCalls,s),t.changed&&(t.changed=!1,Sa(this,"onRest",s,this))}}};function Ta(r,e){const t=Ha(e),s=Ha(r.get());return xr(s,t)}function a_(r,e=r.loop,t=r.to){const s=Gi(e);if(s){const o=s!==!0&&e_(s),u=(o||r).reverse,h=!o||o.reset;return Wa({...r,loop:e,default:!1,pause:void 0,to:!u||Uf(t)?t:void 0,from:h?r.from:void 0,reset:h,...o})}}function Wa(r){const{to:e,from:t}=r=e_(r),s=new Set;return oe.obj(e)&&uy(e,s),oe.obj(t)&&uy(t,s),r.keys=s.size?Array.from(s):null,r}function Y1(r){const e=Wa(r);return oe.und(e.default)&&(e.default=Vd(e)),e}function uy(r,e){ur(r,(t,s)=>t!=null&&e.add(s))}var J1=["onStart","onRest","onChange","onPause","onResume"];function cy(r,e,t){r.animation[t]=e[t]!==Zv(e,t)?Jv(e[t],r.key):void 0}function Sa(r,e,...t){var s,o,u,h;(o=(s=r.animation)[e])==null||o.call(s,...t),(h=(u=r.defaultProps)[e])==null||h.call(u,...t)}var Z1=["onStart","onChange","onRest"],eT=1,tT=class{constructor(r,e){this.id=eT++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),r&&this.start({default:!0,...r})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(r=>r.idle&&!r.isDelayed&&!r.isPaused)}get item(){return this._item}set item(r){this._item=r}get(){const r={};return this.each((e,t)=>r[t]=e.get()),r}set(r){for(const e in r){const t=r[e];oe.und(t)||this.springs[e].set(t)}}update(r){return r&&this.queue.push(Wa(r)),this}start(r){let{queue:e}=this;return r?e=dn(r).map(Wa):this.queue=[],this._flush?this._flush(this,e):(f_(this,e),$f(this,e))}stop(r,e){if(r!==!!r&&(e=r),e){const t=this.springs;Me(dn(e),s=>t[s].stop(!!r))}else Qa(this._state,this._lastAsyncId),this.each(t=>t.stop(!!r));return this}pause(r){if(oe.und(r))this.start({pause:!0});else{const e=this.springs;Me(dn(r),t=>e[t].pause())}return this}resume(r){if(oe.und(r))this.start({pause:!1});else{const e=this.springs;Me(dn(r),t=>e[t].resume())}return this}each(r){ur(this.springs,r)}_onFrame(){const{onStart:r,onChange:e,onRest:t}=this._events,s=this._active.size>0,o=this._changed.size>0;(s&&!this._started||o&&!this._started)&&(this._started=!0,Va(r,([d,g])=>{g.value=this.get(),d(g,this,this._item)}));const u=!s&&this._started,h=o||u&&t.size?this.get():null;o&&e.size&&Va(e,([d,g])=>{g.value=h,d(g,this,this._item)}),u&&(this._started=!1,Va(t,([d,g])=>{g.value=h,d(g,this,this._item)}))}eventObserved(r){if(r.type=="change")this._changed.add(r.parent),r.idle||this._active.add(r.parent);else if(r.type=="idle")this._active.delete(r.parent);else return;Pe.onFrame(this._onFrame)}};function $f(r,e){return Promise.all(e.map(t=>l_(r,t))).then(t=>Nd(r,t))}async function l_(r,e,t){const{keys:s,to:o,from:u,loop:h,onRest:d,onResolve:g}=e,v=oe.obj(e.default)&&e.default;h&&(e.loop=!1),o===!1&&(e.to=null),u===!1&&(e.from=null);const w=oe.arr(o)||oe.fun(o)?o:void 0;w?(e.to=void 0,e.onRest=void 0,v&&(v.onRest=void 0)):Me(Z1,q=>{const $=e[q];if(oe.fun($)){const F=r._events[q];e[q]=({finished:Q,cancelled:B})=>{const Z=F.get($);Z?(Q||(Z.finished=!1),B&&(Z.cancelled=!0)):F.set($,{value:null,finished:Q||!1,cancelled:B||!1})},v&&(v[q]=e[q])}});const S=r._state;e.pause===!S.paused?(S.paused=e.pause,Ca(e.pause?S.pauseQueue:S.resumeQueue)):S.paused&&(e.pause=!0);const R=(s||Object.keys(r.springs)).map(q=>r.springs[q].start(e)),L=e.cancel===!0||Zv(e,"cancel")===!0;(w||L&&S.asyncId)&&R.push(t_(++r._lastAsyncId,{props:e,state:S,actions:{pause:bf,resume:bf,start(q,$){L?(Qa(S,r._lastAsyncId),$(to(r))):(q.onRest=d,$(r_(w,q,S,r)))}}})),S.paused&&await new Promise(q=>{S.resumeQueue.add(q)});const j=Nd(r,await Promise.all(R));if(h&&j.finished&&!(t&&j.noop)){const q=a_(e,h,o);if(q)return f_(r,[q]),l_(r,q,!0)}return g&&Pe.batchedUpdates(()=>g(j,r,r.item)),j}function hy(r,e){const t={...r.springs};return e&&Me(dn(e),s=>{oe.und(s.keys)&&(s=Wa(s)),oe.obj(s.to)||(s={...s,to:void 0}),h_(t,s,o=>c_(o))}),u_(r,t),t}function u_(r,e){ur(e,(t,s)=>{r.springs[s]||(r.springs[s]=t,vo(t,r))})}function c_(r,e){const t=new X1;return t.key=r,e&&vo(t,e),t}function h_(r,e,t){e.keys&&Me(e.keys,s=>{(r[s]||(r[s]=t(s)))._prepareNode(e)})}function f_(r,e){Me(e,t=>{h_(r.springs,t,s=>c_(s,r))})}var pc=({children:r,...e})=>{const t=Ee.useContext($u),s=e.pause||!!t.pause,o=e.immediate||!!t.immediate;e=x1(()=>({pause:s,immediate:o}),[s,o]);const{Provider:u}=$u;return Ee.createElement(u,{value:e},r)},$u=nT(pc,{});pc.Provider=$u.Provider;pc.Consumer=$u.Consumer;function nT(r,e){return Object.assign(r,Ee.createContext(e)),r.Provider._context=r,r.Consumer._context=r,r}var rT=()=>{const r=[],e=function(s){R1();const o=[];return Me(r,(u,h)=>{if(oe.und(s))o.push(u.start());else{const d=t(s,u,h);d&&o.push(u.start(d))}}),o};e.current=r,e.add=function(s){r.includes(s)||r.push(s)},e.delete=function(s){const o=r.indexOf(s);~o&&r.splice(o,1)},e.pause=function(){return Me(r,s=>s.pause(...arguments)),this},e.resume=function(){return Me(r,s=>s.resume(...arguments)),this},e.set=function(s){Me(r,(o,u)=>{const h=oe.fun(s)?s(u,o):s;h&&o.set(h)})},e.start=function(s){const o=[];return Me(r,(u,h)=>{if(oe.und(s))o.push(u.start());else{const d=this._getProps(s,u,h);d&&o.push(u.start(d))}}),o},e.stop=function(){return Me(r,s=>s.stop(...arguments)),this},e.update=function(s){return Me(r,(o,u)=>o.update(this._getProps(s,o,u))),this};const t=function(s,o,u){return oe.fun(s)?s(u,o):s};return e._getProps=t,e};function iT(r,e,t){const s=oe.fun(e)&&e;s&&!t&&(t=[]);const o=Ee.useMemo(()=>s||arguments.length==3?rT():void 0,[]),u=Ee.useRef(0),h=Kv(),d=Ee.useMemo(()=>({ctrls:[],queue:[],flush(F,Q){const B=hy(F,Q);return u.current>0&&!d.queue.length&&!Object.keys(B).some(K=>!F.springs[K])?$f(F,Q):new Promise(K=>{u_(F,B),d.queue.push(()=>{K($f(F,Q))}),h()})}}),[]),g=Ee.useRef([...d.ctrls]),v=[],w=Zg(r)||0;Ee.useMemo(()=>{Me(g.current.slice(r,w),F=>{$1(F,o),F.stop(!0)}),g.current.length=r,S(w,r)},[r]),Ee.useMemo(()=>{S(0,Math.min(w,r))},t);function S(F,Q){for(let B=F;B<Q;B++){const Z=g.current[B]||(g.current[B]=new tT(null,d.flush)),K=s?s(B,Z):e[B];K&&(v[B]=Y1(K))}}const R=g.current.map((F,Q)=>hy(F,v[Q])),L=Ee.useContext(pc),j=Zg(L),q=L!==j&&B1(L);xd(()=>{u.current++,d.ctrls=g.current;const{queue:F}=d;F.length&&(d.queue=[],Me(F,Q=>Q())),Me(g.current,(Q,B)=>{o==null||o.add(Q),q&&Q.start({default:L});const Z=v[B];Z&&(q1(Q,Z.ref),Q.ref?Q.queue.push(Z):Q.start(Z))})}),Gv(()=>()=>{Me(d.ctrls,F=>F.stop(!0))});const $=R.map(F=>({...F}));return o?[$,o]:$}var sT=class extends Dd{constructor(r,e){super(),this.source=r,this.idle=!0,this._active=new Set,this.calc=ja(...e);const t=this._get(),s=jf(t);kd(this,s.create(t))}advance(r){const e=this._get(),t=this.get();xr(e,t)||(ir(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&fy(this._active)&&wf(this)}_get(){const r=oe.arr(this.source)?this.source.map(rn):dn(rn(this.source));return this.calc(...r)}_start(){this.idle&&!fy(this._active)&&(this.idle=!1,Me(fc(this),r=>{r.done=!1}),qn.skipAnimation?(Pe.batchedUpdates(()=>this.advance()),wf(this)):lc.start(this))}_attach(){let r=1;Me(dn(this.source),e=>{In(e)&&vo(e,this),Bf(e)&&(e.idle||this._active.add(e),r=Math.max(r,e.priority+1))}),this.priority=r,this._start()}_detach(){Me(dn(this.source),r=>{In(r)&&Ba(r,this)}),this._active.clear(),wf(this)}eventObserved(r){r.type=="change"?r.idle?this.advance():(this._active.add(r.parent),this._start()):r.type=="idle"?this._active.delete(r.parent):r.type=="priority"&&(this.priority=dn(this.source).reduce((e,t)=>Math.max(e,(Bf(t)?t.priority:0)+1),0))}};function oT(r){return r.idle!==!1}function fy(r){return!r.size||Array.from(r).every(oT)}function wf(r){r.idle||(r.idle=!0,Me(fc(r),e=>{e.done=!0}),za(r,{type:"idle",parent:r}))}qn.assign({createStringInterpolator:Qv,to:(r,e)=>new sT(r,e)});var aT=Av(),d_=/^--/;function lT(r,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!d_.test(r)&&!(Oa.hasOwnProperty(r)&&Oa[r])?e+"px":(""+e).trim()}var dy={};function uT(r,e){if(!r.nodeType||!r.setAttribute)return!1;const t=r.nodeName==="filter"||r.parentNode&&r.parentNode.nodeName==="filter",{className:s,style:o,children:u,scrollTop:h,scrollLeft:d,viewBox:g,...v}=e,w=Object.values(v),S=Object.keys(v).map(R=>t||r.hasAttribute(R)?R:dy[R]||(dy[R]=R.replace(/([A-Z])/g,L=>"-"+L.toLowerCase())));u!==void 0&&(r.textContent=u);for(const R in o)if(o.hasOwnProperty(R)){const L=lT(R,o[R]);d_.test(R)?r.style.setProperty(R,L):r.style[R]=L}S.forEach((R,L)=>{r.setAttribute(R,w[L])}),s!==void 0&&(r.className=s),h!==void 0&&(r.scrollTop=h),d!==void 0&&(r.scrollLeft=d),g!==void 0&&r.setAttribute("viewBox",g)}var Oa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cT=(r,e)=>r+e.charAt(0).toUpperCase()+e.substring(1),hT=["Webkit","Ms","Moz","O"];Oa=Object.keys(Oa).reduce((r,e)=>(hT.forEach(t=>r[cT(t,e)]=r[e]),r),Oa);var fT=/^(matrix|translate|scale|rotate|skew)/,dT=/^(translate)/,pT=/^(rotate|skew)/,Ef=(r,e)=>oe.num(r)&&r!==0?r+e:r,Du=(r,e)=>oe.arr(r)?r.every(t=>Du(t,e)):oe.num(r)?r===e:parseFloat(r)===e,mT=class extends dc{constructor({x:r,y:e,z:t,...s}){const o=[],u=[];(r||e||t)&&(o.push([r||0,e||0,t||0]),u.push(h=>[`translate3d(${h.map(d=>Ef(d,"px")).join(",")})`,Du(h,0)])),ur(s,(h,d)=>{if(d==="transform")o.push([h||""]),u.push(g=>[g,g===""]);else if(fT.test(d)){if(delete s[d],oe.und(h))return;const g=dT.test(d)?"px":pT.test(d)?"deg":"";o.push(dn(h)),u.push(d==="rotate3d"?([v,w,S,R])=>[`rotate3d(${v},${w},${S},${Ef(R,g)})`,Du(R,0)]:v=>[`${d}(${v.map(w=>Ef(w,g)).join(",")})`,Du(v,d.startsWith("scale")?1:0)])}}),o.length&&(s.transform=new gT(o,u)),super(s)}},gT=class extends $v{constructor(r,e){super(),this.inputs=r,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let r="",e=!0;return Me(this.inputs,(t,s)=>{const o=rn(t[0]),[u,h]=this.transforms[s](oe.arr(o)?o:t.map(rn));r+=" "+u,e=e&&h}),e?"none":r}observerAdded(r){r==1&&Me(this.inputs,e=>Me(e,t=>In(t)&&vo(t,this)))}observerRemoved(r){r==0&&Me(this.inputs,e=>Me(e,t=>In(t)&&Ba(t,this)))}eventObserved(r){r.type=="change"&&(this._value=null),za(this,r)}},yT=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];qn.assign({batchedUpdates:aT.unstable_batchedUpdates,createStringInterpolator:Qv,colors:s1});var vT=b1(yT,{applyAnimatedValues:uT,createAnimatedStyle:r=>new mT(r),getComponentProps:({scrollTop:r,scrollLeft:e,...t})=>t}),_T=vT.animated;const wT=({text:r="",className:e="",delay:t=100,animationFrom:s={opacity:0,transform:"translate3d(0,40px,0)"},animationTo:o={opacity:1,transform:"translate3d(0,0,0)"},easing:u="easeOutCubic",threshold:h=.1,rootMargin:d="-100px",textAlign:g="center",onLetterAnimationComplete:v})=>{const w=r.split(" ").map(F=>F.split("")),S=w.flat(),[R,L]=Ee.useState(!1),j=Ee.useRef(),q=Ee.useRef(0);Ee.useEffect(()=>{const F=new IntersectionObserver(([Q])=>{Q.isIntersecting&&(L(!0),F.unobserve(j.current))},{threshold:h,rootMargin:d});return F.observe(j.current),()=>F.disconnect()},[h,d]);const $=iT(S.length,S.map((F,Q)=>({from:s,to:R?async B=>{await B(o),q.current+=1,q.current===S.length&&v&&v()}:s,delay:Q*t,config:{easing:u}})));return X.jsx("div",{className:"split-background-container",children:X.jsx("h1",{ref:j,className:`split-parent ${e}`,style:{textAlign:g,overflow:"hidden",display:"inline",whiteSpace:"normal",wordWrap:"break-word"},children:w.map((F,Q)=>X.jsxs("span",{style:{display:"inline-block",whiteSpace:"nowrap"},children:[F.map((B,Z)=>{const K=w.slice(0,Q).reduce((re,C)=>re+C.length,0)+Z;return X.jsx(_T.span,{style:{...$[K],display:"inline-block",willChange:"transform, opacity"},children:B},K)}),X.jsx("span",{style:{display:"inline-block",width:"0.3em"},children:" "})]},Q))})})},ET=["https://static.wixstatic.com/media/81ceb2_2a9bca58d4044c87aaf8120ec637ad6f~mv2.jpg/v1/fill/w_433,h_350,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/81ceb2_2a9bca58d4044c87aaf8120ec637ad6f~mv2.jpg","https://static.wixstatic.com/media/81ceb2_0c26c98e2a404998a687eb62a180f0ea~mv2.jpg/v1/fill/w_433,h_350,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/81ceb2_0c26c98e2a404998a687eb62a180f0ea~mv2.jpg","https://static.wixstatic.com/media/81ceb2_e72bd8ce578e4384b8bec087f1b7c891~mv2.jpg/v1/fill/w_433,h_350,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/81ceb2_e72bd8ce578e4384b8bec087f1b7c891~mv2.jpg","https://static.wixstatic.com/media/81ceb2_db5cb3f5bb41413fadae43ad1eb558d5~mv2.jpg/v1/fill/w_433,h_350,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/81ceb2_db5cb3f5bb41413fadae43ad1eb558d5~mv2.jpg","https://static.wixstatic.com/media/81ceb2_d2d4eebd2a764eba8fa3f9360ee683c6~mv2.jpg/v1/fill/w_433,h_350,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/81ceb2_d2d4eebd2a764eba8fa3f9360ee683c6~mv2.jpg","https://static.wixstatic.com/media/81ceb2_9330ca62f53e442abefc3142147d9bd8~mv2.jpg/v1/fill/w_433,h_350,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/81ceb2_9330ca62f53e442abefc3142147d9bd8~mv2.jpg"];function TT(){return X.jsx("div",{className:"slider",children:ET.map((r,e)=>X.jsx("img",{className:"moving-img",src:r,alt:"",style:{"--pos":e+1}},e))})}function ST(){return X.jsx("div",{children:X.jsx("div",{children:X.jsx("h1",{children:X.jsx("a",{href:"#0",children:"Our company specializes:"})})})})}var Tf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var py;function IT(){return py||(py=1,function(r){(function(){var e={}.hasOwnProperty;function t(){for(var u="",h=0;h<arguments.length;h++){var d=arguments[h];d&&(u=o(u,s(d)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return t.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var d in u)e.call(u,d)&&u[d]&&(h=o(h,d));return h}function o(u,h){return h?u?u+" "+h:u+h:u}r.exports?(t.default=t,r.exports=t):window.classNames=t})()}(Tf)),Tf.exports}var AT=IT();const Cn=ic(AT),CT=["as","disabled"];function RT(r,e){if(r==null)return{};var t={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function PT(r){return!r||r.trim()==="#"}function p_({tagName:r,disabled:e,href:t,target:s,rel:o,role:u,onClick:h,tabIndex:d=0,type:g}){r||(t!=null||s!=null||o!=null?r="a":r="button");const v={tagName:r};if(r==="button")return[{type:g||"button",disabled:e},v];const w=R=>{if((e||r==="a"&&PT(t))&&R.preventDefault(),e){R.stopPropagation();return}h==null||h(R)},S=R=>{R.key===" "&&(R.preventDefault(),w(R))};return r==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:r==="a"?s:void 0,"aria-disabled":e||void 0,rel:r==="a"?o:void 0,onClick:w,onKeyDown:S},v]}const xT=Ee.forwardRef((r,e)=>{let{as:t,disabled:s}=r,o=RT(r,CT);const[u,{tagName:h}]=p_(Object.assign({tagName:t,disabled:s},o));return X.jsx(h,Object.assign({},o,u,{ref:e}))});xT.displayName="Button";const kT=["xxl","xl","lg","md","sm","xs"],VT="xs",m_=Ee.createContext({prefixes:{},breakpoints:kT,minBreakpoint:VT}),{Consumer:VR,Provider:NR}=m_;function Qn(r,e){const{prefixes:t}=Ee.useContext(m_);return r||t[e]||e}const g_=Ee.forwardRef(({as:r,bsPrefix:e,variant:t="primary",size:s,active:o=!1,disabled:u=!1,className:h,...d},g)=>{const v=Qn(e,"btn"),[w,{tagName:S}]=p_({tagName:r,disabled:u,...d}),R=S;return X.jsx(R,{...w,...d,ref:g,disabled:u,className:Cn(h,v,o&&"active",t&&`${v}-${t}`,s&&`${v}-${s}`,d.href&&u&&"disabled")})});g_.displayName="Button";const Od=Ee.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Qn(e,"card-body"),X.jsx(t,{ref:o,className:Cn(r,e),...s})));Od.displayName="CardBody";const y_=Ee.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Qn(e,"card-footer"),X.jsx(t,{ref:o,className:Cn(r,e),...s})));y_.displayName="CardFooter";const v_=Ee.createContext(null);v_.displayName="CardHeaderContext";const __=Ee.forwardRef(({bsPrefix:r,className:e,as:t="div",...s},o)=>{const u=Qn(r,"card-header"),h=Ee.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return X.jsx(v_.Provider,{value:h,children:X.jsx(t,{ref:o,...s,className:Cn(e,u)})})});__.displayName="CardHeader";const w_=Ee.forwardRef(({bsPrefix:r,className:e,variant:t,as:s="img",...o},u)=>{const h=Qn(r,"card-img");return X.jsx(s,{ref:u,className:Cn(t?`${h}-${t}`:h,e),...o})});w_.displayName="CardImg";const E_=Ee.forwardRef(({className:r,bsPrefix:e,as:t="div",...s},o)=>(e=Qn(e,"card-img-overlay"),X.jsx(t,{ref:o,className:Cn(r,e),...s})));E_.displayName="CardImgOverlay";const T_=Ee.forwardRef(({className:r,bsPrefix:e,as:t="a",...s},o)=>(e=Qn(e,"card-link"),X.jsx(t,{ref:o,className:Cn(r,e),...s})));T_.displayName="CardLink";const S_=r=>Ee.forwardRef((e,t)=>X.jsx("div",{...e,ref:t,className:Cn(e.className,r)})),NT=S_("h6"),I_=Ee.forwardRef(({className:r,bsPrefix:e,as:t=NT,...s},o)=>(e=Qn(e,"card-subtitle"),X.jsx(t,{ref:o,className:Cn(r,e),...s})));I_.displayName="CardSubtitle";const A_=Ee.forwardRef(({className:r,bsPrefix:e,as:t="p",...s},o)=>(e=Qn(e,"card-text"),X.jsx(t,{ref:o,className:Cn(r,e),...s})));A_.displayName="CardText";const DT=S_("h5"),C_=Ee.forwardRef(({className:r,bsPrefix:e,as:t=DT,...s},o)=>(e=Qn(e,"card-title"),X.jsx(t,{ref:o,className:Cn(r,e),...s})));C_.displayName="CardTitle";const R_=Ee.forwardRef(({bsPrefix:r,className:e,bg:t,text:s,border:o,body:u=!1,children:h,as:d="div",...g},v)=>{const w=Qn(r,"card");return X.jsx(d,{ref:v,...g,className:Cn(e,w,t&&`bg-${t}`,s&&`text-${s}`,o&&`border-${o}`),children:u?X.jsx(Od,{children:h}):h})});R_.displayName="Card";const Ia=Object.assign(R_,{Img:w_,Title:C_,Subtitle:I_,Body:Od,Link:T_,Text:A_,Header:__,Footer:y_,ImgOverlay:E_});function Sf({image:r,title:e,description:t}){return X.jsx("div",{className:"product-container",children:X.jsxs(Ia,{style:{width:"18rem",backgroundColor:"#ececec",border:"none"},children:[X.jsx(Ia.Img,{className:"knife",variant:"top",src:r}),X.jsxs(Ia.Body,{className:"text-product",children:[X.jsx(Ia.Title,{children:e}),X.jsx(Ia.Text,{children:t}),X.jsx(g_,{variant:"primary",className:"button-product",children:"Buy Now"})]})]})})}const OT=()=>{},LT=()=>X.jsxs("div",{children:[X.jsx(wT,{text:"Samurai Knives",className:"text-2xl font-semibold text-center",delay:150,animationFrom:{opacity:0,transform:"translate3d(0,50px,0)"},animationTo:{opacity:1,transform:"translate3d(0,0,0)"},easing:"easeOutCubic",threshold:.2,rootMargin:"-50px",onLetterAnimationComplete:OT}),X.jsx("div",{className:"content",children:X.jsx("h1",{className:"image-text",children:"cooking precision creativity"})}),X.jsx(TT,{}),X.jsx(ST,{}),X.jsx("div",{className:"textContainer",children:X.jsx("h2",{className:"peregraf",children:"We founded Samurai with the understanding that a knife is not just meant for the kitchen—it represents the freedom to create wherever you desire. At Samurai, we take pride in offering a selection of unique knives, just like the hands that hold them. Each blade is meticulously handcrafted using ancient techniques that have been passed down from generation to generation. Order now and experience the freedom and uniqueness you seek."})}),X.jsxs("div",{className:"products-grid",children:[X.jsx(Sf,{image:"https://static.wixstatic.com/media/81ceb2_2a9bca58d4044c87aaf8120ec637ad6f~mv2.jpg/v1/fill/w_433,h_350,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/81ceb2_2a9bca58d4044c87aaf8120ec637ad6f~mv2.jpg",title:"The Butcher",description:`The Butcher Knife,\r
which has taken TikTok by storm, is a true handmade work of art that embodies the magic of traditional craftsmanship along with uncompromising power.\r
This knife features a blade 180mm in length and 112mm in width, allowing it to handle a wide variety of kitchen tasks with impressive ease.\r
It weighs 440 grams, giving it a sense of stability and strength in the hand—especially when cutting larger or tougher ingredients.\r
`}),X.jsx(Sf,{image:"https://static.wixstatic.com/media/81ceb2_0c26c98e2a404998a687eb62a180f0ea~mv2.jpg/v1/fill/w_407,h_332,al_c,q_85,usm_0.66_1.00_0.01/81ceb2_0c26c98e2a404998a687eb62a180f0ea~mv2.webp",title:"The Chef's Master",description:`The Nature model knife represents the pinnacle of traditional craftsmanship fused with modern design, giving it a striking appearance and unprecedented performance. Its blade measures 200 mm in length and 2.5 mm in thickness, enabling precise and powerful cutting. The knife has an overall length of 305 mm, with a 105 mm handle that provides a perfect, comfortable, and secure grip. nxabcka kc an sckaksckskc aljnalsclkamslcmla\r
        `}),X.jsx(Sf,{image:"https://static.wixstatic.com/media/81ceb2_d2d4eebd2a764eba8fa3f9360ee683c6~mv2.jpg/v1/fill/w_433,h_350,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/81ceb2_d2d4eebd2a764eba8fa3f9360ee683c6~mv2.jpg",title:"Precision Cutter",description:`The Wild model knife, which has become a phenomenon online, is a handmade work of art that combines the magic of traditional craftsmanship with uncompromising power. This knife features a 30 cm long and 9.8 cm wide blade, allowing it to handle a wide variety of kitchen tasks impressively—especially when dealing with large or hard-to-cut ingredients. Its weight provides a sense of stability and control, making the use of the knife precise and comfortable.\r
\r
`})]}),X.jsx("h2",{className:"peregraf1",children:"A good knife in the wild is more than just a tool its your cooking partner, your precision on a tree stump, your quiet moment by the fire. We craft handmade knives from materials the earth understands real wood, sharp steel, and a soul of craftsmanship. For those who cook under open skies you’ve found your place."}),X.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"video-home",children:[X.jsx("source",{src:"/Video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),X.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"video-home",children:[X.jsx("source",{src:"/Video2.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})]});function MT(){return X.jsxs("div",{children:[X.jsx("h1",{children:"המוצרים שלנו"}),X.jsx("p",{children:"בחר מתוך מגוון הסכינים בעבודת יד."})]})}function bT(){return X.jsxs("div",{children:[X.jsxs("section",{id:"contact",children:[X.jsx("h2",{children:" Contact Us"}),X.jsxs("form",{action:"https://formspree.io/f/xpwpwpwz",method:"POST",children:[X.jsxs("label",{children:[X.jsx("span",{children:"Email:"}),X.jsx("input",{type:"email",name:"email",placeholder:"please enter email",required:!0})]}),X.jsxs("label",{children:[X.jsx("span",{children:"Phone"}),X.jsx("input",{type:"tel",name:"phone",required:!0})]}),X.jsxs("label",{children:[X.jsx("span",{children:"Massage"}),X.jsx("textarea",{name:"message",placeholder:"please write a massage",required:!0})]}),X.jsx("button",{type:"submit",children:"Sand"})]})]}),X.jsx("footer",{})]})}function FT(){return X.jsxs("div",{children:[X.jsx("title",{children:"Sign-up"}),X.jsx("div",{className:"container"}),X.jsxs("div",{className:"auth-section",children:[X.jsx("h2",{children:"Welcome! Please Log In or Sign Up"}),X.jsxs("div",{class:"form-group",children:[X.jsx("input",{type:"email",id:"signup-email",placeholder:"Enter your email"}),X.jsx("input",{type:"password",id:"signup-password",placeholder:"Enter your password"}),X.jsx("button",{id:"signup-btn",className:"btn primary",children:"Sign Up"})]})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("input",{type:"email",id:"login-email",placeholder:"Enter your email"}),X.jsx("input",{type:"password",id:"login-password",placeholder:"Enter your password"})]})]})}function jT(){return X.jsx(X.Fragment,{})}const UT=()=>{};var my={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},zT=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],d=r[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,d=h?r[o+1]:0,g=o+2<r.length,v=g?r[o+2]:0,w=u>>2,S=(u&3)<<4|d>>4;let R=(d&15)<<2|v>>6,L=v&63;g||(L=64,h||(R=64)),s.push(t[w],t[S],t[R],t[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(P_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const v=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||d==null||v==null||S==null)throw new BT;const R=u<<2|d>>4;if(s.push(R),v!==64){const L=d<<4&240|v>>2;if(s.push(L),S!==64){const j=v<<6&192|S;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(r){const e=P_(r);return x_.encodeByteArray(e,!0)},qu=function(r){return $T(r).replace(/\./g,"")},qT=function(r){try{return x_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=()=>HT().__FIREBASE_DEFAULTS__,WT=()=>{if(typeof process>"u"||typeof my>"u")return;const r=my.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qT(r[1]);return e&&JSON.parse(e)},Ld=()=>{try{return UT()||QT()||WT()||KT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},GT=r=>{var e,t;return(t=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},XT=r=>{const e=GT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},k_=()=>{var r;return(r=Ld())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[qu(JSON.stringify(t)),qu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eS(){var r;const e=(r=Ld())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tS(){return!eS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="FirebaseError";class _o extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=iS,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V_.prototype.create)}}class V_{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?sS(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new _o(o,d,s)}}function sS(r,e){return r.replace(oS,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const oS=/\{\$([^}]+)}/g;function Hu(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(gy(u)&&gy(h)){if(!Hu(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function gy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(r){return r&&r._delegate?r._delegate:r}class Ka{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new YT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uS(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ki){return this.instances.has(e)}getOptions(e=Ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lS(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ki){return this.component?this.component.multipleInstances?e:Ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(r){return r===Ki?void 0:r}function uS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const hS={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},fS=je.INFO,dS={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},pS=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=dS[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N_{constructor(e){this.name=e,this._logLevel=fS,this._logHandler=pS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const mS=(r,e)=>e.some(t=>r instanceof t);let yy,vy;function gS(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return vy||(vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D_=new WeakMap,qf=new WeakMap,O_=new WeakMap,If=new WeakMap,Md=new WeakMap;function vS(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ci(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&D_.set(t,r)}).catch(()=>{}),Md.set(e,r),e}function _S(r){if(qf.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});qf.set(r,e)}let Hf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return qf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||O_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ci(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function wS(r){Hf=r(Hf)}function ES(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Af(this),e,...t);return O_.set(s,e.sort?e.sort():[e]),ci(s)}:yS().includes(r)?function(...e){return r.apply(Af(this),e),ci(D_.get(this))}:function(...e){return ci(r.apply(Af(this),e))}}function TS(r){return typeof r=="function"?ES(r):(r instanceof IDBTransaction&&_S(r),mS(r,gS())?new Proxy(r,Hf):r)}function ci(r){if(r instanceof IDBRequest)return vS(r);if(If.has(r))return If.get(r);const e=TS(r);return e!==r&&(If.set(r,e),Md.set(e,r)),e}const Af=r=>Md.get(r);function SS(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),d=ci(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ci(h.result),g.oldVersion,g.newVersion,ci(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),d}const IS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Cf=new Map;function _y(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=AS.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||IS.includes(t)))return;const u=async function(h,...d){const g=this.transaction(h,o?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(d.shift())),(await Promise.all([v[t](...d),o&&g.done]))[0]};return Cf.set(e,u),u}wS(r=>({...r,get:(e,t,s)=>_y(e,t)||r.get(e,t,s),has:(e,t)=>!!_y(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RS(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function RS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qf="@firebase/app",wy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new N_("@firebase/app"),PS="@firebase/app-compat",xS="@firebase/analytics-compat",kS="@firebase/analytics",VS="@firebase/app-check-compat",NS="@firebase/app-check",DS="@firebase/auth",OS="@firebase/auth-compat",LS="@firebase/database",MS="@firebase/data-connect",bS="@firebase/database-compat",FS="@firebase/functions",jS="@firebase/functions-compat",US="@firebase/installations",zS="@firebase/installations-compat",BS="@firebase/messaging",$S="@firebase/messaging-compat",qS="@firebase/performance",HS="@firebase/performance-compat",QS="@firebase/remote-config",WS="@firebase/remote-config-compat",KS="@firebase/storage",GS="@firebase/storage-compat",XS="@firebase/firestore",YS="@firebase/vertexai",JS="@firebase/firestore-compat",ZS="firebase",eI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",tI={[Qf]:"fire-core",[PS]:"fire-core-compat",[kS]:"fire-analytics",[xS]:"fire-analytics-compat",[NS]:"fire-app-check",[VS]:"fire-app-check-compat",[DS]:"fire-auth",[OS]:"fire-auth-compat",[LS]:"fire-rtdb",[MS]:"fire-data-connect",[bS]:"fire-rtdb-compat",[FS]:"fire-fn",[jS]:"fire-fn-compat",[US]:"fire-iid",[zS]:"fire-iid-compat",[BS]:"fire-fcm",[$S]:"fire-fcm-compat",[qS]:"fire-perf",[HS]:"fire-perf-compat",[QS]:"fire-rc",[WS]:"fire-rc-compat",[KS]:"fire-gcs",[GS]:"fire-gcs-compat",[XS]:"fire-fst",[JS]:"fire-fst-compat",[YS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=new Map,nI=new Map,Kf=new Map;function Ey(r,e){try{r.container.addComponent(e)}catch(t){kr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ku(r){const e=r.name;if(Kf.has(e))return kr.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,r);for(const t of Wu.values())Ey(t,r);for(const t of nI.values())Ey(t,r);return!0}function rI(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function iI(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new V_("app","Firebase",sI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=eI;function L_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw hi.create("bad-app-name",{appName:String(o)});if(t||(t=k_()),!t)throw hi.create("no-options");const u=Wu.get(o);if(u){if(Hu(t,u.options)&&Hu(s,u.config))return u;throw hi.create("duplicate-app",{appName:o})}const h=new cS(o);for(const g of Kf.values())h.addComponent(g);const d=new oI(t,s,h);return Wu.set(o,d),d}function lI(r=Wf){const e=Wu.get(r);if(!e&&r===Wf&&k_())return L_();if(!e)throw hi.create("no-app",{appName:r});return e}function no(r,e,t){var s;let o=(s=tI[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),kr.warn(d.join(" "));return}Ku(new Ka(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="firebase-heartbeat-database",cI=1,Ga="firebase-heartbeat-store";let Rf=null;function M_(){return Rf||(Rf=SS(uI,cI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ga)}catch(t){console.warn(t)}}}}).catch(r=>{throw hi.create("idb-open",{originalErrorMessage:r.message})})),Rf}async function hI(r){try{const t=(await M_()).transaction(Ga),s=await t.objectStore(Ga).get(b_(r));return await t.done,s}catch(e){if(e instanceof _o)kr.warn(e.message);else{const t=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});kr.warn(t.message)}}}async function Ty(r,e){try{const s=(await M_()).transaction(Ga,"readwrite");await s.objectStore(Ga).put(e,b_(r)),await s.done}catch(t){if(t instanceof _o)kr.warn(t.message);else{const s=hi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});kr.warn(s.message)}}}function b_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=1024,dI=30;class pI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Sy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>dI){const h=yI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){kr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Sy(),{heartbeatsToSend:s,unsentEntries:o}=mI(this._heartbeatsCache.heartbeats),u=qu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return kr.warn(t),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function mI(r,e=fI){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Iy(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Iy(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class gI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Iy(r){return qu(JSON.stringify({version:2,heartbeats:r})).length}function yI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r){Ku(new Ka("platform-logger",e=>new CS(e),"PRIVATE")),Ku(new Ka("heartbeat",e=>new pI(e),"PRIVATE")),no(Qf,wy,r),no(Qf,wy,"esm2017"),no("fire-js","")}vI("");var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fi,F_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function I(){}I.prototype=T.prototype,C.D=T.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(x,k,V){for(var A=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)A[Se-2]=arguments[Se];return T.prototype[k].apply(x,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,I){I||(I=0);var x=Array(16);if(typeof T=="string")for(var k=0;16>k;++k)x[k]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(k=0;16>k;++k)x[k]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=C.g[0],I=C.g[1],k=C.g[2];var V=C.g[3],A=T+(V^I&(k^V))+x[0]+3614090360&4294967295;T=I+(A<<7&4294967295|A>>>25),A=V+(k^T&(I^k))+x[1]+3905402710&4294967295,V=T+(A<<12&4294967295|A>>>20),A=k+(I^V&(T^I))+x[2]+606105819&4294967295,k=V+(A<<17&4294967295|A>>>15),A=I+(T^k&(V^T))+x[3]+3250441966&4294967295,I=k+(A<<22&4294967295|A>>>10),A=T+(V^I&(k^V))+x[4]+4118548399&4294967295,T=I+(A<<7&4294967295|A>>>25),A=V+(k^T&(I^k))+x[5]+1200080426&4294967295,V=T+(A<<12&4294967295|A>>>20),A=k+(I^V&(T^I))+x[6]+2821735955&4294967295,k=V+(A<<17&4294967295|A>>>15),A=I+(T^k&(V^T))+x[7]+4249261313&4294967295,I=k+(A<<22&4294967295|A>>>10),A=T+(V^I&(k^V))+x[8]+1770035416&4294967295,T=I+(A<<7&4294967295|A>>>25),A=V+(k^T&(I^k))+x[9]+2336552879&4294967295,V=T+(A<<12&4294967295|A>>>20),A=k+(I^V&(T^I))+x[10]+4294925233&4294967295,k=V+(A<<17&4294967295|A>>>15),A=I+(T^k&(V^T))+x[11]+2304563134&4294967295,I=k+(A<<22&4294967295|A>>>10),A=T+(V^I&(k^V))+x[12]+1804603682&4294967295,T=I+(A<<7&4294967295|A>>>25),A=V+(k^T&(I^k))+x[13]+4254626195&4294967295,V=T+(A<<12&4294967295|A>>>20),A=k+(I^V&(T^I))+x[14]+2792965006&4294967295,k=V+(A<<17&4294967295|A>>>15),A=I+(T^k&(V^T))+x[15]+1236535329&4294967295,I=k+(A<<22&4294967295|A>>>10),A=T+(k^V&(I^k))+x[1]+4129170786&4294967295,T=I+(A<<5&4294967295|A>>>27),A=V+(I^k&(T^I))+x[6]+3225465664&4294967295,V=T+(A<<9&4294967295|A>>>23),A=k+(T^I&(V^T))+x[11]+643717713&4294967295,k=V+(A<<14&4294967295|A>>>18),A=I+(V^T&(k^V))+x[0]+3921069994&4294967295,I=k+(A<<20&4294967295|A>>>12),A=T+(k^V&(I^k))+x[5]+3593408605&4294967295,T=I+(A<<5&4294967295|A>>>27),A=V+(I^k&(T^I))+x[10]+38016083&4294967295,V=T+(A<<9&4294967295|A>>>23),A=k+(T^I&(V^T))+x[15]+3634488961&4294967295,k=V+(A<<14&4294967295|A>>>18),A=I+(V^T&(k^V))+x[4]+3889429448&4294967295,I=k+(A<<20&4294967295|A>>>12),A=T+(k^V&(I^k))+x[9]+568446438&4294967295,T=I+(A<<5&4294967295|A>>>27),A=V+(I^k&(T^I))+x[14]+3275163606&4294967295,V=T+(A<<9&4294967295|A>>>23),A=k+(T^I&(V^T))+x[3]+4107603335&4294967295,k=V+(A<<14&4294967295|A>>>18),A=I+(V^T&(k^V))+x[8]+1163531501&4294967295,I=k+(A<<20&4294967295|A>>>12),A=T+(k^V&(I^k))+x[13]+2850285829&4294967295,T=I+(A<<5&4294967295|A>>>27),A=V+(I^k&(T^I))+x[2]+4243563512&4294967295,V=T+(A<<9&4294967295|A>>>23),A=k+(T^I&(V^T))+x[7]+1735328473&4294967295,k=V+(A<<14&4294967295|A>>>18),A=I+(V^T&(k^V))+x[12]+2368359562&4294967295,I=k+(A<<20&4294967295|A>>>12),A=T+(I^k^V)+x[5]+4294588738&4294967295,T=I+(A<<4&4294967295|A>>>28),A=V+(T^I^k)+x[8]+2272392833&4294967295,V=T+(A<<11&4294967295|A>>>21),A=k+(V^T^I)+x[11]+1839030562&4294967295,k=V+(A<<16&4294967295|A>>>16),A=I+(k^V^T)+x[14]+4259657740&4294967295,I=k+(A<<23&4294967295|A>>>9),A=T+(I^k^V)+x[1]+2763975236&4294967295,T=I+(A<<4&4294967295|A>>>28),A=V+(T^I^k)+x[4]+1272893353&4294967295,V=T+(A<<11&4294967295|A>>>21),A=k+(V^T^I)+x[7]+4139469664&4294967295,k=V+(A<<16&4294967295|A>>>16),A=I+(k^V^T)+x[10]+3200236656&4294967295,I=k+(A<<23&4294967295|A>>>9),A=T+(I^k^V)+x[13]+681279174&4294967295,T=I+(A<<4&4294967295|A>>>28),A=V+(T^I^k)+x[0]+3936430074&4294967295,V=T+(A<<11&4294967295|A>>>21),A=k+(V^T^I)+x[3]+3572445317&4294967295,k=V+(A<<16&4294967295|A>>>16),A=I+(k^V^T)+x[6]+76029189&4294967295,I=k+(A<<23&4294967295|A>>>9),A=T+(I^k^V)+x[9]+3654602809&4294967295,T=I+(A<<4&4294967295|A>>>28),A=V+(T^I^k)+x[12]+3873151461&4294967295,V=T+(A<<11&4294967295|A>>>21),A=k+(V^T^I)+x[15]+530742520&4294967295,k=V+(A<<16&4294967295|A>>>16),A=I+(k^V^T)+x[2]+3299628645&4294967295,I=k+(A<<23&4294967295|A>>>9),A=T+(k^(I|~V))+x[0]+4096336452&4294967295,T=I+(A<<6&4294967295|A>>>26),A=V+(I^(T|~k))+x[7]+1126891415&4294967295,V=T+(A<<10&4294967295|A>>>22),A=k+(T^(V|~I))+x[14]+2878612391&4294967295,k=V+(A<<15&4294967295|A>>>17),A=I+(V^(k|~T))+x[5]+4237533241&4294967295,I=k+(A<<21&4294967295|A>>>11),A=T+(k^(I|~V))+x[12]+1700485571&4294967295,T=I+(A<<6&4294967295|A>>>26),A=V+(I^(T|~k))+x[3]+2399980690&4294967295,V=T+(A<<10&4294967295|A>>>22),A=k+(T^(V|~I))+x[10]+4293915773&4294967295,k=V+(A<<15&4294967295|A>>>17),A=I+(V^(k|~T))+x[1]+2240044497&4294967295,I=k+(A<<21&4294967295|A>>>11),A=T+(k^(I|~V))+x[8]+1873313359&4294967295,T=I+(A<<6&4294967295|A>>>26),A=V+(I^(T|~k))+x[15]+4264355552&4294967295,V=T+(A<<10&4294967295|A>>>22),A=k+(T^(V|~I))+x[6]+2734768916&4294967295,k=V+(A<<15&4294967295|A>>>17),A=I+(V^(k|~T))+x[13]+1309151649&4294967295,I=k+(A<<21&4294967295|A>>>11),A=T+(k^(I|~V))+x[4]+4149444226&4294967295,T=I+(A<<6&4294967295|A>>>26),A=V+(I^(T|~k))+x[11]+3174756917&4294967295,V=T+(A<<10&4294967295|A>>>22),A=k+(T^(V|~I))+x[2]+718787259&4294967295,k=V+(A<<15&4294967295|A>>>17),A=I+(V^(k|~T))+x[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+V&4294967295}s.prototype.u=function(C,T){T===void 0&&(T=C.length);for(var I=T-this.blockSize,x=this.B,k=this.h,V=0;V<T;){if(k==0)for(;V<=I;)o(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<T;)if(x[k++]=C.charCodeAt(V++),k==this.blockSize){o(this,x),k=0;break}}else for(;V<T;)if(x[k++]=C[V++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=T},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;var I=8*this.o;for(T=C.length-8;T<C.length;++T)C[T]=I&255,I/=256;for(this.u(C),C=Array(16),T=I=0;4>T;++T)for(var x=0;32>x;x+=8)C[I++]=this.g[T]>>>x&255;return C};function u(C,T){var I=d;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=T(C)}function h(C,T){this.h=T;for(var I=[],x=!0,k=C.length-1;0<=k;k--){var V=C[k]|0;x&&V==T||(I[k]=V,x=!1)}this.g=I}var d={};function g(C){return-128<=C&&128>C?u(C,function(T){return new h([T|0],0>T?-1:0)}):new h([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return S;if(0>C)return $(v(-C));for(var T=[],I=1,x=0;C>=I;x++)T[x]=C/I|0,I*=4294967296;return new h(T,0)}function w(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return $(w(C.substring(1),T));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=v(Math.pow(T,8)),x=S,k=0;k<C.length;k+=8){var V=Math.min(8,C.length-k),A=parseInt(C.substring(k,k+V),T);8>V?(V=v(Math.pow(T,V)),x=x.j(V).add(v(A))):(x=x.j(I),x=x.add(v(A)))}return x}var S=g(0),R=g(1),L=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-$(this).m();for(var C=0,T=1,I=0;I<this.g.length;I++){var x=this.i(I);C+=(0<=x?x:4294967296+x)*T,T*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(j(this))return"0";if(q(this))return"-"+$(this).toString(C);for(var T=v(Math.pow(C,6)),I=this,x="";;){var k=Z(I,T).g;I=F(I,k.j(T));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=k,j(I))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function j(C){if(C.h!=0)return!1;for(var T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function q(C){return C.h==-1}r.l=function(C){return C=F(this,C),q(C)?-1:j(C)?0:1};function $(C){for(var T=C.g.length,I=[],x=0;x<T;x++)I[x]=~C.g[x];return new h(I,~C.h).add(R)}r.abs=function(){return q(this)?$(this):this},r.add=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],x=0,k=0;k<=T;k++){var V=x+(this.i(k)&65535)+(C.i(k)&65535),A=(V>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);x=A>>>16,V&=65535,A&=65535,I[k]=A<<16|V}return new h(I,I[I.length-1]&-2147483648?-1:0)};function F(C,T){return C.add($(T))}r.j=function(C){if(j(this)||j(C))return S;if(q(this))return q(C)?$(this).j($(C)):$($(this).j(C));if(q(C))return $(this.j($(C)));if(0>this.l(L)&&0>C.l(L))return v(this.m()*C.m());for(var T=this.g.length+C.g.length,I=[],x=0;x<2*T;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<C.g.length;k++){var V=this.i(x)>>>16,A=this.i(x)&65535,Se=C.i(k)>>>16,ke=C.i(k)&65535;I[2*x+2*k]+=A*ke,Q(I,2*x+2*k),I[2*x+2*k+1]+=V*ke,Q(I,2*x+2*k+1),I[2*x+2*k+1]+=A*Se,Q(I,2*x+2*k+1),I[2*x+2*k+2]+=V*Se,Q(I,2*x+2*k+2)}for(x=0;x<T;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=T;x<2*T;x++)I[x]=0;return new h(I,0)};function Q(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function B(C,T){this.g=C,this.h=T}function Z(C,T){if(j(T))throw Error("division by zero");if(j(C))return new B(S,S);if(q(C))return T=Z($(C),T),new B($(T.g),$(T.h));if(q(T))return T=Z(C,$(T)),new B($(T.g),T.h);if(30<C.g.length){if(q(C)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var I=R,x=T;0>=x.l(C);)I=K(I),x=K(x);var k=re(I,1),V=re(x,1);for(x=re(x,2),I=re(I,2);!j(x);){var A=V.add(x);0>=A.l(C)&&(k=k.add(I),V=A),x=re(x,1),I=re(I,1)}return T=F(C,k.j(T)),new B(k,T)}for(k=S;0<=C.l(T);){for(I=Math.max(1,Math.floor(C.m()/T.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),V=v(I),A=V.j(T);q(A)||0<A.l(C);)I-=x,V=v(I),A=V.j(T);j(V)&&(V=R),k=k.add(V),C=F(C,A)}return new B(k,C)}r.A=function(C){return Z(this,C).h},r.and=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)&C.i(x);return new h(I,this.h&C.h)},r.or=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)|C.i(x);return new h(I,this.h|C.h)},r.xor=function(C){for(var T=Math.max(this.g.length,C.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)^C.i(x);return new h(I,this.h^C.h)};function K(C){for(var T=C.g.length+1,I=[],x=0;x<T;x++)I[x]=C.i(x)<<1|C.i(x-1)>>>31;return new h(I,C.h)}function re(C,T){var I=T>>5;T%=32;for(var x=C.g.length-I,k=[],V=0;V<x;V++)k[V]=0<T?C.i(V+I)>>>T|C.i(V+I+1)<<32-T:C.i(V+I);return new h(k,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,F_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,fi=h}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j_,Ra,U_,Ou,Gf,z_,B_,$_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,y){return l==Array.prototype||l==Object.prototype||(l[p]=y.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cu=="object"&&Cu];for(var p=0;p<l.length;++p){var y=l[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function o(l,p){if(p)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],p=p(E),p!=E&&p!=null&&e(y,l,{configurable:!0,writable:!0,value:p})}}function u(l,p){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var W=y++;return{value:p(W,l[W]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}o("Array.prototype.values",function(l){return l||function(){return u(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function v(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function w(l,p,y){return l.call.apply(l.bind,arguments)}function S(l,p,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(p,M)}}return function(){return l.apply(p,arguments)}}function R(l,p,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:S,R.apply(null,arguments)}function L(l,p){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function j(l,p){function y(){}y.prototype=p.prototype,l.aa=p.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,W){for(var ue=Array(arguments.length-2),We=2;We<arguments.length;We++)ue[We-2]=arguments[We];return p.prototype[M].apply(E,ue)}}function q(l){const p=l.length;if(0<p){const y=Array(p);for(let E=0;E<p;E++)y[E]=l[E];return y}return[]}function $(l,p){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,W=E.length||0;l.length=M+W;for(let ue=0;ue<W;ue++)l[M+ue]=E[ue]}else l.push(E)}}class F{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Q(l){return/^[\s\xa0]*$/.test(l)}function B(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function Z(l){return Z[" "](l),l}Z[" "]=function(){};var K=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function re(l,p,y){for(const E in l)p.call(y,l[E],E,l)}function C(l,p){for(const y in l)p.call(void 0,l[y],y,l)}function T(l){const p={};for(const y in l)p[y]=l[y];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,p){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let W=0;W<I.length;W++)y=I[W],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function k(l){var p=1;l=l.split(":");const y=[];for(;0<p&&l.length;)y.push(l.shift()),p--;return l.length&&y.push(l.join(":")),y}function V(l){d.setTimeout(()=>{throw l},0)}function A(){var l=te;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class Se{constructor(){this.h=this.g=null}add(p,y){const E=ke.get();E.set(p,y),this.h?this.h.next=E:this.g=E,this.h=E}}var ke=new F(()=>new Ye,l=>l.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Oe,ie=!1,te=new Se,G=()=>{const l=d.Promise.resolve(void 0);Oe=()=>{l.then(D)}};var D=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(y){V(y)}var p=ke;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}ie=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};d.addEventListener("test",y,p),d.removeEventListener("test",y,p)}catch{}return l}();function ve(l,p){if(le.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(K){e:{try{Z(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else y=="mouseover"?p=l.fromElement:y=="mouseout"&&(p=l.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ae[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ve.aa.h.call(this)}}j(ve,le);var Ae={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Qe(l,p,y,E,M){this.listener=l,this.proxy=null,this.src=p,this.type=y,this.capture=!!E,this.ha=M,this.key=++Ve,this.da=this.fa=!1}function Et(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function hr(l){this.src=l,this.g={},this.h=0}hr.prototype.add=function(l,p,y,E,M){var W=l.toString();l=this.g[W],l||(l=this.g[W]=[],this.h++);var ue=Dr(l,p,E,M);return-1<ue?(p=l[ue],y||(p.fa=!1)):(p=new Qe(p,this.src,W,!!E,M),p.fa=y,l.push(p)),p};function rs(l,p){var y=p.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,p,void 0),W;(W=0<=M)&&Array.prototype.splice.call(E,M,1),W&&(Et(p),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Dr(l,p,y,E){for(var M=0;M<l.length;++M){var W=l[M];if(!W.da&&W.listener==p&&W.capture==!!y&&W.ha==E)return M}return-1}var _i="closure_lm_"+(1e6*Math.random()|0),is={};function Ao(l,p,y,E,M){if(Array.isArray(p)){for(var W=0;W<p.length;W++)Ao(l,p[W],y,E,M);return null}return y=Po(y),l&&l[Ce]?l.K(p,y,v(E)?!!E.capture:!1,M):Co(l,p,y,!1,E,M)}function Co(l,p,y,E,M,W){if(!p)throw Error("Invalid event type");var ue=v(M)?!!M.capture:!!M,We=os(l);if(We||(l[_i]=We=new hr(l)),y=We.add(p,y,E,ue,W),y.proxy)return y;if(E=al(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)ye||(M=ue),M===void 0&&(M=!1),l.addEventListener(p.toString(),E,M);else if(l.attachEvent)l.attachEvent(dr(p.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function al(){function l(y){return p.call(l.src,l.listener,y)}const p=Ro;return l}function ss(l,p,y,E,M){if(Array.isArray(p))for(var W=0;W<p.length;W++)ss(l,p[W],y,E,M);else E=v(E)?!!E.capture:!!E,y=Po(y),l&&l[Ce]?(l=l.i,p=String(p).toString(),p in l.g&&(W=l.g[p],y=Dr(W,y,E,M),-1<y&&(Et(W[y]),Array.prototype.splice.call(W,y,1),W.length==0&&(delete l.g[p],l.h--)))):l&&(l=os(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Dr(p,y,E,M)),(y=-1<l?p[l]:null)&&fr(y))}function fr(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[Ce])rs(p.i,l);else{var y=l.type,E=l.proxy;p.removeEventListener?p.removeEventListener(y,E,l.capture):p.detachEvent?p.detachEvent(dr(y),E):p.addListener&&p.removeListener&&p.removeListener(E),(y=os(p))?(rs(y,l),y.h==0&&(y.src=null,p[_i]=null)):Et(l)}}}function dr(l){return l in is?is[l]:is[l]="on"+l}function Ro(l,p){if(l.da)l=!0;else{p=new ve(p,this);var y=l.listener,E=l.ha||l.src;l.fa&&fr(l),l=y.call(E,p)}return l}function os(l){return l=l[_i],l instanceof hr?l:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(l){return typeof l=="function"?l:(l[as]||(l[as]=function(p){return l.handleEvent(p)}),l[as])}function mt(){z.call(this),this.i=new hr(this),this.M=this,this.F=null}j(mt,z),mt.prototype[Ce]=!0,mt.prototype.removeEventListener=function(l,p,y,E){ss(this,l,p,y,E)};function gt(l,p){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=p.type||p,typeof p=="string")p=new le(p,l);else if(p instanceof le)p.target=p.target||l;else{var M=p;p=new le(E,l),x(p,M)}if(M=!0,y)for(var W=y.length-1;0<=W;W--){var ue=p.g=y[W];M=pr(ue,E,!0,p)&&M}if(ue=p.g=l,M=pr(ue,E,!0,p)&&M,M=pr(ue,E,!1,p)&&M,y)for(W=0;W<y.length;W++)ue=p.g=y[W],M=pr(ue,E,!1,p)&&M}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var y=l.g[p],E=0;E<y.length;E++)Et(y[E]);delete l.g[p],l.h--}}this.F=null},mt.prototype.K=function(l,p,y,E){return this.i.add(String(l),p,!1,y,E)},mt.prototype.L=function(l,p,y,E){return this.i.add(String(l),p,!0,y,E)};function pr(l,p,y,E){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,W=0;W<p.length;++W){var ue=p[W];if(ue&&!ue.da&&ue.capture==y){var We=ue.listener,yt=ue.ha||ue.src;ue.fa&&rs(l.i,ue),M=We.call(yt,E)!==!1&&M}}return M&&!E.defaultPrevented}function xo(l,p,y){if(typeof l=="function")y&&(l=R(l,y));else if(l&&typeof l.handleEvent=="function")l=R(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:d.setTimeout(l,p||0)}function Or(l){l.g=xo(()=>{l.g=null,l.i&&(l.i=!1,Or(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class wi extends z{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Or(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(l){z.call(this),this.h=l,this.g={}}j(Ei,z);var ko=[];function Vo(l){re(l.g,function(p,y){this.g.hasOwnProperty(y)&&fr(p)},l),l.g={}}Ei.prototype.N=function(){Ei.aa.N.call(this),Vo(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var No=d.JSON.stringify,Do=d.JSON.parse,Oo=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Ti(){}Ti.prototype.h=null;function ls(l){return l.h||(l.h=l.i())}function us(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){le.call(this,"d")}j(Wn,le);function cs(){le.call(this,"c")}j(cs,le);var Kn={},Lo=null;function Si(){return Lo=Lo||new mt}Kn.La="serverreachability";function Mo(l){le.call(this,Kn.La,l)}j(Mo,le);function mr(l){const p=Si();gt(p,new Mo(p))}Kn.STAT_EVENT="statevent";function bo(l,p){le.call(this,Kn.STAT_EVENT,l),this.stat=p}j(bo,le);function at(l){const p=Si();gt(p,new bo(p,l))}Kn.Ma="timingevent";function hs(l,p){le.call(this,Kn.Ma,l),this.size=p}j(hs,le);function Rn(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},p)}function Ii(){this.g=!0}Ii.prototype.xa=function(){this.g=!1};function Ai(l,p,y,E,M,W){l.info(function(){if(l.g)if(W)for(var ue="",We=W.split("&"),yt=0;yt<We.length;yt++){var be=We[yt].split("=");if(1<be.length){var Tt=be[0];be=be[1];var ht=Tt.split("_");ue=2<=ht.length&&ht[1]=="type"?ue+(Tt+"="+be+"&"):ue+(Tt+"=redacted&")}}else ue=null;else ue=W;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+p+`
`+y+`
`+ue})}function fs(l,p,y,E,M,W,ue){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+p+`
`+y+`
`+W+" "+ue})}function Pn(l,p,y,E){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Pc(l,y)+(E?" "+E:"")})}function Fo(l,p){l.info(function(){return"TIMEOUT: "+p})}Ii.prototype.info=function(){};function Pc(l,p){if(!l.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var W=M[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ue=1;ue<M.length;ue++)M[ue]=""}}}}return No(y)}catch{return p}}var ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ll={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xn;function Ci(){}j(Ci,Ti),Ci.prototype.g=function(){return new XMLHttpRequest},Ci.prototype.i=function(){return{}},xn=new Ci;function kn(l,p,y,E){this.j=l,this.i=p,this.l=y,this.R=E||1,this.U=new Ei(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ul}function ul(){this.i=null,this.g="",this.h=!1}var jo={},ps={};function ms(l,p,y){l.L=1,l.v=jr(on(p)),l.m=y,l.P=!0,Uo(l,null)}function Uo(l,p){l.F=Date.now(),Ge(l),l.A=on(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),zr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new ul,l.g=Rl(l.j,y?p:null,!l.m),0<l.O&&(l.M=new wi(R(l.Y,l,l.g),l.O)),p=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(ko[0]=M.toString()),M=ko);for(var W=0;W<M.length;W++){var ue=Ao(y,M[W],E||p.handleEvent,!1,p.h||p);if(!ue)break;p.g[ue.key]=ue}p=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),mr(),Ai(l.i,l.u,l.A,l.l,l.R,l.m)}kn.prototype.ca=function(l){l=l.target;const p=this.M;p&&Kt(l)==3?p.j():this.Y(l)},kn.prototype.Y=function(l){try{if(l==this.g)e:{const ht=Kt(this.g);var p=this.g.Ba();const yn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Qo(this.g)))){this.J||ht!=4||p==7||(p==8||0>=yn?mr(3):mr(2)),Ri(this);var y=this.g.Z();this.X=y;t:if(cl(this)){var E=Qo(this.g);l="";var M=E.length,W=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Lr(this);var ue="";break t}this.h.i=new d.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,l+=this.h.i.decode(E[p],{stream:!(W&&p==M-1)});E.length=0,this.h.g+=l,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=y==200,fs(this.i,this.u,this.A,this.l,this.R,ht,y),this.o){if(this.T&&!this.K){t:{if(this.g){var We,yt=this.g;if((We=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(We)){var be=We;break t}}be=null}if(y=be)Pn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zo(this,y);else{this.o=!1,this.s=3,at(12),mn(this),Lr(this);break e}}if(this.P){y=!0;let ln;for(;!this.J&&this.C<ue.length;)if(ln=xc(this,ue),ln==ps){ht==4&&(this.s=4,at(14),y=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==jo){this.s=4,at(15),Pn(this.i,this.l,ue,"[Invalid Chunk]"),y=!1;break}else Pn(this.i,this.l,ln,null),zo(this,ln);if(cl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||ue.length!=0||this.h.h||(this.s=1,at(16),y=!1),this.o=this.o&&y,!y)Pn(this.i,this.l,ue,"[Invalid Chunked Response]"),mn(this),Lr(this);else if(0<ue.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ko(Tt),Tt.M=!0,at(11))}}else Pn(this.i,this.l,ue,null),zo(this,ue);ht==4&&mn(this),this.o&&!this.J&&(ht==4?Cs(this.j,this):(this.o=!1,Ge(this)))}else Es(this.g),y==400&&0<ue.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),mn(this),Lr(this)}}}catch{}finally{}};function cl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function xc(l,p){var y=l.C,E=p.indexOf(`
`,y);return E==-1?ps:(y=Number(p.substring(y,E)),isNaN(y)?jo:(E+=1,E+y>p.length?ps:(p=p.slice(E,E+y),l.C=E+y,p)))}kn.prototype.cancel=function(){this.J=!0,mn(this)};function Ge(l){l.S=Date.now()+l.I,hl(l,l.I)}function hl(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Rn(R(l.ba,l),p)}function Ri(l){l.B&&(d.clearTimeout(l.B),l.B=null)}kn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Fo(this.i,this.A),this.L!=2&&(mr(),at(17)),mn(this),this.s=2,Lr(this)):hl(this,this.S-l)};function Lr(l){l.j.G==0||l.J||Cs(l.j,l)}function mn(l){Ri(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Vo(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function zo(l,p){try{var y=l.j;if(y.G!=0&&(y.g==l||Bt(y.h,l))){if(!l.K&&Bt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)As(y),Ln(y);else break e;Is(y),at(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Rn(R(y.Za,y),6e3));if(1>=dl(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else wr(y,11)}else if((l.K||y.g==l)&&As(y),!Q(p))for(M=y.Da.g.parse(p),p=0;p<M.length;p++){let be=M[p];if(y.T=be[0],be=be[1],y.G==2)if(be[0]=="c"){y.K=be[1],y.ia=be[2];const Tt=be[3];Tt!=null&&(y.la=Tt,y.j.info("VER="+y.la));const ht=be[4];ht!=null&&(y.Aa=ht,y.j.info("SVER="+y.Aa));const yn=be[5];yn!=null&&typeof yn=="number"&&0<yn&&(E=1.5*yn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const ln=l.g;if(ln){const Oi=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var W=E.h;W.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Bo(W,W.h),W.h=null))}if(E.D){const Ps=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Ps&&(E.ya=Ps,Ke(E.I,E.D,Ps))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ue=l;if(E.qa=Cl(E,E.J?E.ia:null,E.W),ue.K){pl(E.h,ue);var We=ue,yt=E.L;yt&&(We.I=yt),We.B&&(Ri(We),Ge(We)),E.g=ue}else Di(E);0<y.i.length&&Jn(y)}else be[0]!="stop"&&be[0]!="close"||wr(y,7);else y.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?wr(y,7):xt(y):be[0]!="noop"&&y.l&&y.l.ta(be),y.v=0)}}mr(4)}catch{}}var fl=class{constructor(l,p){this.g=l,this.map=p}};function Pi(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function dl(l){return l.h?1:l.g?l.g.size:0}function Bt(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Bo(l,p){l.g?l.g.add(p):l.h=p}function pl(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Pi.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ml(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const y of l.g.values())p=p.concat(y.D);return p}return q(l.i)}function gs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var p=[],y=l.length,E=0;E<y;E++)p.push(l[E]);return p}p=[],y=0;for(E in l)p[y++]=l[E];return p}function ys(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var p=[];l=l.length;for(var y=0;y<l;y++)p.push(y);return p}p=[],y=0;for(const E in l)p[y++]=E;return p}}}function Mr(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var y=ys(l),E=gs(l),M=E.length,W=0;W<M;W++)p.call(void 0,E[W],y&&y[W],l)}var xi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kc(l,p){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var W=l[y].substring(0,E);M=l[y].substring(E+1)}else W=l[y];p(W,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function gr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof gr){this.h=l.h,ki(this,l.j),this.o=l.o,this.g=l.g,br(this,l.s),this.l=l.l;var p=l.i,y=new Gn;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),Fr(this,y),this.m=l.m}else l&&(p=String(l).match(xi))?(this.h=!1,ki(this,p[1]||"",!0),this.o=Le(p[2]||""),this.g=Le(p[3]||"",!0),br(this,p[4]),this.l=Le(p[5]||"",!0),Fr(this,p[6]||"",!0),this.m=Le(p[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}gr.prototype.toString=function(){var l=[],p=this.j;p&&l.push(Ur(p,vs,!0),":");var y=this.g;return(y||p=="file")&&(l.push("//"),(p=this.o)&&l.push(Ur(p,vs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Ur(y,y.charAt(0)=="/"?vl:yl,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Ur(y,$o)),l.join("")};function on(l){return new gr(l)}function ki(l,p,y){l.j=y?Le(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function br(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Fr(l,p,y){p instanceof Gn?(l.i=p,Xn(l.i,l.h)):(y||(p=Ur(p,_l)),l.i=new Gn(p,l.h))}function Ke(l,p,y){l.i.set(p,y)}function jr(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Le(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ur(l,p,y){return typeof l=="string"?(l=encodeURI(l).replace(p,gl),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function gl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var vs=/[#\/\?@]/g,yl=/[#\?:]/g,vl=/[#\?]/g,_l=/[#\?@]/g,$o=/#/g;function Gn(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Pt(l){l.g||(l.g=new Map,l.h=0,l.i&&kc(l.i,function(p,y){l.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}r=Gn.prototype,r.add=function(l,p){Pt(this),this.i=null,l=gn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(p),this.h+=1,this};function Vn(l,p){Pt(l),p=gn(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Nn(l,p){return Pt(l),p=gn(l,p),l.g.has(p)}r.forEach=function(l,p){Pt(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(p,M,E,this)},this)},this)},r.na=function(){Pt(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let E=0;E<p.length;E++){const M=l[E];for(let W=0;W<M.length;W++)y.push(p[E])}return y},r.V=function(l){Pt(this);let p=[];if(typeof l=="string")Nn(this,l)&&(p=p.concat(this.g.get(gn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)p=p.concat(l[y])}return p},r.set=function(l,p){return Pt(this),this.i=null,l=gn(this,l),Nn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},r.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function zr(l,p,y){Vn(l,p),0<y.length&&(l.i=null,l.g.set(gn(l,p),q(y)),l.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var E=p[y];const W=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var M=W;ue[E]!==""&&(M+="="+encodeURIComponent(String(ue[E]))),l.push(M)}}return this.i=l.join("&")};function gn(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function Xn(l,p){p&&!l.j&&(Pt(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(Vn(this,E),zr(this,M,y))},l)),l.j=p}function Vc(l,p){const y=new Ii;if(d.Image){const E=new Image;E.onload=L(Wt,y,"TestLoadImage: loaded",!0,p,E),E.onerror=L(Wt,y,"TestLoadImage: error",!1,p,E),E.onabort=L(Wt,y,"TestLoadImage: abort",!1,p,E),E.ontimeout=L(Wt,y,"TestLoadImage: timeout",!1,p,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else p(!1)}function wl(l,p){const y=new Ii,E=new AbortController,M=setTimeout(()=>{E.abort(),Wt(y,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:E.signal}).then(W=>{clearTimeout(M),W.ok?Wt(y,"TestPingServer: ok",!0,p):Wt(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Wt(y,"TestPingServer: error",!1,p)})}function Wt(l,p,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function Nc(){this.g=new Oo}function El(l,p,y){const E=y||"";try{Mr(l,function(M,W){let ue=M;v(M)&&(ue=No(M)),p.push(E+W+"="+encodeURIComponent(ue))})}catch(M){throw p.push(E+"type="+encodeURIComponent("_badmap")),M}}function yr(l){this.l=l.Ub||null,this.j=l.eb||!1}j(yr,Ti),yr.prototype.g=function(){return new Vi(this.l,this.j)},yr.prototype.i=function(l){return function(){return l}}({});function Vi(l,p){mt.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(Vi,mt),r=Vi.prototype,r.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,On(this)},r.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||d).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Dn(this)),this.readyState=0},r.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}r.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Dn(this):On(this),this.readyState==3&&Tl(this)}},r.Ra=function(l){this.g&&(this.response=this.responseText=l,Dn(this))},r.Qa=function(l){this.g&&(this.response=l,Dn(this))},r.ga=function(){this.g&&Dn(this)};function Dn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,On(l)}r.setRequestHeader=function(l,p){this.u.append(l,p)},r.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=p.next();return l.join(`\r
`)};function On(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function vr(l){let p="";return re(l,function(y,E){p+=E,p+=":",p+=y,p+=`\r
`}),p}function Br(l,p,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=vr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Ke(l,p,y))}function et(l){mt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(et,mt);var Dc=/^https?$/i,qo=["POST","PUT"];r=et.prototype,r.Ha=function(l){this.J=l},r.ea=function(l,p,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xn.g(),this.v=this.o?ls(this.o):ls(xn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(W){Ni(this,W);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const W of E.keys())y.set(W,E.get(W));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(W=>W.toLowerCase()=="content-type"),M=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(qo,p,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ue]of y)this.g.setRequestHeader(W,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(l),this.u=!1}catch(W){Ni(this,W)}};function Ni(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,_s(l),an(l)}function _s(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}r.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),et.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ho(this):this.bb())},r.bb=function(){Ho(this)};function Ho(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Kt(l)!=4||l.Z()!=2)){if(l.u&&Kt(l)==4)xo(l.Ea,0,l);else if(gt(l,"readystatechange"),Kt(l)==4){l.h=!1;try{const ue=l.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var E;if(E=ue===0){var M=String(l.D).match(xi)[1]||null;!M&&d.self&&d.self.location&&(M=d.self.location.protocol.slice(0,-1)),E=!Dc.test(M?M.toLowerCase():"")}y=E}if(y)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var W=2<Kt(l)?l.g.statusText:""}catch{W=""}l.l=W+" ["+l.Z()+"]",_s(l)}}finally{an(l)}}}}function an(l,p){if(l.g){ws(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||gt(l,"ready");try{y.onreadystatechange=E}catch{}}}function ws(l){l.I&&(d.clearTimeout(l.I),l.I=null)}r.isActive=function(){return!!this.g};function Kt(l){return l.g?l.g.readyState:0}r.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Do(p)}};function Qo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Es(l){const p={};l=(l.g&&2<=Kt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Q(l[E]))continue;var y=k(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const W=p[M]||[];p[M]=W,W.push(y)}C(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(l,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||p}function Wo(l){this.Aa=0,this.i=[],this.j=new Ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,l),this.cb=Yn("retryDelaySeedMs",1e4,l),this.Wa=Yn("forwardChannelMaxRetries",2,l),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Pi(l&&l.concurrentRequestLimit),this.Da=new Nc,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Wo.prototype,r.la=8,r.G=1,r.connect=function(l,p,y,E){at(0),this.W=l,this.H=p||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Cl(this,null,this.W),Jn(this)};function xt(l){if(Ts(l),l.G==3){var p=l.U++,y=on(l.I);if(Ke(y,"SID",l.K),Ke(y,"RID",p),Ke(y,"TYPE","terminate"),_r(l,y),p=new kn(l,l.j,p),p.L=2,p.v=jr(on(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&d.Image&&(new Image().src=p.v,y=!0),y||(p.g=Rl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ge(p)}Al(l)}function Ln(l){l.g&&(Ko(l),l.g.cancel(),l.g=null)}function Ts(l){Ln(l),l.u&&(d.clearTimeout(l.u),l.u=null),As(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function Jn(l){if(!sn(l.h)&&!l.s){l.s=!0;var p=l.Ga;Oe||G(),ie||(Oe(),ie=!0),te.add(p,l),l.B=0}}function Oc(l,p){return dl(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Rn(R(l.Ga,l,p),Il(l,l.B)),l.B++,!0)}r.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new kn(this,this.j,l);let W=this.o;if(this.S&&(W?(W=T(W),x(W,this.S)):W=this.S),this.m!==null||this.O||(M.H=W,W=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=$r(this,M,p),y=on(this.I),Ke(y,"RID",l),Ke(y,"CVER",22),this.D&&Ke(y,"X-HTTP-Session-Id",this.D),_r(this,y),W&&(this.O?p="headers="+encodeURIComponent(String(vr(W)))+"&"+p:this.m&&Br(y,this.m,W)),Bo(this.h,M),this.Ua&&Ke(y,"TYPE","init"),this.P?(Ke(y,"$req",p),Ke(y,"SID","null"),M.T=!0,ms(M,y,null)):ms(M,y,p),this.G=2}}else this.G==3&&(l?Ss(this,l):this.i.length==0||sn(this.h)||Ss(this))};function Ss(l,p){var y;p?y=p.l:y=l.U++;const E=on(l.I);Ke(E,"SID",l.K),Ke(E,"RID",y),Ke(E,"AID",l.T),_r(l,E),l.m&&l.o&&Br(E,l.m,l.o),y=new kn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),p&&(l.i=p.D.concat(l.i)),p=$r(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Bo(l.h,y),ms(y,E,p)}function _r(l,p){l.H&&re(l.H,function(y,E){Ke(p,E,y)}),l.l&&Mr({},function(y,E){Ke(p,E,y)})}function $r(l,p,y){y=Math.min(l.i.length,y);var E=l.l?R(l.l.Na,l.l,l):null;e:{var M=l.i;let W=-1;for(;;){const ue=["count="+y];W==-1?0<y?(W=M[0].g,ue.push("ofs="+W)):W=0:ue.push("ofs="+W);let We=!0;for(let yt=0;yt<y;yt++){let be=M[yt].g;const Tt=M[yt].map;if(be-=W,0>be)W=Math.max(0,M[yt].g-100),We=!1;else try{El(Tt,ue,"req"+be+"_")}catch{E&&E(Tt)}}if(We){E=ue.join("&");break e}}}return l=l.i.splice(0,y),p.D=l,E}function Di(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Oe||G(),ie||(Oe(),ie=!0),te.add(p,l),l.v=0}}function Is(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Rn(R(l.Fa,l),Il(l,l.v)),l.v++,!0)}r.Fa=function(){if(this.u=null,Sl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Rn(R(this.ab,this),l)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ln(this),Sl(this))};function Ko(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function Sl(l){l.g=new kn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=on(l.qa);Ke(p,"RID","rpc"),Ke(p,"SID",l.K),Ke(p,"AID",l.T),Ke(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(p,"TO",l.ja),Ke(p,"TYPE","xmlhttp"),_r(l,p),l.m&&l.o&&Br(p,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=jr(on(p)),y.m=null,y.P=!0,Uo(y,l)}r.Za=function(){this.C!=null&&(this.C=null,Ln(this),Is(this),at(19))};function As(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function Cs(l,p){var y=null;if(l.g==p){As(l),Ko(l),l.g=null;var E=2}else if(Bt(l.h,p))y=p.D,pl(l.h,p),E=1;else return;if(l.G!=0){if(p.o)if(E==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var M=l.B;E=Si(),gt(E,new hs(E,y)),Jn(l)}else Di(l);else if(M=p.s,M==3||M==0&&0<p.X||!(E==1&&Oc(l,p)||E==2&&Is(l)))switch(y&&0<y.length&&(p=l.h,p.i=p.i.concat(y)),M){case 1:wr(l,5);break;case 4:wr(l,10);break;case 3:wr(l,6);break;default:wr(l,2)}}}function Il(l,p){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*p}function wr(l,p){if(l.j.info("Error code "+p),p==2){var y=R(l.fb,l),E=l.Xa;const M=!E;E=new gr(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ki(E,"https"),jr(E),M?Vc(E.toString(),y):wl(E.toString(),y)}else at(2);l.G=0,l.l&&l.l.sa(p),Al(l),Ts(l)}r.fb=function(l){l?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Al(l){if(l.G=0,l.ka=[],l.l){const p=ml(l.h);(p.length!=0||l.i.length!=0)&&($(l.ka,p),$(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function Cl(l,p,y){var E=y instanceof gr?on(y):new gr(y);if(E.g!="")p&&(E.g=p+"."+E.g),br(E,E.s);else{var M=d.location;E=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var W=new gr(null);E&&ki(W,E),p&&(W.g=p),M&&br(W,M),y&&(W.l=y),E=W}return y=l.D,p=l.ya,y&&p&&Ke(E,y,p),Ke(E,"VER",l.la),_r(l,E),E}function Rl(l,p,y){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new et(new yr({eb:y})):new et(l.pa),p.Ha(l.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Go(){}r=Go.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Rs(){}Rs.prototype.g=function(l,p){return new $t(l,p)};function $t(l,p){mt.call(this),this.g=new Wo(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!Q(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Q(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Zn(this)}j($t,mt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){xt(this.g)},$t.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=No(l),l=y);p.i.push(new fl(p.Ya++,l)),p.G==3&&Jn(p)},$t.prototype.N=function(){this.g.l=null,delete this.j,xt(this.g),delete this.g,$t.aa.N.call(this)};function Pl(l){Wn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const y in p){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}j(Pl,Wn);function xl(){cs.call(this),this.status=1}j(xl,cs);function Zn(l){this.g=l}j(Zn,Go),Zn.prototype.ua=function(){gt(this.g,"a")},Zn.prototype.ta=function(l){gt(this.g,new Pl(l))},Zn.prototype.sa=function(l){gt(this.g,new xl)},Zn.prototype.ra=function(){gt(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,$_=function(){return new Rs},B_=function(){return Si()},z_=Kn,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Ou=ds,ll.COMPLETE="complete",U_=ll,us.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Ra=us,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,j_=et}).apply(typeof Cu<"u"?Cu:typeof self<"u"?self:typeof window<"u"?window:{});const Cy="@firebase/firestore",Ry="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new N_("@firebase/firestore");function Xs(){return es.logLevel}function he(r,...e){if(es.logLevel<=je.DEBUG){const t=e.map(bd);es.debug(`Firestore (${wo}): ${r}`,...t)}}function Vr(r,...e){if(es.logLevel<=je.ERROR){const t=e.map(bd);es.error(`Firestore (${wo}): ${r}`,...t)}}function uo(r,...e){if(es.logLevel<=je.WARN){const t=e.map(bd);es.warn(`Firestore (${wo}): ${r}`,...t)}}function bd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r="Unexpected state"){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+r;throw Vr(e),new Error(e)}function st(r,e){r||xe()}function Ue(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends _o{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class wI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EI{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Yi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},d=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>d(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Yi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(st(typeof s.accessToken=="string"),new q_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new jt(e)}}class TI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class SI{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new TI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class II{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,iI(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){st(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Py(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new Py(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function De(r,e){return r<e?-1:r>e?1:0}function Xf(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return De(s,o);{const u=H_(),h=RI(u.encode(xy(r,t)),u.encode(xy(e,t)));return h!==0?h:De(s,o)}}t+=s>65535?2:1}return De(r.length,e.length)}function xy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function RI(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return De(r[t],e[t]);return De(r.length,e.length)}function co(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-62135596800,Vy=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Vy);return new Rt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ky)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vy}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Rt(0,0))}static max(){return new Re(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="__name__";class sr{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(),s===void 0?s=e.length-t:s>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=sr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return De(e.length,t.length)}static compareSegments(e,t){const s=sr.isNumericId(e),o=sr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?sr.extractNumericId(e).compare(sr.extractNumericId(t)):Xf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fi.fromString(e.substring(4,e.length-2))}}class it extends sr{construct(e,t,s){return new it(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends sr{construct(e,t,s){return new zt(e,t,s)}static isValidIdentifier(e){return PI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ny}static keyField(){return new zt([Ny])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ge(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ge(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ge(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(it.fromString(e))}static fromName(e){return new Te(it.fromString(e).popFirst(5))}static empty(){return new Te(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=-1;function xI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Rt(t+1,0):new Rt(t,s));return new di(o,Te.empty(),e)}function kI(r){return new di(r.readTime,r.key,Xa)}class di{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new di(Re.min(),Te.empty(),Xa)}static max(){return new di(Re.max(),Te.empty(),Xa)}}function VI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:De(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==NI)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,s)=>{t(e)})}static reject(e){return new Y((t,s)=>{s(e)})}static waitFor(e){return new Y((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=Y.resolve(!1);for(const s of e)t=t.next(o=>o?Y.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Y((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let g=0;g<u;g++){const v=g;t(e[v]).next(w=>{h[v]=w,++d,d===u&&s(h)},w=>o(w))}})}static doWhile(e,t){return new Y((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function OI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}gc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=-1;function yc(r){return r==null}function Gu(r){return r===0&&1/r==-1/0}function MI(r){return typeof r=="number"&&Number.isInteger(r)&&!Gu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="";function bI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Dy(e)),e=FI(r.get(t),e);return Dy(e)}function FI(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case Q_:t+="";break;default:t+=u}}return t}function Dy(r){return r+Q_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function To(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function W_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Nt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Nt.RED,this.left=o??Nt.EMPTY,this.right=u??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Nt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Nt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wt(this.comparator);return t.data=e,t}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new ai([])}unionWith(e){let t=new wt(zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new K_("Invalid base64 string: "+u):u}}(e);return new Dt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const jI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(r){if(st(!!r),typeof r=="string"){let e=0;const t=jI.exec(r);if(st(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ut(r.seconds),nanos:ut(r.nanos)}}function ut(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function mi(r){return typeof r=="string"?Dt.fromBase64String(r):Dt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",X_="__type__",Y_="__previous_value__",J_="__local_write_time__";function Fd(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[X_])===null||t===void 0?void 0:t.stringValue)===G_}function vc(r){const e=r.mapValue.fields[Y_];return Fd(e)?vc(e):e}function Ya(r){const e=pi(r.mapValue.fields[J_].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,s,o,u,h,d,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=v}}const Xu="(default)";class Ja{constructor(e,t){this.projectId=e,this.database=t||Xu}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database===Xu}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="__type__",zI="__max__",Pu={mapValue:{}},e0="__vector__",Yu="value";function gi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fd(r)?4:$I(r)?9007199254740991:BI(r)?10:11:xe()}function cr(r,e){if(r===e)return!0;const t=gi(r);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ya(r).isEqual(Ya(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=pi(o.timestampValue),d=pi(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return mi(o.bytesValue).isEqual(mi(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ut(o.geoPointValue.latitude)===ut(u.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ut(o.integerValue)===ut(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ut(o.doubleValue),d=ut(u.doubleValue);return h===d?Gu(h)===Gu(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(Oy(h)!==Oy(d))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(d[g]===void 0||!cr(h[g],d[g])))return!1;return!0}(r,e);default:return xe()}}function Za(r,e){return(r.values||[]).find(t=>cr(t,e))!==void 0}function ho(r,e){if(r===e)return 0;const t=gi(r),s=gi(e);if(t!==s)return De(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(r.booleanValue,e.booleanValue);case 2:return function(u,h){const d=ut(u.integerValue||u.doubleValue),g=ut(h.integerValue||h.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(r,e);case 3:return My(r.timestampValue,e.timestampValue);case 4:return My(Ya(r),Ya(e));case 5:return Xf(r.stringValue,e.stringValue);case 6:return function(u,h){const d=mi(u),g=mi(h);return d.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),g=h.split("/");for(let v=0;v<d.length&&v<g.length;v++){const w=De(d[v],g[v]);if(w!==0)return w}return De(d.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const d=De(ut(u.latitude),ut(h.latitude));return d!==0?d:De(ut(u.longitude),ut(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return by(r.arrayValue,e.arrayValue);case 10:return function(u,h){var d,g,v,w;const S=u.fields||{},R=h.fields||{},L=(d=S[Yu])===null||d===void 0?void 0:d.arrayValue,j=(g=R[Yu])===null||g===void 0?void 0:g.arrayValue,q=De(((v=L==null?void 0:L.values)===null||v===void 0?void 0:v.length)||0,((w=j==null?void 0:j.values)===null||w===void 0?void 0:w.length)||0);return q!==0?q:by(L,j)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Pu.mapValue&&h===Pu.mapValue)return 0;if(u===Pu.mapValue)return 1;if(h===Pu.mapValue)return-1;const d=u.fields||{},g=Object.keys(d),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let S=0;S<g.length&&S<w.length;++S){const R=Xf(g[S],w[S]);if(R!==0)return R;const L=ho(d[g[S]],v[w[S]]);if(L!==0)return L}return De(g.length,w.length)}(r.mapValue,e.mapValue);default:throw xe()}}function My(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return De(r,e);const t=pi(r),s=pi(e),o=De(t.seconds,s.seconds);return o!==0?o:De(t.nanos,s.nanos)}function by(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=ho(t[o],s[o]);if(u)return u}return De(t.length,s.length)}function fo(r){return Yf(r)}function Yf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=pi(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return mi(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Te.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Yf(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Yf(t.fields[h])}`;return o+"}"}(r.mapValue):xe()}function Lu(r){switch(gi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vc(r);return e?16+Lu(e):16;case 5:return 2*r.stringValue.length;case 6:return mi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Lu(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return To(s.fields,(u,h)=>{o+=u.length+Lu(h)}),o}(r.mapValue);default:throw xe()}}function Fy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Jf(r){return!!r&&"integerValue"in r}function jd(r){return!!r&&"arrayValue"in r}function jy(r){return!!r&&"nullValue"in r}function Uy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pf(r){return!!r&&"mapValue"in r}function BI(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z_])===null||t===void 0?void 0:t.stringValue)===e0}function La(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return To(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=La(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=La(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $I(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Pf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(t)}setAll(e){let t=zt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=La(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Pf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){To(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new or(La(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Ut(e,0,Re.min(),Re.min(),Re.min(),or.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Re.min(),Re.min(),or.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Re.min(),Re.min(),or.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,t){this.position=e,this.inclusive=t}}function zy(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),t.key):s=ho(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function By(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!cr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t="asc"){this.field=e,this.dir=t}}function qI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{}class pt extends t0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new QI(e,t,s):t==="array-contains"?new GI(e,s):t==="in"?new XI(e,s):t==="not-in"?new YI(e,s):t==="array-contains-any"?new JI(e,s):new pt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new WI(e,s):new KI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ho(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends t0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Hn(e,t)}matches(e){return n0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function n0(r){return r.op==="and"}function r0(r){return HI(r)&&n0(r)}function HI(r){for(const e of r.filters)if(e instanceof Hn)return!1;return!0}function Zf(r){if(r instanceof pt)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(r0(r))return r.filters.map(e=>Zf(e)).join(",");{const e=r.filters.map(t=>Zf(t)).join(",");return`${r.op}(${e})`}}function i0(r,e){return r instanceof pt?function(s,o){return o instanceof pt&&s.op===o.op&&s.field.isEqual(o.field)&&cr(s.value,o.value)}(r,e):r instanceof Hn?function(s,o){return o instanceof Hn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&i0(h,o.filters[d]),!0):!1}(r,e):void xe()}function s0(r){return r instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${fo(t.value)}`}(r):r instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map(s0).join(" ,")+"}"}(r):"Filter"}class QI extends pt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class WI extends pt{constructor(e,t){super(e,"in",t),this.keys=o0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class KI extends pt{constructor(e,t){super(e,"not-in",t),this.keys=o0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function o0(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class GI extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jd(t)&&Za(t.arrayValue,this.value)}}class XI extends pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Za(this.value.arrayValue,t)}}class YI extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Za(this.value.arrayValue,t)}}class JI extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Za(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function $y(r,e=null,t=[],s=[],o=null,u=null,h=null){return new ZI(r,e,t,s,o,u,h)}function Ud(r){const e=Ue(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Zf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),yc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>fo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>fo(s)).join(",")),e.le=t}return e.le}function zd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!qI(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!i0(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!By(r.startAt,e.startAt)&&By(r.endAt,e.endAt)}function ed(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function eA(r,e,t,s,o,u,h,d){return new rl(r,e,t,s,o,u,h,d)}function a0(r){return new rl(r)}function qy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function l0(r){return r.collectionGroup!==null}function Ma(r){const e=Ue(r);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new wt(zt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(d=d.add(v.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Zu(u,s))}),t.has(zt.keyField().canonicalString())||e.he.push(new Zu(zt.keyField(),s))}return e.he}function ar(r){const e=Ue(r);return e.Pe||(e.Pe=tA(e,Ma(r))),e.Pe}function tA(r,e){if(r.limitType==="F")return $y(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Zu(o.field,u)});const t=r.endAt?new Ju(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ju(r.startAt.position,r.startAt.inclusive):null;return $y(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function td(r,e){const t=r.filters.concat([e]);return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function nd(r,e,t){return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function _c(r,e){return zd(ar(r),ar(e))&&r.limitType===e.limitType}function u0(r){return`${Ud(ar(r))}|lt:${r.limitType}`}function Ys(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>s0(o)).join(", ")}]`),yc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>fo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>fo(o)).join(",")),`Target(${s})`}(ar(r))}; limitType=${r.limitType})`}function wc(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ma(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,d,g){const v=zy(h,d,g);return h.inclusive?v<=0:v<0}(s.startAt,Ma(s),o)||s.endAt&&!function(h,d,g){const v=zy(h,d,g);return h.inclusive?v>=0:v>0}(s.endAt,Ma(s),o))}(r,e)}function nA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function c0(r){return(e,t)=>{let s=!1;for(const o of Ma(r)){const u=rA(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function rA(r,e,t){const s=r.field.isKeyField()?Te.comparator(e.key,t.key):function(u,h,d){const g=h.data.field(u),v=d.data.field(u);return g!==null&&v!==null?ho(g,v):xe()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return W_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new ct(Te.comparator);function yi(){return iA}const h0=new ct(Te.comparator);function Pa(...r){let e=h0;for(const t of r)e=e.insert(t.key,t);return e}function sA(r){let e=h0;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Xi(){return ba()}function f0(){return ba()}function ba(){return new ns(r=>r.toString(),(r,e)=>r.isEqual(e))}const oA=new wt(Te.comparator);function Be(...r){let e=oA;for(const t of r)e=e.add(t);return e}const aA=new wt(De);function lA(){return aA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function d0(r){return{integerValue:""+r}}function uA(r,e){return MI(e)?d0(e):Bd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function cA(r,e,t){return r instanceof rd?function(o,u){const h={fields:{[X_]:{stringValue:G_},[J_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fd(u)&&(u=vc(u)),u&&(h.fields[Y_]=u),{mapValue:h}}(t,e):r instanceof ec?p0(r,e):r instanceof tc?m0(r,e):function(o,u){const h=fA(o,u),d=Hy(h)+Hy(o.Ie);return Jf(h)&&Jf(o.Ie)?d0(d):Bd(o.serializer,d)}(r,e)}function hA(r,e,t){return r instanceof ec?p0(r,e):r instanceof tc?m0(r,e):t}function fA(r,e){return r instanceof id?function(s){return Jf(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class rd extends Ec{}class ec extends Ec{constructor(e){super(),this.elements=e}}function p0(r,e){const t=g0(e);for(const s of r.elements)t.some(o=>cr(o,s))||t.push(s);return{arrayValue:{values:t}}}class tc extends Ec{constructor(e){super(),this.elements=e}}function m0(r,e){let t=g0(e);for(const s of r.elements)t=t.filter(o=>!cr(o,s));return{arrayValue:{values:t}}}class id extends Ec{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Hy(r){return ut(r.integerValue||r.doubleValue)}function g0(r){return jd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dA(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ec&&o instanceof ec||s instanceof tc&&o instanceof tc?co(s.elements,o.elements,cr):s instanceof id&&o instanceof id?cr(s.Ie,o.Ie):s instanceof rd&&o instanceof rd}(r.transform,e.transform)}class Ji{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ji}static exists(e){return new Ji(void 0,e)}static updateTime(e){return new Ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $d{}function y0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mA(r.key,Ji.none()):new qd(r.key,r.data,Ji.none());{const t=r.data,s=or.empty();let o=new wt(zt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Tc(r.key,s,new ai(o.toArray()),Ji.none())}}function pA(r,e,t){r instanceof qd?function(o,u,h){const d=o.value.clone(),g=Wy(o.fieldTransforms,u,h.transformResults);d.setAll(g),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Tc?function(o,u,h){if(!Mu(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Wy(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(v0(o)),g.setAll(d),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Fa(r,e,t,s){return r instanceof qd?function(u,h,d,g){if(!Mu(u.precondition,h))return d;const v=u.value.clone(),w=Ky(u.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(r,e,t,s):r instanceof Tc?function(u,h,d,g){if(!Mu(u.precondition,h))return d;const v=Ky(u.fieldTransforms,g,h),w=h.data;return w.setAll(v0(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,t,s):function(u,h,d){return Mu(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function Qy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,(u,h)=>dA(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class qd extends $d{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Tc extends $d{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function v0(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Wy(r,e,t){const s=new Map;st(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,hA(h,d,t[o]))}return s}function Ky(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,cA(u,h,e))}return s}class mA extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&pA(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=f0();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const g=y0(h,d);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(t,s)=>Qy(t,s))&&co(this.baseMutations,e.baseMutations,(t,s)=>Qy(t,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Fe;function _0(r){if(r===void 0)return Vr("GRPC error has no .code"),ae.UNKNOWN;switch(r){case dt.OK:return ae.OK;case dt.CANCELLED:return ae.CANCELLED;case dt.UNKNOWN:return ae.UNKNOWN;case dt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case dt.INTERNAL:return ae.INTERNAL;case dt.UNAVAILABLE:return ae.UNAVAILABLE;case dt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case dt.NOT_FOUND:return ae.NOT_FOUND;case dt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case dt.ABORTED:return ae.ABORTED;case dt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case dt.DATA_LOSS:return ae.DATA_LOSS;default:return xe()}}(Fe=dt||(dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new fi([4294967295,4294967295],0);function Gy(r){const e=H_().encode(r),t=new F_;return t.update(e),new Uint8Array(t.digest())}function Xy(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new fi([t,s],0),new fi([o,u],0)]}class Hd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new xa(`Invalid padding: ${t}`);if(s<0)throw new xa(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new xa(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new xa(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=fi.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(fi.fromNumber(s)));return o.compare(_A)===1&&(o=new fi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Gy(e),[s,o]=Xy(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Hd(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=Gy(e),[s,o]=Xy(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,il.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sc(Re.min(),o,new ct(De),yi(),Be())}}class il{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new il(s,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class w0{constructor(e,t){this.targetId=e,this.ge=t}}class E0{constructor(e,t,s=Dt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Yy{constructor(){this.pe=0,this.ye=Jy(),this.we=Dt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Be(),t=Be(),s=Be();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:xe()}}),new il(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=Jy()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,st(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class wA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=yi(),this.$e=xu(),this.Ue=xu(),this.Ke=new ct(De)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(ed(u))if(s===0){const h=new Te(u.path);this.ze(t,h,Ut.newNoDocument(h,Re.min()))}else st(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),g=d?this.nt(d,e,h):1;if(g!==0){this.Ye(t);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=mi(s).toUint8Array()}catch(g){if(g instanceof K_)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Hd(h,o,u)}catch(g){return uo(g instanceof xa?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&ed(d.target)){const g=new Te(d.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,Ut.newNoDocument(g,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Be();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(g=>{const v=this.Xe(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Sc(e,t,this.Ke,this.Qe,s);return this.Qe=yi(),this.$e=xu(),this.Ue=xu(),this.Ke=new ct(De),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Yy,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new wt(De),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new wt(De),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Yy),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function xu(){return new ct(Te.comparator)}function Jy(){return new ct(Te.comparator)}const EA={asc:"ASCENDING",desc:"DESCENDING"},TA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SA={and:"AND",or:"OR"};class IA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sd(r,e){return r.useProto3Json||yc(e)?e:{value:e}}function od(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function T0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ro(r){return st(!!r),Re.fromTimestamp(function(t){const s=pi(t);return new Rt(s.seconds,s.nanos)}(r))}function S0(r,e){return ad(r,e).canonicalString()}function ad(r,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function I0(r){const e=it.fromString(r);return st(x0(e)),e}function xf(r,e){const t=I0(e);if(t.get(1)!==r.databaseId.projectId)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ge(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(C0(t))}function A0(r,e){return S0(r.databaseId,e)}function AA(r){const e=I0(r);return e.length===4?it.emptyPath():C0(e)}function Zy(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function C0(r){return st(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function CA(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?(st(w===void 0||typeof w=="string"),Dt.fromBase64String(w||"")):(st(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Dt.fromUint8Array(w||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(v){const w=v.code===void 0?ae.UNKNOWN:_0(v.code);return new ge(w,v.message||"")}(h);t=new E0(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xf(r,s.document.name),u=ro(s.document.updateTime),h=s.document.createTime?ro(s.document.createTime):Re.min(),d=new or({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(o,u,h,d),v=s.targetIds||[],w=s.removedTargetIds||[];t=new bu(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xf(r,s.document),u=s.readTime?ro(s.readTime):Re.min(),h=Ut.newNoDocument(o,u),d=s.removedTargetIds||[];t=new bu([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xf(r,s.document),u=s.removedTargetIds||[];t=new bu([],u,o,null)}else{if(!("filter"in e))return xe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new vA(o,u),d=s.targetId;t=new w0(d,h)}}return t}function RA(r,e){return{documents:[A0(r,e.path)]}}function PA(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=A0(r,o);const u=function(v){if(v.length!==0)return P0(Hn.create(v,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(w=>function(R){return{field:Js(R.field),direction:VA(R.dir)}}(w))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=sd(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:t,parent:o}}function xA(r){let e=AA(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){st(s===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(S){const R=R0(S);return R instanceof Hn&&r0(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(R=>function(j){return new Zu(Zs(j.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(S){let R;return R=typeof S=="object"?S.value:S,yc(R)?null:R}(t.limit));let g=null;t.startAt&&(g=function(S){const R=!!S.before,L=S.values||[];return new Ju(L,R)}(t.startAt));let v=null;return t.endAt&&(v=function(S){const R=!S.before,L=S.values||[];return new Ju(L,R)}(t.endAt)),eA(e,o,h,u,d,"F",g,v)}function kA(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function R0(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Zs(t.unaryFilter.field);return pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Zs(t.unaryFilter.field);return pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Zs(t.unaryFilter.field);return pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Zs(t.unaryFilter.field);return pt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(r):r.fieldFilter!==void 0?function(t){return pt.create(Zs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Hn.create(t.compositeFilter.filters.map(s=>R0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(r):xe()}function VA(r){return EA[r]}function NA(r){return TA[r]}function DA(r){return SA[r]}function Js(r){return{fieldPath:r.canonicalString()}}function Zs(r){return zt.fromServerFormat(r.fieldPath)}function P0(r){return r instanceof pt?function(t){if(t.op==="=="){if(Uy(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NAN"}};if(jy(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Uy(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NOT_NAN"}};if(jy(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(t.field),op:NA(t.op),value:t.value}}}(r):r instanceof Hn?function(t){const s=t.getFilters().map(o=>P0(o));return s.length===1?s[0]:{compositeFilter:{op:DA(t.op),filters:s}}}(r):xe()}function x0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t,s,o,u=Re.min(),h=Re.min(),d=Dt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.Tt=e}}function LA(r){const e=xA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.Tn=new bA}addToCollectionParentIndex(e,t){return this.Tn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(di.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(di.min())}updateCollectionGroup(e,t,s){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class bA{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new wt(it.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new wt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(k0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new po(0)}static Kn(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="LruGarbageCollector",FA=1048576;function nv([r,e],[t,s]){const o=De(r,t);return o===0?De(e,s):o}class jA{constructor(e){this.Hn=e,this.buffer=new wt(nv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();nv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UA{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(tv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Eo(t)?he(tv,"Ignoring IndexedDB error during garbage collection: ",t):await mc(t)}await this.er(3e5)})}}class zA{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(gc.ae);const s=new jA(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(ev)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ev):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,d=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(v=Date.now(),Xs()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(g-d)+`ms
	Removed ${S} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function BA(r,e){return new zA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.changes=new ns(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Y.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Fa(s.mutation,o,ai.empty(),Rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Be()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Be()){const o=Xi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Pa();return u.forEach((d,g)=>{h=h.insert(d,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Xi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Be()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=yi();const h=ba(),d=function(){return ba()}();return t.forEach((g,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Tc)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),Fa(w.mutation,v,w.mutation.getFieldMask(),Rt.now())):h.set(v.key,ai.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,w)=>h.set(v,w)),t.forEach((v,w)=>{var S;return d.set(v,new qA(w,(S=h.get(v))!==null&&S!==void 0?S:null))}),d))}recalculateAndSaveOverlays(e,t){const s=ba();let o=new ct((h,d)=>h-d),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(g=>{const v=t.get(g);if(v===null)return;let w=s.get(g)||ai.empty();w=d.applyToLocalView(v,w),s.set(g,w);const S=(o.get(d.batchId)||Be()).add(g);o=o.insert(d.batchId,S)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),v=g.key,w=g.value,S=f0();w.forEach(R=>{if(!u.has(R)){const L=y0(t.get(R),s.get(R));L!==null&&S.set(R,L),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,S))}return Y.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):l0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Y.resolve(Xi());let d=Xa,g=u;return h.next(v=>Y.forEach(v,(w,S)=>(d<S.largestBatchId&&(d=S.largestBatchId),u.get(w)?Y.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{g=g.insert(w,R)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Be())).next(w=>({batchId:d,changes:sA(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=Pa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Pa();return this.indexManager.getCollectionParents(e,u).next(d=>Y.forEach(d,g=>{const v=function(S,R){return new rl(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next(w=>{w.forEach((S,R)=>{h=h.insert(S,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ut.newInvalidDocument(w)))});let d=Pa();return h.forEach((g,v)=>{const w=u.get(g);w!==void 0&&Fa(w.mutation,v,ai.empty(),Rt.now()),wc(t,v)&&(d=d.insert(g,v))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Y.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ro(o.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:LA(o.bundledQuery),readTime:ro(o.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.overlays=new ct(Te.comparator),this.Rr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Xi();return Y.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),Y.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Y.resolve()}getOverlaysForCollection(e,t,s){const o=Xi(),u=t.length+1,h=new Te(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const g=d.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ct((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=Xi(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const d=Xi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>d.set(v,w)),!(d.size()>=o)););return Y.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new yA(t,s));let u=this.Rr.get(t);u===void 0&&(u=Be(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.Vr=new wt(Ct.mr),this.gr=new wt(Ct.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ct(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ct(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Te(new it([])),s=new Ct(t,e),o=new Ct(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Te(new it([])),s=new Ct(t,e),o=new Ct(t,e+1);let u=Be();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ct(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ct{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Te.comparator(e.key,t.key)||De(e.Cr,t.Cr)}static pr(e,t){return De(e.Cr,t.Cr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new wt(Ct.mr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new gA(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ct(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Y.resolve(h)}lookupMutationBatch(e,t){return Y.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return Y.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?LI:this.Fr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),Y.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new wt(De);return t.forEach(o=>{const u=new Ct(o,0),h=new Ct(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),Y.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new Ct(new Te(u),0);let d=new wt(De);return this.Mr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(d=d.add(g.Cr)),!0)},h),Y.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){st(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Y.forEach(t.mutations,o=>{const u=new Ct(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ct(t,0),o=this.Mr.firstAfterOrEqual(s);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.kr=e,this.docs=function(){return new ct(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Y.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=yi();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Ut.newInvalidDocument(o))}),Y.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=yi();const h=t.path,d=new Te(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||VI(kI(w),s)<=0||(o.has(w.key)||wc(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return Y.resolve(u)}getAllFromCollectionGroup(e,t,s,o){xe()}qr(e,t){return Y.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new YA(this)}getSize(e){return Y.resolve(this.size)}}class YA extends $A{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Y.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.persistence=e,this.Qr=new ns(t=>Ud(t),zd),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Qd,this.targetCount=0,this.Kr=po.Un()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),Y.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new po(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.zn(t),Y.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Y.waitFor(u).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return Y.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),Y.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Y.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return Y.resolve(s)}containsKey(e,t){return Y.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new gc(0),this.zr=!1,this.zr=!0,this.jr=new KA,this.referenceDelegate=e(this),this.Hr=new JA(this),this.indexManager=new MA,this.remoteDocumentCache=function(o){return new XA(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new OA(t),this.Yr=new QA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new GA(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new ZA(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return Y.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class ZA extends DI{constructor(e){super(),this.currentSequenceNumber=e}}class Wd{constructor(e){this.persistence=e,this.ti=new Qd,this.ni=null}static ri(e){return new Wd(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),Y.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Y.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,s=>{const o=Te.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Y.or([()=>Y.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class nc{constructor(e,t){this.persistence=e,this.oi=new ns(s=>bI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=BA(this,t)}static ri(e,t){return new nc(e,t)}Zr(){}Xr(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return Y.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Y.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Y.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lu(e.data.value)),t}ar(e,t,s){return Y.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return Y.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Be(),o=Be();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kd(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return tS()?8:OI(ZT())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new eC;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(Xs()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Ys(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(Xs()<=je.DEBUG&&he("QueryEngine","Query:",Ys(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Xs()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Ys(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(t))):Y.resolve())}rs(e,t){if(qy(t))return Y.resolve(null);let s=ar(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=nd(t,null,"F"),s=ar(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Be(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.cs(t,d);return this.ls(t,v,h,g.readTime)?this.rs(e,nd(t,null,"F")):this.hs(e,v,t,g)}))})))}ss(e,t,s,o){return qy(t)||o.isEqual(Re.min())?Y.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?Y.resolve(null):(Xs()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ys(t)),this.hs(e,h,t,xI(o,Xa)).next(d=>d))})}cs(e,t){let s=new wt(c0(e));return t.forEach((o,u)=>{wc(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return Xs()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Ys(t)),this.ns.getDocumentsMatchingQuery(e,t,di.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="LocalStore",nC=3e8;class rC{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ct(De),this.Is=new ns(u=>Ud(u),zd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HA(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function iC(r,e,t,s){return new rC(r,e,t,s)}async function N0(r,e){const t=Ue(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let g=Be();for(const v of o){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){d.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next(v=>({Rs:v,removedBatchIds:h,addedBatchIds:d}))})})}function D0(r){const e=Ue(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function sC(r,e){const t=Ue(r),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((w,S)=>{const R=o.get(S);if(!R)return;d.push(t.Hr.removeMatchingKeys(u,w.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(u,w.addedDocuments,S)));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?L=L.withResumeToken(Dt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(w.resumeToken,s)),o=o.insert(S,L),function(q,$,F){return q.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=nC?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(R,L,w)&&d.push(t.Hr.updateTargetData(u,L))});let g=yi(),v=Be();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),d.push(oC(u,h,e.documentUpdates).next(w=>{g=w.Vs,v=w.fs})),!s.isEqual(Re.min())){const w=t.Hr.getLastRemoteSnapshotVersion(u).next(S=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(w)}return Y.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(t.Ts=o,u))}function oC(r,e,t){let s=Be(),o=Be();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=yi();return t.forEach((d,g)=>{const v=u.get(d);g.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(d)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(d,g.readTime),h=h.insert(d,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(d,g)):he(Gd,"Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",g.version)}),{Vs:h,fs:o}})}function aC(r,e){const t=Ue(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,Y.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new li(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function ld(r,e,t){const s=Ue(r),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Eo(h))throw h;he(Gd,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function rv(r,e,t){const s=Ue(r);let o=Re.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const S=Ue(g),R=S.Is.get(w);return R!==void 0?Y.resolve(S.Ts.get(R)):S.Hr.getTargetData(v,w)}(s,h,ar(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?u:Be())).next(d=>(lC(s,nA(e),d),{documents:d,gs:u})))}function lC(r,e,t){let s=r.Es.get(e)||Re.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class iv{constructor(){this.activeTargetIds=lA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uC{constructor(){this.ho=new iv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new iv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="ConnectivityMonitor";class ov{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(sv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=null;function ud(){return ku===null?ku=function(){return 268435456+Math.round(2147483648*Math.random())}():ku++,"0x"+ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf="RestConnection",hC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Xu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=ud(),d=this.bo(e,t.toUriEncodedString());he(kf,`Sending RPC '${e}' ${h}:`,d,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,d,g,s).then(v=>(he(kf,`Received RPC '${e}' ${h}: `,v),v),v=>{throw uo(kf,`RPC '${e}' ${h} failed with error: `,v,"url: ",d,"request:",s),v})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=hC[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class pC extends fC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=ud();return new Promise((h,d)=>{const g=new j_;g.setWithCredentials(!0),g.listenOnce(U_.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ou.NO_ERROR:const w=g.getResponseJson();he(Ft,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Ou.TIMEOUT:he(Ft,`RPC '${e}' ${u} timed out`),d(new ge(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const S=g.getStatus();if(he(Ft,`RPC '${e}' ${u} failed with status:`,S,"response text:",g.getResponseText()),S>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R==null?void 0:R.error;if(L&&L.status&&L.message){const j=function($){const F=$.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(F)>=0?F:ae.UNKNOWN}(L.status);d(new ge(j,L.message))}else d(new ge(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new ge(ae.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{he(Ft,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);he(Ft,`RPC '${e}' ${u} sending request:`,o),g.send(t,"POST",v,s,15)})}Wo(e,t,s){const o=ud(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=$_(),d=B_(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=u.join("");he(Ft,`Creating RPC '${e}' stream ${o}: ${w}`,g);const S=h.createWebChannel(w,g);let R=!1,L=!1;const j=new dC({Fo:$=>{L?he(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(R||(he(Ft,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),he(Ft,`RPC '${e}' stream ${o} sending:`,$),S.send($))},Mo:()=>S.close()}),q=($,F,Q)=>{$.listen(F,B=>{try{Q(B)}catch(Z){setTimeout(()=>{throw Z},0)}})};return q(S,Ra.EventType.OPEN,()=>{L||(he(Ft,`RPC '${e}' stream ${o} transport opened.`),j.Qo())}),q(S,Ra.EventType.CLOSE,()=>{L||(L=!0,he(Ft,`RPC '${e}' stream ${o} transport closed`),j.Uo())}),q(S,Ra.EventType.ERROR,$=>{L||(L=!0,uo(Ft,`RPC '${e}' stream ${o} transport errored:`,$),j.Uo(new ge(ae.UNAVAILABLE,"The operation could not be completed")))}),q(S,Ra.EventType.MESSAGE,$=>{var F;if(!L){const Q=$.data[0];st(!!Q);const B=Q,Z=(B==null?void 0:B.error)||((F=B[0])===null||F===void 0?void 0:F.error);if(Z){he(Ft,`RPC '${e}' stream ${o} received error:`,Z);const K=Z.status;let re=function(I){const x=dt[I];if(x!==void 0)return _0(x)}(K),C=Z.message;re===void 0&&(re=ae.INTERNAL,C="Unknown error status: "+K+" with message "+Z.message),L=!0,j.Uo(new ge(re,C)),S.close()}else he(Ft,`RPC '${e}' stream ${o} received:`,Q),j.Ko(Q)}}),q(d,z_.STAT_EVENT,$=>{$.stat===Gf.PROXY?he(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Gf.NOPROXY&&he(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r){return new IA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="PersistentStream";class mC{constructor(e,t,s,o,u,h,d,g){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new O0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new ge(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gC extends mC{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=CA(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?ro(h.readTime):Re.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Zy(this.serializer),t.addTarget=function(u,h){let d;const g=h.target;if(d=ed(g)?{documents:RA(u,g)}:{query:PA(u,g).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=T0(u,h.resumeToken);const v=sd(u,h.expectedCount);v!==null&&(d.expectedCount=v)}else if(h.snapshotVersion.compareTo(Re.min())>0){d.readTime=od(u,h.snapshotVersion.toTimestamp());const v=sd(u,h.expectedCount);v!==null&&(d.expectedCount=v)}return d}(this.serializer,e);const s=kA(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Zy(this.serializer),t.removeTarget=e,this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{}class vC extends yC{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,ad(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ae.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,ad(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ge(ae.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _C{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vr(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="RemoteStore";class wC{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ol(this)&&(he(mo,"Restarting streams for network reachability change."),await async function(g){const v=Ue(g);v.W_.add(4),await sl(v),v.j_.set("Unknown"),v.W_.delete(4),await Ac(v)}(this))})}),this.j_=new _C(s,o)}}async function Ac(r){if(ol(r))for(const e of r.G_)await e(!0)}async function sl(r){for(const e of r.G_)await e(!1)}function L0(r,e){const t=Ue(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Zd(t)?Jd(t):So(t).c_()&&Yd(t,e))}function Xd(r,e){const t=Ue(r),s=So(t);t.K_.delete(e),s.c_()&&M0(t,e),t.K_.size===0&&(s.c_()?s.P_():ol(t)&&t.j_.set("Unknown"))}function Yd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}So(r).y_(e)}function M0(r,e){r.H_.Ne(e),So(r).w_(e)}function Jd(r){r.H_=new wA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),So(r).start(),r.j_.B_()}function Zd(r){return ol(r)&&!So(r).u_()&&r.K_.size>0}function ol(r){return Ue(r).W_.size===0}function b0(r){r.H_=void 0}async function EC(r){r.j_.set("Online")}async function TC(r){r.K_.forEach((e,t)=>{Yd(r,e)})}async function SC(r,e){b0(r),Zd(r)?(r.j_.q_(e),Jd(r)):r.j_.set("Unknown")}async function IC(r,e,t){if(r.j_.set("Online"),e instanceof E0&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(r,e)}catch(s){he(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lv(r,s)}else if(e instanceof bu?r.H_.We(e):e instanceof w0?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Re.min()))try{const s=await D0(r.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.K_.get(v);w&&u.K_.set(v,w.withResumeToken(g.resumeToken,h))}}),d.targetMismatches.forEach((g,v)=>{const w=u.K_.get(g);if(!w)return;u.K_.set(g,w.withResumeToken(Dt.EMPTY_BYTE_STRING,w.snapshotVersion)),M0(u,g);const S=new li(w.target,g,v,w.sequenceNumber);Yd(u,S)}),u.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(s){he(mo,"Failed to raise snapshot:",s),await lv(r,s)}}async function lv(r,e,t){if(!Eo(e))throw e;r.W_.add(1),await sl(r),r.j_.set("Offline"),t||(t=()=>D0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(mo,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Ac(r)})}async function uv(r,e){const t=Ue(r);t.asyncQueue.verifyOperationInProgress(),he(mo,"RemoteStore received new credentials");const s=ol(t);t.W_.add(3),await sl(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ac(t)}async function AC(r,e){const t=Ue(r);e?(t.W_.delete(2),await Ac(t)):e||(t.W_.add(2),await sl(t),t.j_.set("Unknown"))}function So(r){return r.J_||(r.J_=function(t,s,o){const u=Ue(t);return u.M_(),new gC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:EC.bind(null,r),No:TC.bind(null,r),Lo:SC.bind(null,r),p_:IC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Zd(r)?Jd(r):r.j_.set("Unknown")):(await r.J_.stop(),b0(r))})),r.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new ep(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F0(r,e){if(Vr("AsyncQueue",`${e}: ${r}`),Eo(r))return new ge(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Pa(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.Z_=new ct(Te.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class go{constructor(e,t,s,o,u,h,d,g,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new go(e,t,io.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class RC{constructor(){this.queries=hv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ue(t),u=o.queries;o.queries=hv(),u.forEach((h,d)=>{for(const g of d.ta)g.onError(s)})})(this,new ge(ae.ABORTED,"Firestore shutting down"))}}function hv(){return new ns(r=>u0(r),_c)}async function PC(r,e){const t=Ue(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new CC,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=F0(h,`Initialization of query '${Ys(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&tp(t)}async function xC(r,e){const t=Ue(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function kC(r,e){const t=Ue(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&tp(t)}function VC(r,e,t){const s=Ue(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function tp(r){r.ia.forEach(e=>{e.next()})}var cd,fv;(fv=cd||(cd={}))._a="default",fv.Cache="cache";class NC{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.key=e}}class U0{constructor(e){this.key=e}}class DC{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=c0(e),this.wa=new io(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new cv,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,S)=>{const R=o.get(w),L=wc(this.query,S)?S:null,j=!!R&&this.mutatedKeys.has(R.key),q=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let $=!1;R&&L?R.data.isEqual(L.data)?j!==q&&(s.track({type:3,doc:L}),$=!0):this.va(R,L)||(s.track({type:2,doc:L}),$=!0,(g&&this.ya(L,g)>0||v&&this.ya(L,v)<0)&&(d=!0)):!R&&L?(s.track({type:0,doc:L}),$=!0):R&&!L&&(s.track({type:1,doc:R}),$=!0,(g||v)&&(d=!0)),$&&(L?(h=h.add(L),u=q?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((w,S)=>function(L,j){const q=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return q(L)-q(j)}(w.type,S.type)||this.ya(w.doc,S.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,v=g!==this.ga;return this.ga=g,h.length!==0||v?{snapshot:new go(this.query,e.wa,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new U0(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new j0(s))}),t}Oa(e){this.fa=e.gs,this.pa=Be();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const np="SyncEngine";class OC{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class LC{constructor(e){this.key=e,this.Ba=!1}}class MC{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ns(d=>u0(d),_c),this.qa=new Map,this.Qa=new Set,this.$a=new ct(Te.comparator),this.Ua=new Map,this.Ka=new Qd,this.Wa={},this.Ga=new Map,this.za=po.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bC(r,e,t=!0){const s=H0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await z0(s,e,t,!0),o}async function FC(r,e){const t=H0(r);await z0(t,e,!0,!1)}async function z0(r,e,t,s){const o=await aC(r.localStore,ar(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await jC(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&L0(r.remoteStore,o),d}async function jC(r,e,t,s,o){r.Ha=(S,R,L)=>async function(q,$,F,Q){let B=$.view.ba(F);B.ls&&(B=await rv(q.localStore,$.query,!1).then(({documents:C})=>$.view.ba(C,B)));const Z=Q&&Q.targetChanges.get($.targetId),K=Q&&Q.targetMismatches.get($.targetId)!=null,re=$.view.applyChanges(B,q.isPrimaryClient,Z,K);return pv(q,$.targetId,re.Ma),re.snapshot}(r,S,R,L);const u=await rv(r.localStore,e,!0),h=new DC(e,u.gs),d=h.ba(u.documents),g=il.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),v=h.applyChanges(d,r.isPrimaryClient,g);pv(r,t,v.Ma);const w=new OC(e,t,h);return r.ka.set(e,w),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),v.snapshot}async function UC(r,e,t){const s=Ue(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!_c(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ld(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Xd(s.remoteStore,o.targetId),hd(s,o.targetId)}).catch(mc)):(hd(s,o.targetId),await ld(s.localStore,o.targetId,!0))}async function zC(r,e){const t=Ue(r),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Xd(t.remoteStore,s.targetId))}async function B0(r,e){const t=Ue(r);try{const s=await sC(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ua.get(u);h&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?st(h.Ba):o.removedDocuments.size>0&&(st(h.Ba),h.Ba=!1))}),await q0(t,s,e)}catch(s){await mc(s)}}function dv(r,e,t){const s=Ue(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const g=Ue(h);g.onlineState=d;let v=!1;g.queries.forEach((w,S)=>{for(const R of S.ta)R.sa(d)&&(v=!0)}),v&&tp(g)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function BC(r,e,t){const s=Ue(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new ct(Te.comparator);h=h.insert(u,Ut.newNoDocument(u,Re.min()));const d=Be().add(u),g=new Sc(Re.min(),new Map,new ct(De),h,d);await B0(s,g),s.$a=s.$a.remove(u),s.Ua.delete(e),rp(s)}else await ld(s.localStore,e,!1).then(()=>hd(s,e,t)).catch(mc)}function hd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||$0(r,s)})}function $0(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Xd(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),rp(r))}function pv(r,e,t){for(const s of t)s instanceof j0?(r.Ka.addReference(s.key,e),$C(r,s)):s instanceof U0?(he(np,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||$0(r,s.key)):xe()}function $C(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(he(np,"New document in limbo: "+t),r.Qa.add(s),rp(r))}function rp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Te(it.fromString(e)),s=r.za.next();r.Ua.set(s,new LC(t)),r.$a=r.$a.insert(t,s),L0(r.remoteStore,new li(ar(a0(t.path)),s,"TargetPurposeLimboResolution",gc.ae))}}async function q0(r,e,t){const s=Ue(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,g)=>{h.push(s.Ha(g,e,t).then(v=>{var w;if((v||t)&&s.isPrimaryClient){const S=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(v){o.push(v);const S=Kd.Yi(g.targetId,v);u.push(S)}}))}),await Promise.all(h),s.La.p_(o),await async function(g,v){const w=Ue(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Y.forEach(v,R=>Y.forEach(R.Hi,L=>w.persistence.referenceDelegate.addReference(S,R.targetId,L)).next(()=>Y.forEach(R.Ji,L=>w.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))}catch(S){if(!Eo(S))throw S;he(Gd,"Failed to update sequence numbers: "+S)}for(const S of v){const R=S.targetId;if(!S.fromCache){const L=w.Ts.get(R),j=L.snapshotVersion,q=L.withLastLimboFreeSnapshotVersion(j);w.Ts=w.Ts.insert(R,q)}}}(s.localStore,u))}async function qC(r,e){const t=Ue(r);if(!t.currentUser.isEqual(e)){he(np,"User change. New user:",e.toKey());const s=await N0(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(g=>{g.reject(new ge(ae.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await q0(t,s.Rs)}}function HC(r,e){const t=Ue(r),s=t.Ua.get(e);if(s&&s.Ba)return Be().add(s.key);{let o=Be();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function H0(r){const e=Ue(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=B0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BC.bind(null,e),e.La.p_=kC.bind(null,e.eventManager),e.La.Ja=VC.bind(null,e.eventManager),e}class rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ic(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return iC(this.persistence,new tC,e.initialUser,this.serializer)}Xa(e){return new V0(Wd.ri,this.serializer)}Za(e){return new uC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rc.provider={build:()=>new rc};class QC extends rc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){st(this.persistence.referenceDelegate instanceof nc);const s=this.persistence.referenceDelegate.garbageCollector;return new UA(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new V0(s=>nc.ri(s,t),this.serializer)}}class fd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qC.bind(null,this.syncEngine),await AC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RC}()}createDatastore(e){const t=Ic(e.databaseInfo.databaseId),s=function(u){return new pC(u)}(e.databaseInfo);return function(u,h,d,g){return new vC(u,h,d,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new wC(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>dv(this.syncEngine,t,0),function(){return ov.D()?new ov:new cC}())}createSyncEngine(e,t){return function(o,u,h,d,g,v,w){const S=new MC(o,u,h,d,g,v);return w&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ue(o);he(mo,"RemoteStore shutting down."),u.W_.add(5),await sl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}fd.provider={build:()=>new fd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="FirestoreClient";class KC{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=jt.UNAUTHENTICATED,this.clientId=CI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(vi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(vi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=F0(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Nf(r,e){r.asyncQueue.verifyOperationInProgress(),he(vi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await N0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function mv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await GC(r);he(vi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>uv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>uv(e.remoteStore,o)),r._onlineComponents=e}async function GC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(vi,"Using user provided OfflineComponentProvider");try{await Nf(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;uo("Error using user provided cache. Falling back to memory cache: "+t),await Nf(r,new rc)}}else he(vi,"Using default OfflineComponentProvider"),await Nf(r,new QC(void 0));return r._offlineComponents}async function XC(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(vi,"Using user provided OnlineComponentProvider"),await mv(r,r._uninitializedComponentsProvider._online)):(he(vi,"Using default OnlineComponentProvider"),await mv(r,new fd))),r._onlineComponents}async function YC(r){const e=await XC(r),t=e.eventManager;return t.onListen=bC.bind(null,e.syncEngine),t.onUnlisten=UC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zC.bind(null,e.syncEngine),t}function JC(r,e,t={}){const s=new Yi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,d,g,v){const w=new WC({next:R=>{w.su(),h.enqueueAndForget(()=>xC(u,S)),R.fromCache&&g.source==="server"?v.reject(new ge(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),S=new NC(d,w,{includeMetadataChanges:!0,Ta:!0});return PC(u,S)}(await YC(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function ZC(r,e,t,s){if(e===!0&&s===!0)throw new ge(ae.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function yv(r){if(Te.isDocumentKey(r))throw new ge(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Cc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe()}function dd(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cc(r);throw new ge(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firestore.googleapis.com",vv=!0;class _v{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W0,this.ssl=vv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:vv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FA)throw new ge(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Q0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ge(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ip{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _v(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _I;switch(s.type){case"firstParty":return new SI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=gv.get(t);s&&(he("ComponentProvider","Removing Datastore"),gv.delete(t),s.terminate())}(this),Promise.resolve()}}function eR(r,e,t,s={}){var o;const u=(r=dd(r,ip))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;u.host!==W0&&u.host!==d&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!Hu(g,h)&&(r._setSettings(g),s.mockUserToken)){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=jt.MOCK_USER;else{v=JT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new jt(S)}r._authCredentials=new wI(new q_(v,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class Nr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class so extends Io{constructor(e,t,s){super(e,t,a0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new Te(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function tR(r,e,...t){if(r=Qu(r),r instanceof ip){const s=it.fromString(e,...t);return yv(s),new so(r,null,s)}{if(!(r instanceof Nr||r instanceof so))throw new ge(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...t));return yv(s),new so(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="AsyncQueue";class Ev{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new O0(this,"async_queue_retry"),this.Su=()=>{const s=Vf();s&&he(wv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Vf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Vf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Yi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Eo(e))throw e;he(wv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw Vr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=ep.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class K0 extends ip{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Ev,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ev(e),this._firestoreClient=void 0,await e}}}function nR(r,e){const t=typeof r=="object"?r:lI(),s=typeof r=="string"?r:Xu,o=rI(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XT("firestore");u&&eR(o,...u)}return o}function rR(r){if(r._terminated)throw new ge(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iR(r),r._firestoreClient}function iR(r){var e,t,s;const o=r._freezeSettings(),u=function(d,g,v,w){return new UI(d,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Q0(w.experimentalLongPollingOptions),w.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new KC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const g=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(Dt.fromBase64String(e))}catch(t){throw new ge(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yo(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=/^__.*__$/;function Y0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class ap{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ap(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return pd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Y0(this.Lu)&&sR.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class oR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ic(e)}ju(e,t,s,o=!1){return new ap({Lu:e,methodName:t,zu:s,path:zt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aR(r){const e=r._freezeSettings(),t=Ic(r._databaseId);return new oR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function lR(r,e,t,s=!1){return lp(t,r.ju(s?4:3,e))}function lp(r,e){if(J0(r=Qu(r)))return cR("Unsupported field value:",e,r),uR(r,e);if(r instanceof X0)return function(s,o){if(!Y0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let g=lp(d,o.Ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Qu(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:od(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:od(o.serializer,u)}}if(s instanceof sp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yo)return{bytesValue:T0(o.serializer,s._byteString)};if(s instanceof Nr){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:S0(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof op)return function(h,d){return{mapValue:{fields:{[Z_]:{stringValue:e0},[Yu]:{arrayValue:{values:h.toArray().map(v=>{if(typeof v!="number")throw d.Wu("VectorValues must only contain numeric values.");return Bd(d.serializer,v)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Cc(s)}`)}(r,e)}function uR(r,e){const t={};return W_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(r,(s,o)=>{const u=lp(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function J0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof sp||r instanceof yo||r instanceof Nr||r instanceof X0||r instanceof op)}function cR(r,e,t){if(!J0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Cc(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}const hR=new RegExp("[~\\*/\\[\\]]");function fR(r,e,t){if(e.search(hR)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new G0(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function pd(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ge(ae.INVALID_ARGUMENT,d+r+g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(up("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dR extends Z0{data(){return super.data()}}function up(r,e){return typeof e=="string"?fR(r,e):e instanceof G0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cp{}class mR extends cp{}function gR(r,e,...t){let s=[];e instanceof cp&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof hp).length,d=u.filter(g=>g instanceof Rc).length;if(h>1||h>0&&d>0)throw new ge(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Rc extends mR{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Rc(e,t,s)}_apply(e){const t=this._parse(e);return ew(e._query,t),new Io(e.firestore,e.converter,td(e._query,t))}_parse(e){const t=aR(e.firestore);return function(u,h,d,g,v,w,S){let R;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Iv(S,w);const j=[];for(const q of S)j.push(Sv(g,u,q));R={arrayValue:{values:j}}}else R=Sv(g,u,S)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Iv(S,w),R=lR(d,h,S,w==="in"||w==="not-in");return pt.create(v,w,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Tv(r,e,t){const s=e,o=up("where",r);return Rc._create(o,s,t)}class hp extends cp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const g of d)ew(h,g),h=td(h,g)}(e._query,t),new Io(e.firestore,e.converter,td(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sv(r,e,t){if(typeof(t=Qu(t))=="string"){if(t==="")throw new ge(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l0(e)&&t.indexOf("/")!==-1)throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(it.fromString(t));if(!Te.isDocumentKey(s))throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Fy(r,new Te(s))}if(t instanceof Nr)return Fy(r,t._key);throw new ge(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cc(t)}.`)}function Iv(r,e){if(!Array.isArray(r)||r.length===0)throw new ge(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ew(r,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yR{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return To(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Yu].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ut(h.doubleValue));return new op(u)}convertGeoPoint(e){return new sp(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=vc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){const t=pi(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=it.fromString(e);st(x0(s));const o=new Ja(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(t)||Vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vR extends Z0{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(up("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Fu extends vR{data(e={}){return super.data(e)}}class _R{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Vu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Fu(this._firestore,this._userDataWriter,s.key,s,new Vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const g=new Fu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Vu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const g=new Fu(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Vu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return d.type!==0&&(v=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),w=h.indexOf(d.doc.key)),{type:wR(d.type),doc:g,oldIndex:v,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class ER extends yR{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}function TR(r){r=dd(r,Io);const e=dd(r.firestore,K0),t=rR(e),s=new ER(e);return pR(r._query),JC(t,r._query).then(o=>new _R(e,s,r,o))}(function(e,t=!0){(function(o){wo=o})(aI),Ku(new Ka("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new K0(new EI(s.getProvider("auth-internal")),new II(h,s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ge(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(v.options.projectId,w)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),no(Cy,Ry,e),no(Cy,Ry,"esm2017")})();var SR="firebase",IR="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */no(SR,IR,"app");const AR={apiKey:"AIzaSyAH5ILYVqGb47wQdfsqoZIKQoO11ApBKCk",authDomain:"samurai-7810a.firebaseapp.com",projectId:"samurai-7810a",storageBucket:"samurai-7810a.firebasestorage.app",messagingSenderId:"423442405651",appId:"1:423442405651:web:7f286724f1e29d3b3222e6",measurementId:"G-MMK1ES0JSM"},CR=L_(AR),RR=nR(CR),PR=()=>{const[r,e]=Ee.useState(""),[t,s]=Ee.useState([]),o=async()=>{if(r.trim())try{const u=gR(tR(RR,"products"),Tv("name",">=",r),Tv("name","<=",r+"")),h=await TR(u),d=[];h.forEach(g=>{d.push({id:g.id,...g.data()})}),s(d)}catch(u){console.error("Error searching Firestore:",u)}};return X.jsxs("div",{className:"search-wrapper",children:[X.jsxs("div",{className:"search-bar",children:[X.jsx("button",{onClick:o,className:"search-button",children:"Search"}),X.jsx("input",{type:"text",placeholder:"Search product",value:r,onChange:u=>e(u.target.value),className:"search-input"})]}),X.jsx("ul",{className:"search-results",children:t.map(u=>X.jsx("li",{children:u.name},u.id))})]})};function xR(){const r="Scroll • Scroll • ";return X.jsxs(X.Fragment,{children:[X.jsx("main",{children:[1,2,3].map(e=>X.jsx("section",{children:X.jsx("img",{src:"/knife1.jpg"})},e))}),X.jsx("div",{className:"ring-wrapper",children:X.jsxs("div",{className:"ring",children:[r.split("").map((e,t)=>X.jsx("span",{className:"char",style:{"--char-index":t},children:e},t)),X.jsx("span",{className:"sr-only",children:r})]})})]})}function kR(){return X.jsx(KE,{children:X.jsxs("div",{className:"container",children:[X.jsx(jT,{}),X.jsxs("nav",{className:"navbar",children:[X.jsx("button",{className:"nav-btn",children:X.jsx(Aa,{to:"/",children:"Home"})}),X.jsx("button",{className:"nav-btn",children:X.jsx(Aa,{to:"/shop",children:"Shop"})}),X.jsx("button",{className:"nav-btn",children:X.jsx(Aa,{to:"/LoginSingup",children:"Login & Sign Up"})}),X.jsx("button",{className:"nav-btn",children:X.jsx(Aa,{to:"/contact",children:"Contact Us"})}),X.jsx(PR,{className:"search-nav",children:" "})]}),X.jsxs(WE,{children:[X.jsx(Iu,{path:"/",exact:!0,component:LT}),X.jsx(Iu,{path:"/shop",component:MT}),X.jsx(Iu,{path:"/contact",component:bT}),X.jsx(Iu,{path:"/LoginSingup",component:FT})]}),X.jsx(xR,{})]})})}hE.createRoot(document.getElementById("root")).render(X.jsx(Ee.StrictMode,{children:X.jsx(kR,{})}));
